TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE    1

        1                   ;******************************************************************************
        2                   ;* TMS320C3x/4x ANSI C Code Generator                            Version 5.11 *
        3                   ;* Date/Time created: Mon Oct 31 11:29:48 2011                                *
        4                   ;******************************************************************************
        5                           .regalias       ; enable floating point register aliases
        6          0000000b fp      .set    ar3
        7          0000000b FP      .set    ar3
        8                   ;******************************************************************************
        9                   ;* GLOBAL FILE PARAMETERS                                                     *
       10                   ;*                                                                            *
       11                   ;*   Optimization       : Always Choose Smaller Code Size                     *
       12                   ;*   Memory             : Big Memory Model                                    *
       13                   ;*   Float-to-Int       : Normal Conversions (round toward zero)              *
       14                   ;*   Multiply           : in Software (32 bits)                               *
       15                   ;*   Memory Info        : Unmapped Memory Exists                              *
       16                   ;*   Repeat Loops       : Use RPTS and/or RPTB                                *
       17                   ;*   Calls              : Normal Library ASM calls                            *
       18                   ;*   Debug Info         : Standard TI Debug Information                       *
       19                   ;******************************************************************************
       20                   ;       C:\tic3x4x\c3x4x\cgtools\bin\ac30.exe -@_4KO.AAA 
       21                           .file   "serial.c"
       22                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\ETC.H"
       23                           .sym    _BOOL,0,14,13,32
       24                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\BUFFER.H"
       25                           .stag   .fake0,131744
       26                           .member _head,0,4,8,32
       27                           .member _tail,32,4,8,32
       28                           .member _n,64,4,8,32
       29                           .member _CRC16,96,14,8,32
       30                           .member _buff,128,62,8,131584,,4112
       31                           .member _locked,131712,14,8,32
       32                           .eos
       33                           .sym    _BFR,0,8,13,131744,.fake0
       34                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\FLASH.H"
       35                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\SERIAL.H"
       36                           .stag   .fake1,263936
       37                           .member _STAT,0,12,8,32
       38                           .member _TMR_Network_WDOG,32,14,8,32
       39                           .member _TMR_EOT_Delay,64,14,8,32
       40                           .member _TMR_Preamble_Delay,96,14,8,32
       41                           .member _TMR_Suffix_Delay,128,14,8,32
       42                           .member _TMR_Char,160,14,8,32
       43                           .member _TMR_enabled,192,14,8,32
       44                           .member _tvector,224,20,8,32
       45                           .member _pvector,256,20,8,32
       46                           .member _i,288,14,8,32
       47                           .member _func,320,14,8,32
       48                           .member _Slave_ID,352,14,8,32
       49                           .member _TXbuf,384,8,8,131744,.fake0
       50                           .member _TX_complete,132128,14,8,32
       51                           .member _RXbuf,132160,8,8,131744,.fake0
       52                           .member _RX_pending,263904,14,8,32
       53                           .eos
       54                           .sym    _PORTV,0,8,13,263936,.fake1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE    2

       55                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\MODBUSRTU.H"
       56                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\I2C.H"
       57                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\GLBLS.H"
       58                           .file   "serial.c"
       59 00000000                  .sect    ".text"
       60                   
       61                           .global _Setup_UART
       62                           .sym    _Setup_UART,_Setup_UART,36,2,0
       63                           .func   14
       64                   ;******************************************************************************
       65                   ;* FUNCTION NAME: _Setup_UART                                                 *
       66                   ;*                                                                            *
       67                   ;*   Architecture       : TMS320C33                                           *
       68                   ;*   Calling Convention : TI Standard Register Parameters                     *
       69                   ;*   Function Uses Regs : f0,r0,f1,r1,f2,ar0,ar1,ar2,ir0,st                   *
       70                   ;*   Regs Saved         :                                                     *
       71                   ;*   Stack Frame        : Full (w/ debug)                                     *
       72                   ;*   Total Frame Size   : 2 Call + 0 Parm + 6 Auto + 0 SOE = 8 words          *
       73                   ;******************************************************************************
       74 00000000          _Setup_UART:
       75                   ;* ar2   assigned to _baud
       76                           .sym    _baud,10,4,17,32
       77                           .sym    _baud,1,4,1,32
       78                           .sym    _div,2,4,1,32
       79                           .sym    _n,3,7,1,32
       80                           .sym    _temp,4,7,1,32
       81                           .sym    _u,5,12,1,32
       82                           .sym    _id,6,4,1,32
       83                           .line   1
       84                   ;----------------------------------------------------------------------
       85                   ;  14 | int Setup_UART(int baud)                                               
       86                   ;----------------------------------------------------------------------
       87 00000000 0f2b0000         push      fp
       88 00000001 500b0014         ldiu      sp,fp
       89 00000002 02740006         addi      6,sp
       90                           .line   2
       91                   ;----------------------------------------------------------------------
       92                   ;  16 | int     div;                                                           
       93                   ;  17 | double n;                                                              
       94                   ;  18 | double temp;                                                           
       95                   ;  19 | unsigned char u;                                                       
       96                   ;  20 | int id;                                                                
       97                   ;----------------------------------------------------------------------
       98 00000003 154a0301         sti       ar2,*+fp(1)           ; |15| 
       99                           .line   9
      100                   ;----------------------------------------------------------------------
      101                   ;  22 | _GIEP;                                                                 
      102                   ;----------------------------------------------------------------------
      103 00000004 0f350000         push    ST                      
      104 00000005 03752000         andn    2000h, ST       
      105                           .line   11
      106                   ;----------------------------------------------------------------------
      107                   ;  24 | n = (double)11.0;                                                      
      108                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE    3

      109 00000006 40603300         ldfu      1.1000000000e+01,f0   ; |24| 
      110 00000007 14400303         stf       f0,*+fp(3)            ; |24| 
      111                           .line   13
      112                   ;----------------------------------------------------------------------
      113                   ;  26 | for (id=0;id<UART_MAX;id++)                                            
      114                   ;----------------------------------------------------------------------
      115 00000008 50600000         ldiu      0,r0                  ; |26| 
      116 00000009 15400306         sti       r0,*+fp(6)            ; |26| 
      117 0000000a 04e00008         cmpi      8,r0                  ; |26| 
      118 0000000b 6a0a004c         bge       L15                   ; |26| 
      119                   ;*      Branch Occurs to L15            ; |26| 
      120 0000000c          L2:        
      121                           .line   16
      122                   ;----------------------------------------------------------------------
      123                   ;  29 | NOPS; UART[id][IER] = 0x00;             /* disable interrupts */       
      124                   ;----------------------------------------------------------------------
      125 0000000c 0c800000         NOP                     
      126 0000000d 0c800000         NOP                     
      127 0000000e 0c800000         NOP                     
      128 0000000f 50510306         ldiu      *+fp(6),ir0           ; |29| 
      129 00000010 08700000-        ldp       @CL1,DP
      130 00000011 03f10004         ash       4,ir0                 ; |29| 
      131 00000012 50282038-        ldiu      @CL1,ar0              ; |29| 
      132 00000013 50600000         ldiu      0,r0                  ; |29| 
      133 00000014 15404000         sti       r0,*+ar0(ir0)         ; |29| 
      134                           .line   17
      135                   ;----------------------------------------------------------------------
      136                   ;  30 | NOPS; UART[id][MCR] = 0x08;             /* enable the INT pin (remove f
      137                   ;     | rom 3-state) */                                                        
      138                   ;----------------------------------------------------------------------
      139 00000015 0c800000         NOP                     
      140 00000016 0c800000         NOP                     
      141 00000017 0c800000         NOP                     
      142 00000018 08700000-        ldp       @CL2,DP
      143 00000019 50510306         ldiu      *+fp(6),ir0           ; |30| 
      144 0000001a 50282039-        ldiu      @CL2,ar0              ; |30| 
      145 0000001b 03f10004         ash       4,ir0                 ; |30| 
      146 0000001c 50600008         ldiu      8,r0                  ; |30| 
      147 0000001d 15404000         sti       r0,*+ar0(ir0)         ; |30| 
      148                           .line   19
      149                   ;----------------------------------------------------------------------
      150                   ;  32 | if (HW_VER&0x80)                                                       
      151                   ;  34 |         switch (id)                                                    
      152                   ;----------------------------------------------------------------------
      153 0000001e 08700000-        ldp       @CL3,DP
      154 0000001f 5028203a-        ldiu      @CL3,ar0              ; |32| 
      155 00000020 50600080         ldiu      128,r0                ; |32| 
      156 00000021 27c000c0         tstb3     *ar0,r0               ; |32| 
      157 00000022 6a050019         beq       L11                   ; |32| 
      158                   ;*      Branch Occurs to L11            ; |32| 
      159 00000023 6a000012         bu        L7                    ; |13| 
      160                   ;*      Branch Occurs to L7             ; |13| 
      161 00000024          L4:        
      162                           .line   23
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE    4

      163                   ;----------------------------------------------------------------------
      164                   ;  36 | case 0: DISABLE_TXA; break;                                            
      165                   ;----------------------------------------------------------------------
      166 00000024 0f350000         push    ST                      
      167 00000025 03752000         andn    2000h, ST       
      168 00000026 08700000-        ldp       @CL4,DP
      169 00000027 5028203b-        ldiu      @CL4,ar0              ; |36| 
      170 00000028 50600008         ldiu      8,r0                  ; |36| 
      171 00000029 25a0c000         or3       r0,*ar0,r0            ; |36| 
      172 0000002a 1540c000         sti       r0,*ar0               ; |36| 
      173 0000002b 0e350000         pop             ST                      
      174 0000002c 6a000026         bu        L14                   ; |36| 
      175                   ;*      Branch Occurs to L14            ; |36| 
      176 0000002d          L5:        
      177                           .line   24
      178                   ;----------------------------------------------------------------------
      179                   ;  37 | case 1: DISABLE_TXB; break;                                            
      180                   ;  40 | else                                                                   
      181                   ;----------------------------------------------------------------------
      182 0000002d 0f350000         push    ST                      
      183 0000002e 03752000         andn    2000h, ST       
      184 0000002f 08700000-        ldp       @CL4,DP
      185 00000030 5028203b-        ldiu      @CL4,ar0              ; |37| 
      186 00000031 50600001         ldiu      1,r0                  ; |37| 
      187 00000032 25a0c000         or3       r0,*ar0,r0            ; |37| 
      188 00000033 1540c000         sti       r0,*ar0               ; |37| 
      189 00000034 0e350000         pop             ST                      
      190 00000035 6a00001d         bu        L14                   ; |37| 
      191                   ;*      Branch Occurs to L14            ; |37| 
      192 00000036          L7:        
      193                           .line   21
      194 00000036 50400306         ldiu      *+fp(6),r0            ; |34| 
      195 00000037 04e00000         cmpi      0,r0                  ; |34| 
      196 00000038 6a05ffeb         beq       L4                    ; |34| 
      197                   ;*      Branch Occurs to L4             ; |34| 
      198 00000039 04e00001         cmpi      1,r0                  ; |34| 
      199 0000003a 6a05fff2         beq       L5                    ; |34| 
      200                   ;*      Branch Occurs to L5             ; |34| 
      201 0000003b 6a000017         bu        L14                   ; |34| 
      202                   ;*      Branch Occurs to L14            ; |34| 
      203 0000003c          L11:        
      204                           .line   29
      205                   ;----------------------------------------------------------------------
      206                   ;  42 | if (id==4)                                                             
      207                   ;----------------------------------------------------------------------
      208 0000003c 50400306         ldiu      *+fp(6),r0            ; |42| 
      209 0000003d 04e00004         cmpi      4,r0                  ; |42| 
      210 0000003e 6a06000a         bne       L13                   ; |42| 
      211                   ;*      Branch Occurs to L13            ; |42| 
      212                           .line   31
      213                   ;----------------------------------------------------------------------
      214                   ;  44 | NOPS; UART[id][LCR] |= 0x40;            /* set break */                
      215                   ;----------------------------------------------------------------------
      216 0000003f 0c800000         NOP                     
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE    5

      217 00000040 0c800000         NOP                     
      218 00000041 0c800000         NOP                     
      219 00000042 50080000         ldiu      r0,ar0
      220 00000043 08700000-        ldp       @CL5,DP
      221 00000044 03e80004         ash       4,ar0                 ; |44| 
      222 00000045 0228203c-        addi      @CL5,ar0              ; |44| Unsigned
      223 00000046 50600040         ldiu      64,r0                 ; |44| 
      224 00000047 10400003         or        *+ar0(3),r0           ; |44| 
      225 00000048 15400003         sti       r0,*+ar0(3)           ; |44| 
      226 00000049          L13:        
      227                           .line   34
      228                   ;----------------------------------------------------------------------
      229                   ;  47 | NOPS; UART[id][MCR] &= 0xFE;                    /* disable TX */       
      230                   ;----------------------------------------------------------------------
      231 00000049 0c800000         NOP                     
      232 0000004a 0c800000         NOP                     
      233 0000004b 0c800000         NOP                     
      234 0000004c 50480306         ldiu      *+fp(6),ar0           ; |47| 
      235 0000004d 08700000-        ldp       @CL5,DP
      236 0000004e 03e80004         ash       4,ar0                 ; |47| 
      237 0000004f 0228203c-        addi      @CL5,ar0              ; |47| Unsigned
      238 00000050 506000fe         ldiu      254,r0                ; |47| 
      239 00000051 02c00004         and       *+ar0(4),r0           ; |47| 
      240 00000052 15400004         sti       r0,*+ar0(4)           ; |47| 
      241 00000053          L14:        
      242                           .line   13
      243 00000053 50600001         ldiu      1,r0                  ; |26| 
      244 00000054 02400306         addi      *+fp(6),r0            ; |26| 
      245 00000055 15400306         sti       r0,*+fp(6)            ; |26| 
      246 00000056 04e00008         cmpi      8,r0                  ; |26| 
      247 00000057 6a07ffb4         blt       L2                    ; |26| 
      248                   ;*      Branch Occurs to L2             ; |26| 
      249 00000058          L15:        
      250                           .line   38
      251                   ;----------------------------------------------------------------------
      252                   ;  51 | if (HW_VER&0x80)                                                       
      253                   ;----------------------------------------------------------------------
      254 00000058 08700000-        ldp       @CL3,DP
      255 00000059 5028203a-        ldiu      @CL3,ar0              ; |51| 
      256 0000005a 50600080         ldiu      128,r0                ; |51| 
      257 0000005b 27c000c0         tstb3     *ar0,r0               ; |51| 
      258 0000005c 6a050005         beq       L17                   ; |51| 
      259                   ;*      Branch Occurs to L17            ; |51| 
      260                           .line   40
      261                   ;----------------------------------------------------------------------
      262                   ;  53 | BOOTPORT = 1;                                                          
      263                   ;  55 | else                                                                   
      264                   ;----------------------------------------------------------------------
      265 0000005d 08700000-        ldp       @CL6,DP
      266 0000005e 5028203d-        ldiu      @CL6,ar0              ; |53| 
      267 0000005f 50600001         ldiu      1,r0                  ; |53| 
      268 00000060 1540c000         sti       r0,*ar0               ; |53| 
      269 00000061 6a000036         bu        L20                   ; |13| 
      270                   ;*      Branch Occurs to L20            ; |13| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE    6

      271 00000062          L17:        
      272                           .line   44
      273                   ;----------------------------------------------------------------------
      274                   ;  57 | BOOTPORT = 7;                                                          
      275                   ;----------------------------------------------------------------------
      276 00000062 08700000-        ldp       @CL6,DP
      277 00000063 5028203d-        ldiu      @CL6,ar0              ; |57| 
      278 00000064 50600007         ldiu      7,r0                  ; |57| 
      279 00000065 1540c000         sti       r0,*ar0               ; |57| 
      280                           .line   45
      281                   ;----------------------------------------------------------------------
      282                   ;  58 | NOPS;                                                                  
      283                   ;----------------------------------------------------------------------
      284 00000066 0c800000         NOP                     
      285 00000067 0c800000         NOP                     
      286 00000068 0c800000         NOP                     
      287                           .line   46
      288                   ;----------------------------------------------------------------------
      289                   ;  59 | UART[BOOTPORT][SPR] = 0xAA;                                            
      290                   ;----------------------------------------------------------------------
      291 00000069 5029203d-        ldiu      @CL6,ar1              ; |59| 
      292 0000006a 08700000-        ldp       @CL7,DP
      293 0000006b 50600004         ldiu      4,r0                  ; |59| 
      294 0000006c 5028203e-        ldiu      @CL7,ar0              ; |59| 
      295 0000006d 22b1c100         ash3      r0,*ar1,ir0           ; |59| 
      296 0000006e 506000aa         ldiu      170,r0                ; |59| 
      297 0000006f 15404000         sti       r0,*+ar0(ir0)         ; |59| 
      298                           .line   47
      299                   ;----------------------------------------------------------------------
      300                   ;  60 | NOPS;                                                                  
      301                   ;----------------------------------------------------------------------
      302 00000070 0c800000         NOP                     
      303 00000071 0c800000         NOP                     
      304 00000072 0c800000         NOP                     
      305                           .line   48
      306                   ;----------------------------------------------------------------------
      307                   ;  61 | UART[BOOTPORT][SPR+1] = 0xFF; /* this write will affect the bus-keepers
      308                   ;     |  */                                                                    
      309                   ;----------------------------------------------------------------------
      310 00000073 08700000-        ldp       @CL6,DP
      311 00000074 5029203d-        ldiu      @CL6,ar1              ; |61| 
      312 00000075 08700000-        ldp       @CL8,DP
      313 00000076 50600004         ldiu      4,r0                  ; |61| 
      314 00000077 5028203f-        ldiu      @CL8,ar0              ; |61| 
      315 00000078 22b1c100         ash3      r0,*ar1,ir0           ; |61| 
      316 00000079 506000ff         ldiu      255,r0                ; |61| 
      317 0000007a 15404000         sti       r0,*+ar0(ir0)         ; |61| 
      318                           .line   49
      319                   ;----------------------------------------------------------------------
      320                   ;  62 | NOPS;                                                                  
      321                   ;----------------------------------------------------------------------
      322 0000007b 0c800000         NOP                     
      323 0000007c 0c800000         NOP                     
      324 0000007d 0c800000         NOP                     
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE    7

      325                           .line   50
      326                   ;----------------------------------------------------------------------
      327                   ;  63 | u = UART[BOOTPORT][SPR] & 0xFF;                                        
      328                   ;----------------------------------------------------------------------
      329 0000007e 08700000-        ldp       @CL6,DP
      330 0000007f 5029203d-        ldiu      @CL6,ar1              ; |63| 
      331 00000080 08700000-        ldp       @CL7,DP
      332 00000081 50600004         ldiu      4,r0                  ; |63| 
      333 00000082 5028203e-        ldiu      @CL7,ar0              ; |63| 
      334 00000083 22b1c100         ash3      r0,*ar1,ir0           ; |63| 
      335 00000084 506000ff         ldiu      255,r0                ; |63| 
      336 00000085 21a04000         and3      r0,*+ar0(ir0),r0      ; |63| 
      337 00000086 15400305         sti       r0,*+fp(5)            ; |63| 
      338                           .line   51
      339                   ;----------------------------------------------------------------------
      340                   ;  64 | if (u!=0xAA)                                                           
      341                   ;----------------------------------------------------------------------
      342 00000087 04e000aa         cmpi      170,r0                ; |64| 
      343 00000088 6a050004         beq       L19                   ; |64| 
      344                   ;*      Branch Occurs to L19            ; |64| 
      345                           .line   53
      346                   ;----------------------------------------------------------------------
      347                   ;  66 | BOOTPORT = 0;                                                          
      348                   ;----------------------------------------------------------------------
      349 00000089 08700000-        ldp       @CL6,DP
      350 0000008a 5028203d-        ldiu      @CL6,ar0              ; |66| 
      351 0000008b 50600000         ldiu      0,r0                  ; |66| 
      352 0000008c 1540c000         sti       r0,*ar0               ; |66| 
      353 0000008d          L19:        
      354                           .line   55
      355                   ;----------------------------------------------------------------------
      356                   ;  68 | NOPS;                                                                  
      357                   ;----------------------------------------------------------------------
      358 0000008d 0c800000         NOP                     
      359 0000008e 0c800000         NOP                     
      360 0000008f 0c800000         NOP                     
      361                           .line   56
      362                   ;----------------------------------------------------------------------
      363                   ;  69 | UART[BOOTPORT][SPR] = 0x00;                                            
      364                   ;----------------------------------------------------------------------
      365 00000090 08700000-        ldp       @CL6,DP
      366 00000091 50600004         ldiu      4,r0                  ; |69| 
      367 00000092 5029203d-        ldiu      @CL6,ar1              ; |69| 
      368 00000093 08700000-        ldp       @CL7,DP
      369 00000094 22b1c100         ash3      r0,*ar1,ir0           ; |69| 
      370 00000095 5028203e-        ldiu      @CL7,ar0              ; |69| 
      371 00000096 50600000         ldiu      0,r0                  ; |69| 
      372 00000097 15404000         sti       r0,*+ar0(ir0)         ; |69| 
      373 00000098          L20:        
      374                           .line   59
      375                   ;----------------------------------------------------------------------
      376                   ;  72 | NOPS;                                                                  
      377                   ;----------------------------------------------------------------------
      378 00000098 0c800000         NOP                     
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE    8

      379 00000099 0c800000         NOP                     
      380 0000009a 0c800000         NOP                     
      381                           .line   60
      382                   ;----------------------------------------------------------------------
      383                   ;  73 | UART[BOOTPORT][LCR] = 0x00;                                            
      384                   ;----------------------------------------------------------------------
      385 0000009b 08700000-        ldp       @CL6,DP
      386 0000009c 50600004         ldiu      4,r0                  ; |73| 
      387 0000009d 5029203d-        ldiu      @CL6,ar1              ; |73| 
      388 0000009e 08700000-        ldp       @CL9,DP
      389 0000009f 22b1c100         ash3      r0,*ar1,ir0           ; |73| 
      390 000000a0 50282040-        ldiu      @CL9,ar0              ; |73| 
      391 000000a1 50600000         ldiu      0,r0                  ; |73| 
      392 000000a2 15404000         sti       r0,*+ar0(ir0)         ; |73| 
      393                           .line   62
      394                   ;----------------------------------------------------------------------
      395                   ;  75 | NOPS;                                                                  
      396                   ;----------------------------------------------------------------------
      397 000000a3 0c800000         NOP                     
      398 000000a4 0c800000         NOP                     
      399 000000a5 0c800000         NOP                     
      400                           .line   63
      401                   ;----------------------------------------------------------------------
      402                   ;  76 | UART[BOOTPORT][LCR] |= 0x03;                                           
      403                   ;----------------------------------------------------------------------
      404 000000a6 08700000-        ldp       @CL6,DP
      405 000000a7 5028203d-        ldiu      @CL6,ar0              ; |76| 
      406 000000a8 50600004         ldiu      4,r0                  ; |76| 
      407 000000a9 08700000-        ldp       @CL5,DP
      408 000000aa 22a8c000         ash3      r0,*ar0,ar0           ; |76| 
      409 000000ab 0228203c-        addi      @CL5,ar0              ; |76| Unsigned
      410 000000ac 50600003         ldiu      3,r0                  ; |76| 
      411 000000ad 10400003         or        *+ar0(3),r0           ; |76| 
      412 000000ae 15400003         sti       r0,*+ar0(3)           ; |76| 
      413                           .line   65
      414                   ;----------------------------------------------------------------------
      415                   ;  78 | NOPS;                                                                  
      416                   ;----------------------------------------------------------------------
      417 000000af 0c800000         NOP                     
      418 000000b0 0c800000         NOP                     
      419 000000b1 0c800000         NOP                     
      420                           .line   66
      421                   ;----------------------------------------------------------------------
      422                   ;  79 | UART[BOOTPORT][LCR] |= 0x08;                                           
      423                   ;----------------------------------------------------------------------
      424 000000b2 08700000-        ldp       @CL6,DP
      425 000000b3 5028203d-        ldiu      @CL6,ar0              ; |79| 
      426 000000b4 50600004         ldiu      4,r0                  ; |79| 
      427 000000b5 08700000-        ldp       @CL5,DP
      428 000000b6 22a8c000         ash3      r0,*ar0,ar0           ; |79| 
      429 000000b7 0228203c-        addi      @CL5,ar0              ; |79| Unsigned
      430 000000b8 50600008         ldiu      8,r0                  ; |79| 
      431 000000b9 10400003         or        *+ar0(3),r0           ; |79| 
      432 000000ba 15400003         sti       r0,*+ar0(3)           ; |79| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE    9

      433                           .line   68
      434                   ;----------------------------------------------------------------------
      435                   ;  81 | temp = (UART_CLOCK/baud/16.0);                                         
      436                   ;----------------------------------------------------------------------
      437 000000bb 08700000-        ldp       @CL10,DP
      438 000000bc 50282041-        ldiu      @CL10,ar0             ; |81| 
      439 000000bd 08700000-        ldp       @CL11,DP
      440 000000be 05c0c000         float     *ar0,f0               ; |81| 
      441 000000bf 43a12042-        ldflt     @CL11,f1              ; |81| 
      442 000000c0 45618000         ldfge     0.0000000000e+00,f1   ; |81| 
      443 000000c1 08700000-        ldp       @CL12,DP
      444 000000c2 20800100         addf3     f0,f1,f0              ; |81| 
      445 000000c3 0a202043-        mpyf      @CL12,f0              ; |81| 
      446 000000c4 05c10301         float     *+fp(1),f1            ; |81| 
      447 000000c5 62000000!        call      DIV_F30               ; |81| 
      448                                                           ; |81| Call Occurs
      449 000000c6 08700000-        ldp       @CL13,DP
      450 000000c7 0a202044-        mpyf      @CL13,f0              ; |81| 
      451 000000c8 14400304         stf       f0,*+fp(4)            ; |81| 
      452                           .line   69
      453                   ;----------------------------------------------------------------------
      454                   ;  82 | div = f_ciel(temp);                                                    
      455                   ;----------------------------------------------------------------------
      456 000000c9 08700000-        ldp       @CL14,DP
      457 000000ca 40020000         ldfu      f0,f2
      458 000000cb 50202045-        ldiu      @CL14,r0              ; |82| 
      459 000000cc 70000000         callu     r0                    ; far call to _f_ciel   ; |82| 
      460                                                           ; |82| Far Call Occurs
      461 000000cd 40010000         ldfu      f0,f1                 ; |82| 
      462 000000ce 0b800001         negf      f1,f0                 ; |82| 
      463 000000cf 05010001         fix       f1,r1                 ; |82| 
      464 000000d0 05000000         fix       f0,r0                 ; |82| 
      465 000000d1 0c000000         negi      r0,r0                 ; |82| 
      466 000000d2 54010000         ldile     r0,r1                 ; |82| 
      467 000000d3 15410302         sti       r1,*+fp(2)            ; |82| 
      468                           .line   74
      469                   ;----------------------------------------------------------------------
      470                   ;  87 | Set_Baud(div);                                                         
      471                   ;----------------------------------------------------------------------
      472 000000d4 08700000-        ldp       @CL15,DP
      473 000000d5 500a0001         ldiu      r1,ar2
      474 000000d6 50202046-        ldiu      @CL15,r0              ; |87| 
      475 000000d7 70000000         callu     r0                    ; far call to _Set_Baud ; |87| 
      476                                                           ; |87| Far Call Occurs
      477                           .line   76
      478                   ;----------------------------------------------------------------------
      479                   ;  89 | Clear_RX();                                                            
      480                   ;----------------------------------------------------------------------
      481 000000d8 08700000-        ldp       @CL16,DP
      482 000000d9 50202047-        ldiu      @CL16,r0              ; |89| 
      483 000000da 70000000         callu     r0                    ; far call to _Clear_RX ; |89| 
      484                                                           ; |89| Far Call Occurs
      485                           .line   77
      486                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   10

      487                   ;  90 | Clear(&PORT.TXbuf);                                                    
      488                   ;----------------------------------------------------------------------
      489 000000db 08700000-        ldp       @CL18,DP
      490 000000dc 50202049-        ldiu      @CL18,r0              ; |90| 
      491 000000dd 08700000-        ldp       @CL17,DP
      492 000000de 502a2048-        ldiu      @CL17,ar2             ; |90| 
      493 000000df 70000000         callu     r0                    ; far call to _Clear    ; |90| 
      494                                                           ; |90| Far Call Occurs
      495                           .line   78
      496                   ;----------------------------------------------------------------------
      497                   ;  91 | PORT.TX_complete = TRUE;                                               
      498                   ;----------------------------------------------------------------------
      499 000000e0 08700000-        ldp       @CL19,DP
      500 000000e1 5028204a-        ldiu      @CL19,ar0             ; |91| 
      501 000000e2 50600001         ldiu      1,r0                  ; |91| 
      502 000000e3 1540c000         sti       r0,*ar0               ; |91| 
      503                           .line   80
      504                   ;----------------------------------------------------------------------
      505                   ;  93 | NOPS;                                                                  
      506                   ;----------------------------------------------------------------------
      507 000000e4 0c800000         NOP                     
      508 000000e5 0c800000         NOP                     
      509 000000e6 0c800000         NOP                     
      510                           .line   81
      511                   ;----------------------------------------------------------------------
      512                   ;  94 | UART[BOOTPORT][FCR] = 0x07;     /* enable FIFOs(16) RxTrig = 1 */      
      513                   ;----------------------------------------------------------------------
      514 000000e7 08700000-        ldp       @CL6,DP
      515 000000e8 5028203d-        ldiu      @CL6,ar0              ; |94| 
      516 000000e9 50600004         ldiu      4,r0                  ; |94| 
      517 000000ea 08700000-        ldp       @CL20,DP
      518 000000eb 22b1c000         ash3      r0,*ar0,ir0           ; |94| 
      519 000000ec 5029204b-        ldiu      @CL20,ar1             ; |94| 
      520 000000ed 50600007         ldiu      7,r0                  ; |94| 
      521 000000ee 15404100         sti       r0,*+ar1(ir0)         ; |94| 
      522                           .line   83
      523                   ;----------------------------------------------------------------------
      524                   ;  96 | NOPS; UART[BOOTPORT][IER] = 0x01;       /* enable RHR, disable THR inte
      525                   ;     | rrupts */                                                              
      526                   ;----------------------------------------------------------------------
      527 000000ef 0c800000         NOP                     
      528 000000f0 0c800000         NOP                     
      529 000000f1 0c800000         NOP                     
      530 000000f2 08700000-        ldp       @CL6,DP
      531 000000f3 5029203d-        ldiu      @CL6,ar1              ; |96| 
      532 000000f4 08700000-        ldp       @CL1,DP
      533 000000f5 50600004         ldiu      4,r0                  ; |96| 
      534 000000f6 50282038-        ldiu      @CL1,ar0              ; |96| 
      535 000000f7 22b1c100         ash3      r0,*ar1,ir0           ; |96| 
      536 000000f8 50600001         ldiu      1,r0                  ; |96| 
      537 000000f9 15404000         sti       r0,*+ar0(ir0)         ; |96| 
      538                           .line   84
      539                   ;----------------------------------------------------------------------
      540                   ;  97 | NOPS; UART[BOOTPORT][MCR] |= 0x08;      /* enable INT */               
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   11

      541                   ;----------------------------------------------------------------------
      542 000000fa 0c800000         NOP                     
      543 000000fb 0c800000         NOP                     
      544 000000fc 0c800000         NOP                     
      545 000000fd 08700000-        ldp       @CL6,DP
      546 000000fe 50600004         ldiu      4,r0                  ; |97| 
      547 000000ff 5028203d-        ldiu      @CL6,ar0              ; |97| 
      548 00000100 08700000-        ldp       @CL5,DP
      549 00000101 22a8c000         ash3      r0,*ar0,ar0           ; |97| 
      550 00000102 0228203c-        addi      @CL5,ar0              ; |97| Unsigned
      551 00000103 50600008         ldiu      8,r0                  ; |97| 
      552 00000104 10400004         or        *+ar0(4),r0           ; |97| 
      553 00000105 15400004         sti       r0,*+ar0(4)           ; |97| 
      554                           .line   86
      555                   ;----------------------------------------------------------------------
      556                   ;  99 | temp = n*NETWDOG/baud/TIME1;                                           
      557                   ;----------------------------------------------------------------------
      558 00000106 40400303         ldfu      *+fp(3),f0            ; |99| 
      559 00000107 0a607480         mpyf      2.0000000000e+02,f0   ; |99| 
      560 00000108 05c10301         float     *+fp(1),f1            ; |99| 
      561 00000109 62000000!        call      DIV_F30               ; |99| 
      562                                                           ; |99| Call Occurs
      563 0000010a 08700000-        ldp       @CL21,DP
      564 0000010b 5028204c-        ldiu      @CL21,ar0             ; |99| 
      565 0000010c 4041c000         ldfu      *ar0,f1               ; |99| 
      566 0000010d 62000000!        call      DIV_F30               ; |99| 
      567                                                           ; |99| Call Occurs
      568 0000010e 14400304         stf       f0,*+fp(4)            ; |99| 
      569                           .line   87
      570                   ;----------------------------------------------------------------------
      571                   ; 100 | temp = f_ciel(temp);                                                   
      572                   ;----------------------------------------------------------------------
      573 0000010f 08700000-        ldp       @CL14,DP
      574 00000110 40020000         ldfu      f0,f2
      575 00000111 50202045-        ldiu      @CL14,r0              ; |100| 
      576 00000112 70000000         callu     r0                    ; far call to _f_ciel   ; |100| 
      577                                                           ; |100| Far Call Occurs
      578 00000113 14400304         stf       f0,*+fp(4)            ; |100| 
      579                           .line   88
      580                   ;----------------------------------------------------------------------
      581                   ; 101 | PORT.TMR_Network_WDOG = temp;                                          
      582                   ;----------------------------------------------------------------------
      583 00000114 08700000-        ldp       @CL22,DP
      584 00000115 5028204d-        ldiu      @CL22,ar0             ; |101| 
      585 00000116 08700000-        ldp       @CL23,DP
      586 00000117 0420204e-        cmpf      @CL23,f0              ; |101| 
      587 00000118 08700000-        ldp       @CL11,DP
      588 00000119 43e18000         ldflt     0.0000000000e+00,f1   ; |101| 
      589 0000011a 45212042-        ldfge     @CL11,f1              ; |101| 
      590 0000011b 19010000         subrf     f0,f1                 ; |101| 
      591 0000011c 05000001         fix       f1,r0                 ; |101| 
      592 0000011d 1540c000         sti       r0,*ar0               ; |101| 
      593                           .line   90
      594                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   12

      595                   ; 103 | temp = n*EOT/baud/TIME1;                                               
      596                   ;----------------------------------------------------------------------
      597 0000011e 40400303         ldfu      *+fp(3),f0            ; |103| 
      598 0000011f 0a605480         mpyf      5.0000000000e+01,f0   ; |103| 
      599 00000120 05c10301         float     *+fp(1),f1            ; |103| 
      600 00000121 62000000!        call      DIV_F30               ; |103| 
      601                                                           ; |103| Call Occurs
      602 00000122 08700000-        ldp       @CL21,DP
      603 00000123 5028204c-        ldiu      @CL21,ar0             ; |103| 
      604 00000124 4041c000         ldfu      *ar0,f1               ; |103| 
      605 00000125 62000000!        call      DIV_F30               ; |103| 
      606                                                           ; |103| Call Occurs
      607 00000126 14400304         stf       f0,*+fp(4)            ; |103| 
      608                           .line   91
      609                   ;----------------------------------------------------------------------
      610                   ; 104 | temp = f_ciel(temp);                                                   
      611                   ;----------------------------------------------------------------------
      612 00000127 08700000-        ldp       @CL14,DP
      613 00000128 40020000         ldfu      f0,f2
      614 00000129 50202045-        ldiu      @CL14,r0              ; |104| 
      615 0000012a 70000000         callu     r0                    ; far call to _f_ciel   ; |104| 
      616                                                           ; |104| Far Call Occurs
      617 0000012b 14400304         stf       f0,*+fp(4)            ; |104| 
      618                           .line   92
      619                   ;----------------------------------------------------------------------
      620                   ; 105 | PORT.TMR_EOT_Delay = temp;                                             
      621                   ;----------------------------------------------------------------------
      622 0000012c 08700000-        ldp       @CL24,DP
      623 0000012d 5028204f-        ldiu      @CL24,ar0             ; |105| 
      624 0000012e 08700000-        ldp       @CL23,DP
      625 0000012f 0420204e-        cmpf      @CL23,f0              ; |105| 
      626 00000130 08700000-        ldp       @CL11,DP
      627 00000131 43e18000         ldflt     0.0000000000e+00,f1   ; |105| 
      628 00000132 45212042-        ldfge     @CL11,f1              ; |105| 
      629 00000133 19010000         subrf     f0,f1                 ; |105| 
      630 00000134 05000001         fix       f1,r0                 ; |105| 
      631 00000135 1540c000         sti       r0,*ar0               ; |105| 
      632                           .line   94
      633                   ;----------------------------------------------------------------------
      634                   ; 107 | temp = n*PREFIX/baud/TIME1;                                            
      635                   ;----------------------------------------------------------------------
      636 00000136 40400303         ldfu      *+fp(3),f0            ; |107| 
      637 00000137 0a601400         mpyf      3.0000000000e+00,f0   ; |107| 
      638 00000138 05c10301         float     *+fp(1),f1            ; |107| 
      639 00000139 62000000!        call      DIV_F30               ; |107| 
      640                                                           ; |107| Call Occurs
      641 0000013a 08700000-        ldp       @CL21,DP
      642 0000013b 5028204c-        ldiu      @CL21,ar0             ; |107| 
      643 0000013c 4041c000         ldfu      *ar0,f1               ; |107| 
      644 0000013d 62000000!        call      DIV_F30               ; |107| 
      645                                                           ; |107| Call Occurs
      646 0000013e 14400304         stf       f0,*+fp(4)            ; |107| 
      647                           .line   95
      648                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   13

      649                   ; 108 | temp = f_ciel(temp);                                                   
      650                   ;----------------------------------------------------------------------
      651 0000013f 08700000-        ldp       @CL14,DP
      652 00000140 40020000         ldfu      f0,f2
      653 00000141 50202045-        ldiu      @CL14,r0              ; |108| 
      654 00000142 70000000         callu     r0                    ; far call to _f_ciel   ; |108| 
      655                                                           ; |108| Far Call Occurs
      656 00000143 14400304         stf       f0,*+fp(4)            ; |108| 
      657                           .line   96
      658                   ;----------------------------------------------------------------------
      659                   ; 109 | PORT.TMR_Preamble_Delay = temp;                                        
      660                   ;----------------------------------------------------------------------
      661 00000144 08700000-        ldp       @CL25,DP
      662 00000145 50282050-        ldiu      @CL25,ar0             ; |109| 
      663 00000146 08700000-        ldp       @CL23,DP
      664 00000147 40010000         ldfu      f0,f1                 ; |109| 
      665 00000148 0421204e-        cmpf      @CL23,f1              ; |109| 
      666 00000149 08700000-        ldp       @CL11,DP
      667 0000014a 43e08000         ldflt     0.0000000000e+00,f0   ; |109| 
      668 0000014b 45202042-        ldfge     @CL11,f0              ; |109| 
      669 0000014c 19000001         subrf     f1,f0                 ; |109| 
      670 0000014d 05000000         fix       f0,r0                 ; |109| 
      671 0000014e 1540c000         sti       r0,*ar0               ; |109| 
      672                           .line   98
      673                   ;----------------------------------------------------------------------
      674                   ; 111 | temp = n*SUFFIX/baud/TIME1;                                            
      675                   ;----------------------------------------------------------------------
      676 0000014f 40400303         ldfu      *+fp(3),f0            ; |111| 
      677 00000150 0a601400         mpyf      3.0000000000e+00,f0   ; |111| 
      678 00000151 05c10301         float     *+fp(1),f1            ; |111| 
      679 00000152 62000000!        call      DIV_F30               ; |111| 
      680                                                           ; |111| Call Occurs
      681 00000153 08700000-        ldp       @CL21,DP
      682 00000154 5028204c-        ldiu      @CL21,ar0             ; |111| 
      683 00000155 4041c000         ldfu      *ar0,f1               ; |111| 
      684 00000156 62000000!        call      DIV_F30               ; |111| 
      685                                                           ; |111| Call Occurs
      686 00000157 14400304         stf       f0,*+fp(4)            ; |111| 
      687                           .line   99
      688                   ;----------------------------------------------------------------------
      689                   ; 112 | temp = f_ciel(temp);                                                   
      690                   ;----------------------------------------------------------------------
      691 00000158 08700000-        ldp       @CL14,DP
      692 00000159 40020000         ldfu      f0,f2
      693 0000015a 50202045-        ldiu      @CL14,r0              ; |112| 
      694 0000015b 70000000         callu     r0                    ; far call to _f_ciel   ; |112| 
      695                                                           ; |112| Far Call Occurs
      696 0000015c 14400304         stf       f0,*+fp(4)            ; |112| 
      697                           .line   100
      698                   ;----------------------------------------------------------------------
      699                   ; 113 | PORT.TMR_Suffix_Delay = temp;                                          
      700                   ;----------------------------------------------------------------------
      701 0000015d 08700000-        ldp       @CL26,DP
      702 0000015e 50282051-        ldiu      @CL26,ar0             ; |113| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   14

      703 0000015f 08700000-        ldp       @CL23,DP
      704 00000160 40010000         ldfu      f0,f1                 ; |113| 
      705 00000161 0421204e-        cmpf      @CL23,f1              ; |113| 
      706 00000162 08700000-        ldp       @CL11,DP
      707 00000163 43e08000         ldflt     0.0000000000e+00,f0   ; |113| 
      708 00000164 45202042-        ldfge     @CL11,f0              ; |113| 
      709 00000165 19000001         subrf     f1,f0                 ; |113| 
      710 00000166 05000000         fix       f0,r0                 ; |113| 
      711 00000167 1540c000         sti       r0,*ar0               ; |113| 
      712                           .line   102
      713                   ;----------------------------------------------------------------------
      714                   ; 115 | temp = n/baud/TIME1;                                                   
      715                   ;----------------------------------------------------------------------
      716 00000168 40400303         ldfu      *+fp(3),f0            ; |115| 
      717 00000169 05c10301         float     *+fp(1),f1            ; |115| 
      718 0000016a 62000000!        call      DIV_F30               ; |115| 
      719                                                           ; |115| Call Occurs
      720 0000016b 08700000-        ldp       @CL21,DP
      721 0000016c 5028204c-        ldiu      @CL21,ar0             ; |115| 
      722 0000016d 4041c000         ldfu      *ar0,f1               ; |115| 
      723 0000016e 62000000!        call      DIV_F30               ; |115| 
      724                                                           ; |115| Call Occurs
      725 0000016f 14400304         stf       f0,*+fp(4)            ; |115| 
      726                           .line   103
      727                   ;----------------------------------------------------------------------
      728                   ; 116 | temp = f_ciel(temp);                                                   
      729                   ;----------------------------------------------------------------------
      730 00000170 08700000-        ldp       @CL14,DP
      731 00000171 40020000         ldfu      f0,f2
      732 00000172 50202045-        ldiu      @CL14,r0              ; |116| 
      733 00000173 70000000         callu     r0                    ; far call to _f_ciel   ; |116| 
      734                                                           ; |116| Far Call Occurs
      735 00000174 14400304         stf       f0,*+fp(4)            ; |116| 
      736                           .line   104
      737                   ;----------------------------------------------------------------------
      738                   ; 117 | PORT.TMR_Char = temp;                                                  
      739                   ;----------------------------------------------------------------------
      740 00000175 08700000-        ldp       @CL27,DP
      741 00000176 50282052-        ldiu      @CL27,ar0             ; |117| 
      742 00000177 08700000-        ldp       @CL23,DP
      743 00000178 40010000         ldfu      f0,f1                 ; |117| 
      744 00000179 0421204e-        cmpf      @CL23,f1              ; |117| 
      745 0000017a 08700000-        ldp       @CL11,DP
      746 0000017b 43e08000         ldflt     0.0000000000e+00,f0   ; |117| 
      747 0000017c 45202042-        ldfge     @CL11,f0              ; |117| 
      748 0000017d 19000001         subrf     f1,f0                 ; |117| 
      749 0000017e 05000000         fix       f0,r0                 ; |117| 
      750 0000017f 1540c000         sti       r0,*ar0               ; |117| 
      751                           .line   106
      752                   ;----------------------------------------------------------------------
      753                   ; 119 | ENABLE_INT0;                                                           
      754                   ;----------------------------------------------------------------------
      755 00000180 10760001         or              0001h, IE
      756                           .line   107
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   15

      757                   ;----------------------------------------------------------------------
      758                   ; 120 | ENABLE_EXTINT0;                                                        
      759                   ;----------------------------------------------------------------------
      760 00000181 0f350000         push    ST                      
      761 00000182 03752000         andn    2000h, ST       
      762 00000183 08700000-        ldp       @CL28,DP
      763 00000184 50282053-        ldiu      @CL28,ar0             ; |120| 
      764 00000185 50600001         ldiu      1,r0                  ; |120| 
      765 00000186 25a0c000         or3       r0,*ar0,r0            ; |120| 
      766 00000187 1540c000         sti       r0,*ar0               ; |120| 
      767 00000188 0e350000         pop             ST                      
      768                           .line   109
      769                   ;----------------------------------------------------------------------
      770                   ; 122 | PORT.TMR_enabled = FALSE;                                              
      771                   ;----------------------------------------------------------------------
      772 00000189 08700000-        ldp       @CL29,DP
      773 0000018a 50282054-        ldiu      @CL29,ar0             ; |122| 
      774 0000018b 50600000         ldiu      0,r0                  ; |122| 
      775 0000018c 1540c000         sti       r0,*ar0               ; |122| 
      776                           .line   111
      777                   ;----------------------------------------------------------------------
      778                   ; 124 | GIEP;                                                                  
      779                   ;----------------------------------------------------------------------
      780 0000018d 0e350000         pop             ST                      
      781                           .line   112
      782                                                           ; Begin Epilog Code
      783 0000018e 50410b01         ldiu      *-fp(1),r1
      784 0000018f 504bc300         ldiu      *fp,fp
      785                                                           ; Unallocate the Frame
      786 00000190 18740008         subi      8,sp
      787 00000191 68000001         bu        r1
      788                   ;*      Branch Occurs to r1 
      789                           .endfunc        125,000000000h,6
      790                   
      791                   
      792 00000192                  .sect    ".text"
      793                   
      794                           .global _Clear_RX
      795                           .sym    _Clear_RX,_Clear_RX,32,2,0
      796                           .func   127
      797                   ;******************************************************************************
      798                   ;* FUNCTION NAME: _Clear_RX                                                   *
      799                   ;*                                                                            *
      800                   ;*   Architecture       : TMS320C33                                           *
      801                   ;*   Calling Convention : TI Standard Register Parameters                     *
      802                   ;*   Function Uses Regs : r0,ar0,ar1,ar2,ir0,st                               *
      803                   ;*   Regs Saved         :                                                     *
      804                   ;*   Stack Frame        : Full (w/ debug)                                     *
      805                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
      806                   ;******************************************************************************
      807 00000192          _Clear_RX:
      808                           .line   1
      809                   ;----------------------------------------------------------------------
      810                   ; 127 | void Clear_RX()                                                        
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   16

      811                   ;----------------------------------------------------------------------
      812 00000192 0f2b0000         push      fp
      813 00000193 500b0014         ldiu      sp,fp
      814                           .line   3
      815                   ;----------------------------------------------------------------------
      816                   ; 129 | _GIEP;                                                                 
      817                   ;----------------------------------------------------------------------
      818 00000194 0f350000         push    ST                      
      819 00000195 03752000         andn    2000h, ST       
      820                           .line   4
      821                   ;----------------------------------------------------------------------
      822                   ; 130 | PORT.RX_pending = FALSE;                                               
      823                   ;----------------------------------------------------------------------
      824 00000196 08700000-        ldp       @CL30,DP
      825 00000197 50282055-        ldiu      @CL30,ar0             ; |130| 
      826 00000198 50600000         ldiu      0,r0                  ; |130| 
      827 00000199 1540c000         sti       r0,*ar0               ; |130| 
      828                           .line   5
      829                   ;----------------------------------------------------------------------
      830                   ; 131 | PORT.STAT = 0x00;                                                      
      831                   ;----------------------------------------------------------------------
      832 0000019a 08700000-        ldp       @CL31,DP
      833 0000019b 50282056-        ldiu      @CL31,ar0             ; |131| 
      834 0000019c 1540c000         sti       r0,*ar0               ; |131| 
      835                           .line   6
      836                   ;----------------------------------------------------------------------
      837                   ; 132 | Clear(&PORT.RXbuf);                                                    
      838                   ;----------------------------------------------------------------------
      839 0000019d 08700000-        ldp       @CL18,DP
      840 0000019e 50202049-        ldiu      @CL18,r0              ; |132| 
      841 0000019f 08700000-        ldp       @CL32,DP
      842 000001a0 502a2057-        ldiu      @CL32,ar2             ; |132| 
      843 000001a1 70000000         callu     r0                    ; far call to _Clear    ; |132| 
      844                                                           ; |132| Far Call Occurs
      845                           .line   7
      846                   ;----------------------------------------------------------------------
      847                   ; 133 | NOPS;                                                                  
      848                   ;----------------------------------------------------------------------
      849 000001a2 0c800000         NOP                     
      850 000001a3 0c800000         NOP                     
      851 000001a4 0c800000         NOP                     
      852                           .line   8
      853                   ;----------------------------------------------------------------------
      854                   ; 134 | UART[BOOTPORT][FCR] = 0x07;     /* clear FIFOS */                      
      855                   ;----------------------------------------------------------------------
      856 000001a5 08700000-        ldp       @CL6,DP
      857 000001a6 5028203d-        ldiu      @CL6,ar0              ; |134| 
      858 000001a7 08700000-        ldp       @CL20,DP
      859 000001a8 50600004         ldiu      4,r0                  ; |134| 
      860 000001a9 5029204b-        ldiu      @CL20,ar1             ; |134| 
      861 000001aa 22b1c000         ash3      r0,*ar0,ir0           ; |134| 
      862 000001ab 50600007         ldiu      7,r0                  ; |134| 
      863 000001ac 15404100         sti       r0,*+ar1(ir0)         ; |134| 
      864                           .line   9
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   17

      865                   ;----------------------------------------------------------------------
      866                   ; 135 | GIEP;                                                                  
      867                   ;----------------------------------------------------------------------
      868 000001ad 0e350000         pop             ST                      
      869                           .line   11
      870                   ;----------------------------------------------------------------------
      871                   ; 137 | if (HW_VER&0x80)                                                       
      872                   ;----------------------------------------------------------------------
      873 000001ae 08700000-        ldp       @CL3,DP
      874 000001af 5028203a-        ldiu      @CL3,ar0              ; |137| 
      875 000001b0 50600080         ldiu      128,r0                ; |137| 
      876 000001b1 27c000c0         tstb3     *ar0,r0               ; |137| 
      877 000001b2 6a050009         beq       L26                   ; |137| 
      878                   ;*      Branch Occurs to L26            ; |137| 
      879                           .line   13
      880                   ;----------------------------------------------------------------------
      881                   ; 139 | DISABLE_TXB;                                                           
      882                   ; 141 | else                                                                   
      883                   ;----------------------------------------------------------------------
      884 000001b3 0f350000         push    ST                      
      885 000001b4 03752000         andn    2000h, ST       
      886 000001b5 08700000-        ldp       @CL4,DP
      887 000001b6 5028203b-        ldiu      @CL4,ar0              ; |139| 
      888 000001b7 50600001         ldiu      1,r0                  ; |139| 
      889 000001b8 25a0c000         or3       r0,*ar0,r0            ; |139| 
      890 000001b9 1540c000         sti       r0,*ar0               ; |139| 
      891 000001ba 0e350000         pop             ST                      
      892 000001bb 6a00000c         bu        L27                   ; |126| 
      893                   ;*      Branch Occurs to L27            ; |126| 
      894 000001bc          L26:        
      895                           .line   17
      896                   ;----------------------------------------------------------------------
      897                   ; 143 | NOPS; UART[BOOTPORT][MCR] &= 0xFE;                      /* disable TX *
      898                   ;     | /                                                                      
      899                   ;----------------------------------------------------------------------
      900 000001bc 0c800000         NOP                     
      901 000001bd 0c800000         NOP                     
      902 000001be 0c800000         NOP                     
      903 000001bf 08700000-        ldp       @CL6,DP
      904 000001c0 50600004         ldiu      4,r0                  ; |143| 
      905 000001c1 5028203d-        ldiu      @CL6,ar0              ; |143| 
      906 000001c2 08700000-        ldp       @CL5,DP
      907 000001c3 22a8c000         ash3      r0,*ar0,ar0           ; |143| 
      908 000001c4 0228203c-        addi      @CL5,ar0              ; |143| Unsigned
      909 000001c5 506000fe         ldiu      254,r0                ; |143| 
      910 000001c6 02c00004         and       *+ar0(4),r0           ; |143| 
      911 000001c7 15400004         sti       r0,*+ar0(4)           ; |143| 
      912 000001c8          L27:        
      913                           .line   19
      914                                                           ; Begin Epilog Code
      915 000001c8 50410b01         ldiu      *-fp(1),r1
      916 000001c9 504bc300         ldiu      *fp,fp
      917                                                           ; Unallocate the Frame
      918 000001ca 18740002         subi      2,sp
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   18

      919 000001cb 68000001         bu        r1
      920                   ;*      Branch Occurs to r1 
      921                           .endfunc        145,000000000h,0
      922                   
      923                   
      924 000001cc                  .sect    ".text"
      925                   
      926                           .global _Set_Baud
      927                           .sym    _Set_Baud,_Set_Baud,36,2,0
      928                           .func   147
      929                   ;******************************************************************************
      930                   ;* FUNCTION NAME: _Set_Baud                                                   *
      931                   ;*                                                                            *
      932                   ;*   Architecture       : TMS320C33                                           *
      933                   ;*   Calling Convention : TI Standard Register Parameters                     *
      934                   ;*   Function Uses Regs : r0,r1,ar0,ar1,ar2,ir0                               *
      935                   ;*   Regs Saved         :                                                     *
      936                   ;*   Stack Frame        : Full (w/ debug)                                     *
      937                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
      938                   ;******************************************************************************
      939 000001cc          _Set_Baud:
      940                   ;* ar2   assigned to _div
      941                           .sym    _div,10,4,17,32
      942                           .sym    _div,1,4,1,32
      943                           .sym    _temp1,2,12,1,32
      944                           .line   1
      945                   ;----------------------------------------------------------------------
      946                   ; 147 | int Set_Baud(int div)                                                  
      947                   ;----------------------------------------------------------------------
      948 000001cc 0f2b0000         push      fp
      949 000001cd 500b0014         ldiu      sp,fp
      950 000001ce 02740002         addi      2,sp
      951                           .line   2
      952                   ;----------------------------------------------------------------------
      953                   ; 149 | unsigned char temp1;                                                   
      954                   ;----------------------------------------------------------------------
      955 000001cf 154a0301         sti       ar2,*+fp(1)           ; |148| 
      956                           .line   5
      957                   ;----------------------------------------------------------------------
      958                   ; 151 | NOPS;                                                                  
      959                   ;----------------------------------------------------------------------
      960 000001d0 0c800000         NOP                     
      961 000001d1 0c800000         NOP                     
      962 000001d2 0c800000         NOP                     
      963                           .line   6
      964                   ;----------------------------------------------------------------------
      965                   ; 152 | temp1 = UART[BOOTPORT][LCR];                                           
      966                   ;----------------------------------------------------------------------
      967 000001d3 08700000-        ldp       @CL6,DP
      968 000001d4 5028203d-        ldiu      @CL6,ar0              ; |152| 
      969 000001d5 08700000-        ldp       @CL9,DP
      970 000001d6 50600004         ldiu      4,r0                  ; |152| 
      971 000001d7 50292040-        ldiu      @CL9,ar1              ; |152| 
      972 000001d8 22b1c000         ash3      r0,*ar0,ir0           ; |152| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   19

      973 000001d9 50404100         ldiu      *+ar1(ir0),r0         ; |152| 
      974 000001da 15400302         sti       r0,*+fp(2)            ; |152| 
      975                           .line   7
      976                   ;----------------------------------------------------------------------
      977                   ; 153 | NOPS;                                                                  
      978                   ;----------------------------------------------------------------------
      979 000001db 0c800000         NOP                     
      980 000001dc 0c800000         NOP                     
      981 000001dd 0c800000         NOP                     
      982                           .line   8
      983                   ;----------------------------------------------------------------------
      984                   ; 154 | UART[BOOTPORT][LCR] = 0x80;                                            
      985                   ;----------------------------------------------------------------------
      986 000001de 08700000-        ldp       @CL6,DP
      987 000001df 5029203d-        ldiu      @CL6,ar1              ; |154| 
      988 000001e0 08700000-        ldp       @CL9,DP
      989 000001e1 50282040-        ldiu      @CL9,ar0              ; |154| 
      990 000001e2 50600004         ldiu      4,r0                  ; |154| 
      991 000001e3 22b1c100         ash3      r0,*ar1,ir0           ; |154| 
      992 000001e4 50600080         ldiu      128,r0                ; |154| 
      993 000001e5 15404000         sti       r0,*+ar0(ir0)         ; |154| 
      994                           .line   9
      995                   ;----------------------------------------------------------------------
      996                   ; 155 | NOPS;                                                                  
      997                   ;----------------------------------------------------------------------
      998 000001e6 0c800000         NOP                     
      999 000001e7 0c800000         NOP                     
     1000 000001e8 0c800000         NOP                     
     1001                           .line   10
     1002                   ;----------------------------------------------------------------------
     1003                   ; 156 | UART[BOOTPORT][DLL] = (unsigned char)div;                              
     1004                   ;----------------------------------------------------------------------
     1005 000001e9 08700000-        ldp       @CL6,DP
     1006 000001ea 5029203d-        ldiu      @CL6,ar1              ; |156| 
     1007 000001eb 08700000-        ldp       @CL5,DP
     1008 000001ec 50600004         ldiu      4,r0                  ; |156| 
     1009 000001ed 5028203c-        ldiu      @CL5,ar0              ; |156| 
     1010 000001ee 22b1c100         ash3      r0,*ar1,ir0           ; |156| 
     1011 000001ef 50400301         ldiu      *+fp(1),r0            ; |156| 
     1012 000001f0 15404000         sti       r0,*+ar0(ir0)         ; |156| 
     1013                           .line   11
     1014                   ;----------------------------------------------------------------------
     1015                   ; 157 | NOPS;                                                                  
     1016                   ;----------------------------------------------------------------------
     1017 000001f1 0c800000         NOP                     
     1018 000001f2 0c800000         NOP                     
     1019 000001f3 0c800000         NOP                     
     1020                           .line   12
     1021                   ;----------------------------------------------------------------------
     1022                   ; 158 | UART[BOOTPORT][DLM] = (unsigned char)(div>>8);                         
     1023                   ;----------------------------------------------------------------------
     1024 000001f4 08700000-        ldp       @CL6,DP
     1025 000001f5 50610004         ldiu      4,r1                  ; |158| 
     1026 000001f6 5029203d-        ldiu      @CL6,ar1              ; |158| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   20

     1027 000001f7 08700000-        ldp       @CL1,DP
     1028 000001f8 50400301         ldiu      *+fp(1),r0            ; |158| 
     1029 000001f9 50282038-        ldiu      @CL1,ar0              ; |158| 
     1030 000001fa 22b1c101         ash3      r1,*ar1,ir0           ; |158| 
     1031 000001fb 03e0fff8         ash       -8,r0                 ; |158| 
     1032 000001fc 15404000         sti       r0,*+ar0(ir0)         ; |158| 
     1033                           .line   13
     1034                   ;----------------------------------------------------------------------
     1035                   ; 159 | NOPS;                                                                  
     1036                   ;----------------------------------------------------------------------
     1037 000001fd 0c800000         NOP                     
     1038 000001fe 0c800000         NOP                     
     1039 000001ff 0c800000         NOP                     
     1040                           .line   14
     1041                   ;----------------------------------------------------------------------
     1042                   ; 160 | UART[BOOTPORT][LCR] = temp1;                                           
     1043                   ;----------------------------------------------------------------------
     1044 00000200 08700000-        ldp       @CL6,DP
     1045 00000201 5029203d-        ldiu      @CL6,ar1              ; |160| 
     1046 00000202 08700000-        ldp       @CL9,DP
     1047 00000203 50282040-        ldiu      @CL9,ar0              ; |160| 
     1048 00000204 22b1c101         ash3      r1,*ar1,ir0           ; |160| 
     1049 00000205 50400302         ldiu      *+fp(2),r0            ; |160| 
     1050 00000206 15404000         sti       r0,*+ar0(ir0)         ; |160| 
     1051                           .line   15
     1052                                                           ; Begin Epilog Code
     1053 00000207 50410b01         ldiu      *-fp(1),r1
     1054 00000208 504bc300         ldiu      *fp,fp
     1055                                                           ; Unallocate the Frame
     1056 00000209 18740004         subi      4,sp
     1057 0000020a 68000001         bu        r1
     1058                   ;*      Branch Occurs to r1 
     1059                           .endfunc        161,000000000h,2
     1060                   
     1061                   
     1062 0000020b                  .sect    ".text"
     1063                   
     1064                           .global _Process_UINT
     1065                           .sym    _Process_UINT,_Process_UINT,32,2,0
     1066                           .func   163
     1067                   ;******************************************************************************
     1068                   ;* FUNCTION NAME: _Process_UINT                                               *
     1069                   ;*                                                                            *
     1070                   ;*   Architecture       : TMS320C33                                           *
     1071                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1072                   ;*   Function Uses Regs : r0,r1,r2,ar0,ar1,ar2,ir0,st                         *
     1073                   ;*   Regs Saved         :                                                     *
     1074                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1075                   ;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
     1076                   ;******************************************************************************
     1077 0000020b          _Process_UINT:
     1078                           .sym    _i,1,4,1,32
     1079                           .sym    _j,2,4,1,32
     1080                           .sym    _LINEstatus,3,14,1,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   21

     1081                           .sym    _INTstatus,4,14,1,32
     1082                           .line   1
     1083                   ;----------------------------------------------------------------------
     1084                   ; 163 | void Process_UINT(void)                                                
     1085                   ; 165 | int i;                                                                 
     1086                   ; 166 | int j;                                                                 
     1087                   ; 167 | unsigned int LINEstatus;                                               
     1088                   ; 168 | unsigned int INTstatus;                                                
     1089                   ; 170 | while (TRUE)                                                           
     1090                   ;----------------------------------------------------------------------
     1091 0000020b 0f2b0000         push      fp
     1092 0000020c 500b0014         ldiu      sp,fp
     1093 0000020d 02740004         addi      4,sp
     1094 0000020e          L33:        
     1095                           .line   10
     1096                   ;----------------------------------------------------------------------
     1097                   ; 172 | NOPS;                                                                  
     1098                   ;----------------------------------------------------------------------
     1099 0000020e 0c800000         NOP                     
     1100 0000020f 0c800000         NOP                     
     1101 00000210 0c800000         NOP                     
     1102                           .line   11
     1103                   ;----------------------------------------------------------------------
     1104                   ; 173 | INTstatus = UART[BOOTPORT][ISR] & 0x0F;                                
     1105                   ; 175 | switch(INTstatus)                                                      
     1106                   ; 177 |         case 0x02:      /* THR interrupt */                            
     1107                   ;----------------------------------------------------------------------
     1108 00000211 08700000-        ldp       @CL6,DP
     1109 00000212 50600004         ldiu      4,r0                  ; |173| 
     1110 00000213 5028203d-        ldiu      @CL6,ar0              ; |173| 
     1111 00000214 08700000-        ldp       @CL20,DP
     1112 00000215 22b1c000         ash3      r0,*ar0,ir0           ; |173| 
     1113 00000216 5029204b-        ldiu      @CL20,ar1             ; |173| 
     1114 00000217 5060000f         ldiu      15,r0                 ; |173| 
     1115 00000218 21a04100         and3      r0,*+ar1(ir0),r0      ; |173| 
     1116 00000219 15400304         sti       r0,*+fp(4)            ; |173| 
     1117 0000021a 6a0000cb         bu        L49                   ; |162| 
     1118                   ;*      Branch Occurs to L49            ; |162| 
     1119 0000021b          L34:        
     1120                           .line   17
     1121                   ;----------------------------------------------------------------------
     1122                   ; 179 | if      (PORT.TX_complete) break;                                      
     1123                   ;----------------------------------------------------------------------
     1124 0000021b 08700000-        ldp       @CL19,DP
     1125 0000021c 5028204a-        ldiu      @CL19,ar0             ; |179| 
     1126 0000021d 5040c000         ldiu      *ar0,r0               ; |179| 
     1127 0000021e 04e00000         cmpi      0,r0                  ; |179| 
     1128 0000021f 6a06ffee         bne       L33                   ; |179| 
     1129                   ;*      Branch Occurs to L33            ; |179| 
     1130                           .line   19
     1131                   ;----------------------------------------------------------------------
     1132                   ; 181 | if (PORT.TXbuf.n<=0)                                                   
     1133                   ;----------------------------------------------------------------------
     1134 00000220 08700000-        ldp       @CL33,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   22

     1135 00000221 50282058-        ldiu      @CL33,ar0             ; |181| 
     1136 00000222 5040c000         ldiu      *ar0,r0               ; |181| 
     1137 00000223 04e00000         cmpi      0,r0                  ; |181| 
     1138 00000224 6a09000d         bgt       L37                   ; |181| 
     1139                   ;*      Branch Occurs to L37            ; |181| 
     1140                           .line   21
     1141                   ;----------------------------------------------------------------------
     1142                   ; 183 | TIMER1_COUNTER = PORT.TMR_Suffix_Delay + PORT.TMR_Char;                
     1143                   ;----------------------------------------------------------------------
     1144 00000225 08700000-        ldp       @CL27,DP
     1145 00000226 50282052-        ldiu      @CL27,ar0             ; |183| 
     1146 00000227 08700000-        ldp       @CL26,DP
     1147 00000228 50292051-        ldiu      @CL26,ar1             ; |183| 
     1148 00000229 08700000-        ldp       @CL34,DP
     1149 0000022a 502a2059-        ldiu      @CL34,ar2             ; |183| 
     1150 0000022b 2160c1c0         addi3     *ar0,*ar1,r0          ; |183| Unsigned
     1151 0000022c 1540c200         sti       r0,*ar2               ; |183| 
     1152                           .line   22
     1153                   ;----------------------------------------------------------------------
     1154                   ; 184 | PORT.TMR_enabled = TRUE;        /* enable suffix timer */              
     1155                   ; 186 | else                                                                   
     1156                   ;----------------------------------------------------------------------
     1157 0000022d 08700000-        ldp       @CL29,DP
     1158 0000022e 50282054-        ldiu      @CL29,ar0             ; |184| 
     1159 0000022f 50600001         ldiu      1,r0                  ; |184| 
     1160 00000230 1540c000         sti       r0,*ar0               ; |184| 
     1161 00000231 6a00ffdc         bu        L33                   ; |162| 
     1162                   ;*      Branch Occurs to L33            ; |162| 
     1163 00000232          L37:        
     1164                           .line   26
     1165                   ;----------------------------------------------------------------------
     1166                   ; 188 | for (i=0;i<FIFOSIZE-1;i++)                                             
     1167                   ;----------------------------------------------------------------------
     1168 00000232 50600000         ldiu      0,r0                  ; |188| 
     1169 00000233 15400301         sti       r0,*+fp(1)            ; |188| 
     1170 00000234 04e0000f         cmpi      15,r0                 ; |188| 
     1171 00000235 6a0affd8         bge       L33                   ; |188| 
     1172                   ;*      Branch Occurs to L33            ; |188| 
     1173 00000236          L38:        
     1174                           .line   28
     1175                   ;----------------------------------------------------------------------
     1176                   ; 190 | if (PORT.TXbuf.n>0)                                                    
     1177                   ;----------------------------------------------------------------------
     1178 00000236 08700000-        ldp       @CL33,DP
     1179 00000237 50282058-        ldiu      @CL33,ar0             ; |190| 
     1180 00000238 5040c000         ldiu      *ar0,r0               ; |190| 
     1181 00000239 04e00000         cmpi      0,r0                  ; |190| 
     1182 0000023a 6a08ffd3         ble       L33                   ; |190| 
     1183                   ;*      Branch Occurs to L33            ; |190| 
     1184                           .line   30
     1185                   ;----------------------------------------------------------------------
     1186                   ; 192 | NOPS;                                                                  
     1187                   ;----------------------------------------------------------------------
     1188 0000023b 0c800000         NOP                     
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   23

     1189 0000023c 0c800000         NOP                     
     1190 0000023d 0c800000         NOP                     
     1191                           .line   31
     1192                   ;----------------------------------------------------------------------
     1193                   ; 193 | UART[BOOTPORT][THR] = Get(&PORT.TXbuf);                                
     1194                   ; 195 | else                                                                   
     1195                   ;----------------------------------------------------------------------
     1196 0000023e 08700000-        ldp       @CL35,DP
     1197 0000023f 5020205a-        ldiu      @CL35,r0              ; |193| 
     1198 00000240 08700000-        ldp       @CL17,DP
     1199 00000241 502a2048-        ldiu      @CL17,ar2             ; |193| 
     1200 00000242 70000000         callu     r0                    ; far call to _Get      ; |193| 
     1201                                                           ; |193| Far Call Occurs
     1202 00000243 08700000-        ldp       @CL6,DP
     1203 00000244 5029203d-        ldiu      @CL6,ar1              ; |193| 
     1204 00000245 08700000-        ldp       @CL5,DP
     1205 00000246 50610004         ldiu      4,r1                  ; |193| 
     1206 00000247 5028203c-        ldiu      @CL5,ar0              ; |193| 
     1207 00000248 22b1c101         ash3      r1,*ar1,ir0           ; |193| 
     1208 00000249 15404000         sti       r0,*+ar0(ir0)         ; |193| 
     1209 0000024a 6a000000         bu        L41                   ; |162| 
     1210                   ;*      Branch Occurs to L41            ; |162| 
     1211                           .line   35
     1212                   ;----------------------------------------------------------------------
     1213                   ; 197 | break;                                                                 
     1214                   ;----------------------------------------------------------------------
     1215 0000024b          L41:        
     1216                           .line   26
     1217 0000024b 50600001         ldiu      1,r0                  ; |188| 
     1218 0000024c 02400301         addi      *+fp(1),r0            ; |188| 
     1219 0000024d 15400301         sti       r0,*+fp(1)            ; |188| 
     1220 0000024e 04e0000f         cmpi      15,r0                 ; |188| 
     1221 0000024f 6a07ffe6         blt       L38                   ; |188| 
     1222                   ;*      Branch Occurs to L38            ; |188| 
     1223                           .line   39
     1224                   ;----------------------------------------------------------------------
     1225                   ; 201 | break;                                                                 
     1226                   ; 204 | case 0x04:  /* RHR interrupt */                                        
     1227                   ; 205 | case 0x0C:      /* RX TIMEOUT interrupt */                             
     1228                   ; 207 | while(TRUE)                                                            
     1229                   ;----------------------------------------------------------------------
     1230 00000250 6a00ffbd         bu        L33                   ; |201| 
     1231                   ;*      Branch Occurs to L33            ; |201| 
     1232 00000251          L43:        
     1233                           .line   47
     1234                   ;----------------------------------------------------------------------
     1235                   ; 209 | NOPS;                                                                  
     1236                   ;----------------------------------------------------------------------
     1237 00000251 0c800000         NOP                     
     1238 00000252 0c800000         NOP                     
     1239 00000253 0c800000         NOP                     
     1240                           .line   48
     1241                   ;----------------------------------------------------------------------
     1242                   ; 210 | LINEstatus = (UART[BOOTPORT][LSR] & 0xFF);                             
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   24

     1243                   ;----------------------------------------------------------------------
     1244 00000254 08700000-        ldp       @CL6,DP
     1245 00000255 50600004         ldiu      4,r0                  ; |210| 
     1246 00000256 5029203d-        ldiu      @CL6,ar1              ; |210| 
     1247 00000257 08700000-        ldp       @CL36,DP
     1248 00000258 22b1c100         ash3      r0,*ar1,ir0           ; |210| 
     1249 00000259 5028205b-        ldiu      @CL36,ar0             ; |210| 
     1250 0000025a 506000ff         ldiu      255,r0                ; |210| 
     1251 0000025b 21a04000         and3      r0,*+ar0(ir0),r0      ; |210| 
     1252 0000025c 15400303         sti       r0,*+fp(3)            ; |210| 
     1253                           .line   49
     1254                   ;----------------------------------------------------------------------
     1255                   ; 211 | if (!(LINEstatus & 0x01)) break; /* no data in receive FIFO */         
     1256                   ;----------------------------------------------------------------------
     1257 0000025d 50600001         ldiu      1,r0                  ; |211| 
     1258 0000025e 1a400303         tstb      *+fp(3),r0            ; |211| 
     1259 0000025f 6a05ffae         beq       L33                   ; |211| 
     1260                   ;*      Branch Occurs to L33            ; |211| 
     1261                           .line   51
     1262                   ;----------------------------------------------------------------------
     1263                   ; 213 | TIMER1_COUNTER = PORT.TMR_Network_WDOG;                                
     1264                   ;----------------------------------------------------------------------
     1265 00000260 08700000-        ldp       @CL22,DP
     1266 00000261 5028204d-        ldiu      @CL22,ar0             ; |213| 
     1267 00000262 08700000-        ldp       @CL34,DP
     1268 00000263 50292059-        ldiu      @CL34,ar1             ; |213| 
     1269 00000264 5040c000         ldiu      *ar0,r0               ; |213| 
     1270 00000265 1540c100         sti       r0,*ar1               ; |213| 
     1271                           .line   53
     1272                   ;----------------------------------------------------------------------
     1273                   ; 215 | NOPS;                                                                  
     1274                   ;----------------------------------------------------------------------
     1275 00000266 0c800000         NOP                     
     1276 00000267 0c800000         NOP                     
     1277 00000268 0c800000         NOP                     
     1278                           .line   54
     1279                   ;----------------------------------------------------------------------
     1280                   ; 216 | Put(&PORT.RXbuf, (UART[BOOTPORT][RHR] & 0xFF) | (LINEstatus<<8));      
     1281                   ;----------------------------------------------------------------------
     1282 00000269 08700000-        ldp       @CL6,DP
     1283 0000026a 5029203d-        ldiu      @CL6,ar1              ; |216| 
     1284 0000026b 08700000-        ldp       @CL5,DP
     1285 0000026c 50610004         ldiu      4,r1                  ; |216| 
     1286 0000026d 5028203c-        ldiu      @CL5,ar0              ; |216| 
     1287 0000026e 22b1c101         ash3      r1,*ar1,ir0           ; |216| 
     1288 0000026f 08700000-        ldp       @CL37,DP
     1289 00000270 506000ff         ldiu      255,r0                ; |216| 
     1290 00000271 5021205c-        ldiu      @CL37,r1              ; |216| 
     1291 00000272 21a24000         and3      r0,*+ar0(ir0),r2      ; |216| 
     1292 00000273 08700000-        ldp       @CL32,DP
     1293 00000274 50400303         ldiu      *+fp(3),r0            ; |216| 
     1294 00000275 502a2057-        ldiu      @CL32,ar2             ; |216| 
     1295 00000276 03e00008         ash       8,r0                  ; |216| 
     1296 00000277 25820002         or3       r2,r0,r2              ; |216| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   25

     1297 00000278 70000001         callu     r1                    ; far call to _Put      ; |216| 
     1298                                                           ; |216| Far Call Occurs
     1299                           .line   56
     1300                   ;----------------------------------------------------------------------
     1301                   ; 218 | PORT.STAT |= LINEstatus & 0x9E;                                        
     1302                   ;----------------------------------------------------------------------
     1303 00000279 08700000-        ldp       @CL31,DP
     1304 0000027a 50282056-        ldiu      @CL31,ar0             ; |218| 
     1305 0000027b 5060009e         ldiu      158,r0                ; |218| 
     1306 0000027c 02c00303         and       *+fp(3),r0            ; |218| 
     1307 0000027d 25a0c000         or3       r0,*ar0,r0            ; |218| 
     1308 0000027e 1540c000         sti       r0,*ar0               ; |218| 
     1309                           .line   58
     1310                   ;----------------------------------------------------------------------
     1311                   ; 220 | if (PORT.RXbuf.n>0)                                                    
     1312                   ;----------------------------------------------------------------------
     1313 0000027f 08700000-        ldp       @CL38,DP
     1314 00000280 5028205d-        ldiu      @CL38,ar0             ; |220| 
     1315 00000281 5040c000         ldiu      *ar0,r0               ; |220| 
     1316 00000282 04e00000         cmpi      0,r0                  ; |220| 
     1317 00000283 6a08ffcd         ble       L43                   ; |220| 
     1318                   ;*      Branch Occurs to L43            ; |220| 
     1319                           .line   60
     1320                   ;----------------------------------------------------------------------
     1321                   ; 222 | vect_p1 = PORT.pvector;                                                
     1322                   ;----------------------------------------------------------------------
     1323 00000284 08700000-        ldp       @CL40,DP
     1324 00000285 5029205f-        ldiu      @CL40,ar1             ; |222| 
     1325 00000286 08700000-        ldp       @CL39,DP
     1326 00000287 5028205e-        ldiu      @CL39,ar0             ; |222| 
     1327 00000288 5040c100         ldiu      *ar1,r0               ; |222| 
     1328 00000289 1540c000         sti       r0,*ar0               ; |222| 
     1329                           .line   61
     1330                   ;----------------------------------------------------------------------
     1331                   ; 223 | PUSH_ALL;                                                              
     1332                   ;----------------------------------------------------------------------
     1333 0000028a 0f350000         push    ST                      
     1334 0000028b 0f2b0000         push    FP                      
     1335 0000028c 080b0014         ldi             SP,FP           
     1336 0000028d 02740002         addi    2,SP            
     1337 0000028e 0f200000         push    R0                      
     1338 0000028f 0fa00000         pushf   R0                      
     1339 00000290 0f210000         push    R1                      
     1340 00000291 0fa10000         pushf   R1                      
     1341 00000292 0f220000         push    R2                      
     1342 00000293 0fa20000         pushf   R2                      
     1343 00000294 0f230000         push    R3                      
     1344 00000295 0fa30000         pushf   R3                      
     1345 00000296 0f240000         push    R4                      
     1346 00000297 0fa40000         pushf   R4                      
     1347 00000298 0f250000         push    R5                      
     1348 00000299 0fa50000         pushf   R5                      
     1349 0000029a 0f260000         push    R6                      
     1350 0000029b 0fa60000         pushf   R6                      
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   26

     1351 0000029c 0f270000         push    R7                      
     1352 0000029d 0fa70000         pushf   R7                      
     1353 0000029e 0f280000         push    AR0                     
     1354 0000029f 0f290000         push    AR1                     
     1355 000002a0 0f2a0000         push    AR2                     
     1356 000002a1 0f2c0000         push    AR4                     
     1357 000002a2 0f2d0000         push    AR5                     
     1358 000002a3 0f2e0000         push    AR6                     
     1359 000002a4 0f2f0000         push    AR7                     
     1360 000002a5 0f300000         push    DP                      
     1361 000002a6 0f310000         push    IR0                     
     1362 000002a7 0f320000         push    IR1                     
     1363 000002a8 0f330000         push    BK                      
     1364 000002a9 0f380000         push    IOF                     
     1365 000002aa 0f390000         push    RS                      
     1366 000002ab 0f3a0000         push    RE                      
     1367 000002ac 0f3b0000         push    RC                      
     1368                           .line   62
     1369                   ;----------------------------------------------------------------------
     1370                   ; 224 | asm("           .global _vect_p1  ");                                  
     1371                   ;----------------------------------------------------------------------
     1372                                   .global _vect_p1  
     1373                           .line   63
     1374                   ;----------------------------------------------------------------------
     1375                   ; 225 | asm("       ldp             _vect_p1      ");                          
     1376                   ;----------------------------------------------------------------------
     1377 000002ad 08700000!        ldp             _vect_p1      
     1378                           .line   64
     1379                   ;----------------------------------------------------------------------
     1380                   ; 226 | asm("       ldi             @_vect_p1, R0 ");                          
     1381                   ;----------------------------------------------------------------------
     1382 000002ae 08200000!        ldi             @_vect_p1, R0 
     1383                           .line   65
     1384                   ;----------------------------------------------------------------------
     1385                   ; 227 | asm("       callnz  R0                    ");       /* call if vect !=
     1386                   ;     | NULL */                                                                
     1387                   ;----------------------------------------------------------------------
     1388 000002af 70060000         callnz  R0                    
     1389                           .line   66
     1390                   ;----------------------------------------------------------------------
     1391                   ; 228 | POP_ALL;                                                               
     1392                   ;----------------------------------------------------------------------
     1393 000002b0 0e3b0000         pop             RC                      
     1394 000002b1 0e3a0000         pop             RE                      
     1395 000002b2 0e390000         pop             RS                      
     1396 000002b3 0e380000         pop             IOF                     
     1397 000002b4 0e330000         pop             BK                      
     1398 000002b5 0e320000         pop             IR1                     
     1399 000002b6 0e310000         pop             IR0                     
     1400 000002b7 0e300000         pop             DP                      
     1401 000002b8 0e2f0000         pop             AR7                     
     1402 000002b9 0e2e0000         pop             AR6                     
     1403 000002ba 0e2d0000         pop             AR5                     
     1404 000002bb 0e2c0000         pop             AR4                     
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   27

     1405 000002bc 0e2a0000         pop             AR2                     
     1406 000002bd 0e290000         pop             AR1                     
     1407 000002be 0e280000         pop             AR0                     
     1408 000002bf 0ea70000         popf    R7                      
     1409 000002c0 0e270000         pop     R7                      
     1410 000002c1 0ea60000         popf    R6                      
     1411 000002c2 0e260000         pop             R6                      
     1412 000002c3 0ea50000         popf    R5                      
     1413 000002c4 0e250000         pop             R5                      
     1414 000002c5 0ea40000         popf    R4                      
     1415 000002c6 0e240000         pop             R4                      
     1416 000002c7 0ea30000         popf    R3                      
     1417 000002c8 0e230000         pop             R3                      
     1418 000002c9 0ea20000         popf    R2                      
     1419 000002ca 0e220000         pop             R2                      
     1420 000002cb 0ea10000         popf    R1                      
     1421 000002cc 0e210000         pop             R1                      
     1422 000002cd 0ea00000         popf    R0                      
     1423 000002ce 0e200000         pop     R0                      
     1424 000002cf 18740002         subi    2,SP            
     1425 000002d0 0e2b0000         pop     FP                      
     1426 000002d1 0e350000         pop     ST                      
     1427                           .line   68
     1428 000002d2 6a00ff7e         bu        L43                   ; |230| 
     1429                   ;*      Branch Occurs to L43            ; |230| 
     1430                           .line   69
     1431                   ;----------------------------------------------------------------------
     1432                   ; 231 | break;                                                                 
     1433                   ; 234 | case 0x06:      /* LSR interrupt */                                    
     1434                   ;----------------------------------------------------------------------
     1435 000002d3          L47:        
     1436                           .line   74
     1437                   ;----------------------------------------------------------------------
     1438                   ; 236 | NOPS;                                                                  
     1439                   ;----------------------------------------------------------------------
     1440 000002d3 0c800000         NOP                     
     1441 000002d4 0c800000         NOP                     
     1442 000002d5 0c800000         NOP                     
     1443                           .line   75
     1444                   ;----------------------------------------------------------------------
     1445                   ; 237 | LINEstatus = (UART[BOOTPORT][LSR] & 0xFF);                             
     1446                   ;----------------------------------------------------------------------
     1447 000002d6 08700000-        ldp       @CL6,DP
     1448 000002d7 50600004         ldiu      4,r0                  ; |237| 
     1449 000002d8 5029203d-        ldiu      @CL6,ar1              ; |237| 
     1450 000002d9 08700000-        ldp       @CL36,DP
     1451 000002da 22b1c100         ash3      r0,*ar1,ir0           ; |237| 
     1452 000002db 5028205b-        ldiu      @CL36,ar0             ; |237| 
     1453 000002dc 506000ff         ldiu      255,r0                ; |237| 
     1454 000002dd 21a04000         and3      r0,*+ar0(ir0),r0      ; |237| 
     1455 000002de 15400303         sti       r0,*+fp(3)            ; |237| 
     1456                           .line   77
     1457                   ;----------------------------------------------------------------------
     1458                   ; 239 | PORT.STAT |= LINEstatus & 0x9E;                                        
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   28

     1459                   ;----------------------------------------------------------------------
     1460 000002df 08700000-        ldp       @CL31,DP
     1461 000002e0 50282056-        ldiu      @CL31,ar0             ; |239| 
     1462 000002e1 5060009e         ldiu      158,r0                ; |239| 
     1463 000002e2 02c00303         and       *+fp(3),r0            ; |239| 
     1464 000002e3 25a0c000         or3       r0,*ar0,r0            ; |239| 
     1465 000002e4 1540c000         sti       r0,*ar0               ; |239| 
     1466                           .line   78
     1467                   ;----------------------------------------------------------------------
     1468                   ; 240 | break;                                                                 
     1469                   ; 243 | default:                                                               
     1470                   ;----------------------------------------------------------------------
     1471 000002e5 6a00ff28         bu        L33                   ; |240| 
     1472                   ;*      Branch Occurs to L33            ; |240| 
     1473                           .line   83
     1474                   ;----------------------------------------------------------------------
     1475                   ; 245 | return;                                                                
     1476                   ;----------------------------------------------------------------------
     1477 000002e6          L49:        
     1478                           .line   13
     1479 000002e6 50400304         ldiu      *+fp(4),r0            ; |175| 
     1480 000002e7 04e00002         cmpi      2,r0                  ; |175| 
     1481 000002e8 6a05ff32         beq       L34                   ; |175| 
     1482                   ;*      Branch Occurs to L34            ; |175| 
     1483 000002e9 04e00004         cmpi      4,r0                  ; |175| 
     1484 000002ea 6a05ff66         beq       L43                   ; |175| 
     1485                   ;*      Branch Occurs to L43            ; |175| 
     1486 000002eb 04e00006         cmpi      6,r0                  ; |175| 
     1487 000002ec 6a05ffe6         beq       L47                   ; |175| 
     1488                   ;*      Branch Occurs to L47            ; |175| 
     1489 000002ed 04e0000c         cmpi      12,r0                 ; |175| 
     1490 000002ee 6a05ff62         beq       L43                   ; |175| 
     1491                   ;*      Branch Occurs to L43            ; |175| 
     1492 000002ef 6a000000         bu        L55                   ; |175| 
     1493                   ;*      Branch Occurs to L55            ; |175| 
     1494                           .line   86
     1495 000002f0          L55:        
     1496                           .line   87
     1497                                                           ; Begin Epilog Code
     1498 000002f0 50410b01         ldiu      *-fp(1),r1
     1499 000002f1 504bc300         ldiu      *fp,fp
     1500                                                           ; Unallocate the Frame
     1501 000002f2 18740006         subi      6,sp
     1502 000002f3 68000001         bu        r1
     1503                   ;*      Branch Occurs to r1 
     1504                           .endfunc        249,000000000h,4
     1505                   
     1506                   
     1507 000002f4                  .sect    ".text"
     1508                   
     1509                           .global _f_ciel
     1510                           .sym    _f_ciel,_f_ciel,38,2,0
     1511                           .func   251
     1512                   ;******************************************************************************
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   29

     1513                   ;* FUNCTION NAME: _f_ciel                                                     *
     1514                   ;*                                                                            *
     1515                   ;*   Architecture       : TMS320C33                                           *
     1516                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1517                   ;*   Function Uses Regs : f0,r0,f2,ar2,fp,st                                  *
     1518                   ;*   Regs Saved         :                                                     *
     1519                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1520                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
     1521                   ;******************************************************************************
     1522 000002f4          _f_ciel:
     1523                   ;* f2    assigned to _s
     1524                           .sym    _s,2,7,17,32
     1525                           .sym    _s,1,7,1,32
     1526                           .sym    _y,2,7,1,32
     1527                           .line   1
     1528                   ;----------------------------------------------------------------------
     1529                   ; 251 | float f_ciel(double s)                                                 
     1530                   ;----------------------------------------------------------------------
     1531 000002f4 0f2b0000         push      fp
     1532 000002f5 500b0014         ldiu      sp,fp
     1533 000002f6 02740002         addi      2,sp
     1534                           .line   2
     1535                   ;----------------------------------------------------------------------
     1536                   ; 253 | double y;                                                              
     1537                   ;----------------------------------------------------------------------
     1538 000002f7 14420301         stf       f2,*+fp(1)            ; |252| 
     1539                           .line   4
     1540                   ;----------------------------------------------------------------------
     1541                   ; 254 | return (modf(s, &y) > 0.0 ? y + 1.0 : y);                              
     1542                   ;----------------------------------------------------------------------
     1543 000002f8 500a000b         ldiu      fp,ar2                ; |254| 
     1544 000002f9 026a0002         addi      2,ar2                 ; |254| 
     1545 000002fa 62000000!        call      _modf                 ; |254| 
     1546                                                           ; |254| Call Occurs
     1547 000002fb 05800000         float     r0,f0                 ; |254| 
     1548 000002fc 04608000         cmpf      0.0000000000e+00,f0   ; |254| 
     1549 000002fd 6a080004         ble       L59                   ; |254| 
     1550                   ;*      Branch Occurs to L59            ; |254| 
     1551 000002fe 6a200002         bud       L60                   ; |254| 
     1552 000002ff 0c800000         nop
     1553 00000300 40600000         ldfu      1.0000000000e+00,f0   ; |254| 
     1554 00000301 01c00302         addf      *+fp(2),f0            ; |254| 
     1555                   ;*      Branch Occurs to L60            ; |254| 
     1556 00000302          L59:        
     1557 00000302 40400302         ldfu      *+fp(2),f0            ; |254| 
     1558 00000303          L60:        
     1559                           .line   5
     1560                                                           ; Begin Epilog Code
     1561 00000303 50410b01         ldiu      *-fp(1),r1            ; |255| 
     1562 00000304 504bc300         ldiu      *fp,fp                ; |255| 
     1563                                                           ; Unallocate the Frame
     1564 00000305 18740004         subi      4,sp                  ; |255| 
     1565 00000306 68000001         bu        r1
     1566                   ;*      Branch Occurs to r1 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   30

     1567                           .endfunc        255,000000000h,2
     1568                   
     1569                   
     1570                   
     1571                           .global _UART
     1572 00000000          _UART:  .usect  "UART_ADDR",128,1
     1573                           .sym    _UART,_UART,252,2,4096,,8,16
     1574                   
     1575                           .global _PORT
     1576 00000000                  .bss    _PORT,8248
     1577                           .sym    _PORT,_PORT,8,2,263936,.fake1
     1578                   ;******************************************************************************
     1579                   ;* CONSTANT TABLE                                                             *
     1580                   ;******************************************************************************
     1581 00000000                  .sect   ".const"
     1582 00002038                  .bss    CL1,1
     1583 00002039                  .bss    CL2,1
     1584 0000203a                  .bss    CL3,1
     1585 0000203b                  .bss    CL4,1
     1586 0000203c                  .bss    CL5,1
     1587 0000203d                  .bss    CL6,1
     1588 0000203e                  .bss    CL7,1
     1589 0000203f                  .bss    CL8,1
     1590 00002040                  .bss    CL9,1
     1591 00002041                  .bss    CL10,1
     1592 00002042                  .bss    CL11,1
     1593 00002043                  .bss    CL12,1
     1594 00002044                  .bss    CL13,1
     1595 00002045                  .bss    CL14,1
     1596 00002046                  .bss    CL15,1
     1597 00002047                  .bss    CL16,1
     1598 00002048                  .bss    CL17,1
     1599 00002049                  .bss    CL18,1
     1600 0000204a                  .bss    CL19,1
     1601 0000204b                  .bss    CL20,1
     1602 0000204c                  .bss    CL21,1
     1603 0000204d                  .bss    CL22,1
     1604 0000204e                  .bss    CL23,1
     1605 0000204f                  .bss    CL24,1
     1606 00002050                  .bss    CL25,1
     1607 00002051                  .bss    CL26,1
     1608 00002052                  .bss    CL27,1
     1609 00002053                  .bss    CL28,1
     1610 00002054                  .bss    CL29,1
     1611 00002055                  .bss    CL30,1
     1612 00002056                  .bss    CL31,1
     1613 00002057                  .bss    CL32,1
     1614 00002058                  .bss    CL33,1
     1615 00002059                  .bss    CL34,1
     1616 0000205a                  .bss    CL35,1
     1617 0000205b                  .bss    CL36,1
     1618 0000205c                  .bss    CL37,1
     1619 0000205d                  .bss    CL38,1
     1620 0000205e                  .bss    CL39,1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   31

     1621 0000205f                  .bss    CL40,1
     1622                   
     1623 00000000                  .sect   ".cinit"
     1624 00000000 00000028         .field          40,32
     1625 00000001 00002038-        .field          CL1+0,32
     1626 00000002 00000001-        .field          _UART+1,32
     1627 00000003 00000004-        .field          _UART+4,32
     1628 00000004 00000000!        .field          _HW_VER,32
     1629 00000005 00900012         .field          9437202,32
     1630 00000006 00000000-        .field          _UART,32
     1631 00000007 00000000!        .field          _BOOTPORT,32
     1632 00000008 00000007-        .field          _UART+7,32
     1633 00000009 00000008-        .field          _UART+8,32
     1634 0000000a 00000003-        .field          _UART+3,32
     1635 0000000b 00000000!        .field          _CLOCK,32
     1636 0000000c 20000000         .word           020000000H ; float   4.294967296000000e+09
     1637 0000000d ff000000         .word           0FF000000H ; double  5.000000000000000e-01
     1638 0000000e fc000000         .word           0FC000000H ; double  6.250000000000000e-02
     1639 0000000f 000002f4'        .field          _f_ciel,32
     1640 00000010 000001cc'        .field          _Set_Baud,32
     1641 00000011 00000192'        .field          _Clear_RX,32
     1642 00000012 0000000c-        .field          _PORT+12,32
     1643 00000013 00000000!        .field          _Clear,32
     1644 00000014 00001021-        .field          _PORT+4129,32
     1645 00000015 00000002-        .field          _UART+2,32
     1646 00000016 00000000!        .field          _TIME1,32
     1647 00000017 00000001-        .field          _PORT+1,32
     1648 00000018 1f000000         .word           01F000000H ; float   2.147483648000000e+09
     1649 00000019 00000002-        .field          _PORT+2,32
     1650 0000001a 00000003-        .field          _PORT+3,32
     1651 0000001b 00000004-        .field          _PORT+4,32
     1652 0000001c 00000005-        .field          _PORT+5,32
     1653 0000001d 00900006         .field          9437190,32
     1654 0000001e 00000006-        .field          _PORT+6,32
     1655 0000001f 00002037-        .field          _PORT+8247,32
     1656 00000020 00000000-        .field          _PORT,32
     1657 00000021 00001022-        .field          _PORT+4130,32
     1658 00000022 0000000e-        .field          _PORT+14,32
     1659 00000023 00000000!        .field          _TIMER1_COUNTER,32
     1660 00000024 00000000!        .field          _Get,32
     1661 00000025 00000005-        .field          _UART+5,32
     1662 00000026 00000000!        .field          _Put,32
     1663 00000027 00001024-        .field          _PORT+4132,32
     1664 00000028 00000000!        .field          _vect_p1,32
     1665 00000029 00000008-        .field          _PORT+8,32
     1666                   
     1667 00000307                  .sect   ".text"
     1668                   ;******************************************************************************
     1669                   ;* UNDEFINED EXTERNAL REFERENCES                                              *
     1670                   ;******************************************************************************
     1671                   
     1672                           .global _Clear
     1673                   
     1674                           .global _Put
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   32

     1675                   
     1676                           .global _Get
     1677                   
     1678                           .global _CLOCK
     1679                   
     1680                           .global _TIMER1_COUNTER
     1681                   
     1682                           .global _TIME1
     1683                   
     1684                           .global _vect_p1
     1685                   
     1686                           .global _BOOTPORT
     1687                   
     1688                           .global _HW_VER
     1689                           .global DIV_F30
     1690                           .global _modf

 No Errors,  No Warnings
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   33

LABEL                            VALUE       DEFN    REF

.BIGMODEL                        00000001       0 
.C30                             00000000       0 
.C30INTERRUPT                    00000000       0 
.C31                             00000000       0 
.C32                             00000000       0 
.C33                             00000001       0 
.C3X                             00000001       0 
.C3x                             00000001       0 
.C40                             00000000       0 
.C44                             00000000       0 
.C4X                             00000000       0 
.C4x                             00000000       0 
.REGPARM                         00000001       0 
.TMS320C30                       00000001       0 
.TMS320C31                       00000000       0 
.TMS320C32                       00000000       0 
.TMS320C40                       00000000       0 
.TMS320C44                       00000000       0 
.TMS320xx                        00000021       0 
.tms320C30                       00000001       0 
.tms320C31                       00000000       0 
.tms320C32                       00000000       0 
.tms320C40                       00000000       0 
.tms320C44                       00000000       0 
.tms320xx                        00000021       0 
.tmx320C40                       00000000       0 
CL1                              00002038-   1582    129    131    532    534 
                                                    1027   1029   1625 
CL10                             00002041-   1591    437    438 
CL11                             00002042-   1592    439    441    587    589 
                                                     626    628    666    668 
                                                     706    708    745    747 
CL12                             00002043-   1593    443    445 
CL13                             00002044-   1594    449    450 
CL14                             00002045-   1595    456    458    573    575 
                                                     612    614    651    653 
                                                     691    693    730    732 
CL15                             00002046-   1596    472    474 
CL16                             00002047-   1597    481    482 
CL17                             00002048-   1598    491    492   1198   1199 
CL18                             00002049-   1599    489    490    839    840 
CL19                             0000204a-   1600    499    500   1124   1125 
CL2                              00002039-   1583    142    144 
CL20                             0000204b-   1601    517    519    858    860 
                                                    1111   1113 
CL21                             0000204c-   1602    563    564    602    603 
                                                     641    642    681    682 
                                                     720    721 
CL22                             0000204d-   1603    583    584   1265   1266 
CL23                             0000204e-   1604    585    586    624    625 
                                                     663    665    703    705 
                                                     742    744 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   34

LABEL                            VALUE       DEFN    REF

CL24                             0000204f-   1605    622    623 
CL25                             00002050-   1606    661    662 
CL26                             00002051-   1607    701    702   1146   1147 
CL27                             00002052-   1608    740    741   1144   1145 
CL28                             00002053-   1609    762    763 
CL29                             00002054-   1610    772    773   1157   1158 
CL3                              0000203a-   1584    153    154    254    255 
                                                     873    874 
CL30                             00002055-   1611    824    825 
CL31                             00002056-   1612    832    833   1303   1304 
                                                    1460   1461 
CL32                             00002057-   1613    841    842   1292   1294 
CL33                             00002058-   1614   1134   1135   1178   1179 
CL34                             00002059-   1615   1148   1149   1267   1268 
CL35                             0000205a-   1616   1196   1197 
CL36                             0000205b-   1617   1247   1249   1450   1452 
CL37                             0000205c-   1618   1288   1290 
CL38                             0000205d-   1619   1313   1314 
CL39                             0000205e-   1620   1325   1326 
CL4                              0000203b-   1585    168    169    184    185 
                                                     886    887 
CL40                             0000205f-   1621   1323   1324 
CL5                              0000203c-   1586    220    222    235    237 
                                                     407    409    427    429 
                                                     548    550    906    908 
                                                    1007   1009   1204   1206 
                                                    1284   1286 
CL6                              0000203d-   1587    265    266    276    277 
                                                     291    310    311    329 
                                                     330    349    350    365 
                                                     367    385    387    404 
                                                     405    424    425    514 
                                                     515    530    531    545 
                                                     547    856    857    903 
                                                     905    967    968    986 
                                                     987   1005   1006   1024 
                                                    1026   1044   1045   1108 
                                                    1110   1202   1203   1244 
                                                    1246   1282   1283   1447 
                                                    1449 
CL7                              0000203e-   1588    292    294    331    333 
                                                     368    370 
CL8                              0000203f-   1589    312    314 
CL9                              00002040-   1590    388    390    969    971 
                                                     988    989   1046   1047 
DIV_F30                          REF                 447    561    566    600 
                                                     605    639    644    679 
                                                     684    718    723   1689 
FP                               0000000b       7   1334   1335   1425 
L11                              0000003c'    203    157 
L13                              00000049'    226    210 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   35

LABEL                            VALUE       DEFN    REF

L14                              00000053'    241    174    190    201 
L15                              00000058'    249    118 
L17                              00000062'    271    258 
L19                              0000008d'    353    343 
L2                               0000000c'    120    247 
L20                              00000098'    373    269 
L26                              000001bc'    894    877 
L27                              000001c8'    912    892 
L33                              0000020e'   1094   1128   1161   1171   1182 
                                                    1230   1259   1471 
L34                              0000021b'   1119   1481 
L37                              00000232'   1163   1138 
L38                              00000236'   1173   1221 
L4                               00000024'    161    196 
L41                              0000024b'   1215   1209 
L43                              00000251'   1232   1317   1428   1484   1490 
L47                              000002d3'   1435   1487 
L49                              000002e6'   1477   1117 
L5                               0000002d'    176    199 
L55                              000002f0'   1495   1492 
L59                              00000302'   1556   1549 
L60                              00000303'   1558   1551 
L7                               00000036'    192    159 
_BOOTPORT                        REF                1631   1686 
_CLOCK                           REF                1635   1678 
_Clear                           REF                1643   1672 
_Clear_RX                        00000192'    807    794    795    795   1641 
_Get                             REF                1660   1676 
_HW_VER                          REF                1628   1688 
_PORT                            00000000-   1576   1575   1577   1577   1642 
                                                    1644   1647   1649   1650 
                                                    1651   1652   1654   1655 
                                                    1656   1657   1658   1663 
                                                    1665 
_Process_UINT                    0000020b'   1077   1064   1065   1065 
_Put                             REF                1662   1674 
_Set_Baud                        000001cc'    939    926    927    927   1640 
_Setup_UART                      00000000'     74     61     62     62 
_TIME1                           REF                1646   1682 
_TIMER1_COUNTER                  REF                1659   1680 
_UART                            00000000-   1572   1571   1573   1573   1626 
                                                    1627   1630   1632   1633 
                                                    1634   1645   1661 
_f_ciel                          000002f4'   1522   1509   1510   1510   1639 
_modf                            REF                1545   1690 
_vect_p1                         REF                1372   1377   1382   1664 
                                                    1684 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:47 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4KO.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\serial.asm                    PAGE   36

LABEL                            VALUE       DEFN    REF

fp                               0000000b       6     87     88     98    110 
                                                     116    128    143    194 
                                                     208    234    244    245 
                                                     337    446    451    467 
                                                     558    560    568    578 
                                                     597    599    607    617 
                                                     636    638    646    656 
                                                     676    678    686    696 
                                                     716    717    725    735 
                                                     783    784    784    812 
                                                     813    915    916    916 
                                                     948    949    955    974 
                                                    1011   1028   1049   1053 
                                                    1054   1054   1091   1092 
                                                    1116   1169   1218   1219 
                                                    1252   1258   1293   1306 
                                                    1455   1463   1479   1498 
                                                    1499   1499   1531   1532 
                                                    1538   1543   1554   1557 
                                                    1561   1562   1562 
