TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE    1

        1                   ;******************************************************************************
        2                   ;* TMS320C3x/4x ANSI C Code Generator                            Version 5.11 *
        3                   ;* Date/Time created: Mon Oct 31 10:49:06 2011                                *
        4                   ;******************************************************************************
        5                           .regalias       ; enable floating point register aliases
        6          0000000b fp      .set    ar3
        7          0000000b FP      .set    ar3
        8                   ;******************************************************************************
        9                   ;* GLOBAL FILE PARAMETERS                                                     *
       10                   ;*                                                                            *
       11                   ;*   Optimization       : Always Choose Smaller Code Size                     *
       12                   ;*   Memory             : Big Memory Model                                    *
       13                   ;*   Float-to-Int       : Normal Conversions (round toward zero)              *
       14                   ;*   Multiply           : in Software (32 bits)                               *
       15                   ;*   Memory Info        : Unmapped Memory Exists                              *
       16                   ;*   Repeat Loops       : Use RPTS and/or RPTB                                *
       17                   ;*   Calls              : Normal Library ASM calls                            *
       18                   ;*   Debug Info         : Standard TI Debug Information                       *
       19                   ;******************************************************************************
       20                   ;       C:\tic3x4x\c3x4x\cgtools\bin\ac30.exe -@_4P4.AAA 
       21                           .file   "flash.c"
       22                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\GLBLS.H"
       23                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\stdarg.h"
       24                           .sym    _va_list,0,18,13,32
       25                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\format.h"
       26                           .stag   .fake0,128
       27                           .member _flags,0,14,8,32
       28                           .member _fwidth,32,4,8,32
       29                           .member _precision,64,4,8,32
       30                           .member _conv,96,2,8,32
       31                           .eos
       32                           .sym    __PFIELD,0,8,13,128,.fake0
       33                           .stag   .fake1,3200
       34                           .member _flags,0,14,8,32
       35                           .member _fwidth,32,4,8,32
       36                           .member _precision,64,4,8,32
       37                           .member _scanset,96,50,8,3072,,96
       38                           .member _conv,3168,2,8,32
       39                           .eos
       40                           .sym    __SFIELD,0,8,13,3200,.fake1
       41                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\string.h"
       42                           .sym    _size_t,0,14,13,32
       43                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\stdio.h"
       44                           .stag   .fake2,224
       45                           .member _fd,0,4,8,32
       46                           .member _buf,32,28,8,32
       47                           .member _pos,64,28,8,32
       48                           .member _bufend,96,28,8,32
       49                           .member _buff_stop,128,28,8,32
       50                           .member _flags,160,14,8,32
       51                           .member _index,192,4,8,32
       52                           .eos
       53                           .sym    _FILE,0,8,13,224,.fake2
       54                           .sym    _fpos_t,0,5,13,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE    2

       55                           .stag   .fake3,544
       56                           .member _name,0,50,8,288,,9
       57                           .member _flags,288,13,8,32
       58                           .member _OPEN,320,148,8,32
       59                           .member _CLOSE,352,148,8,32
       60                           .member _READ,384,148,8,32
       61                           .member _WRITE,416,148,8,32
       62                           .member _LSEEK,448,149,8,32
       63                           .member _UNLINK,480,148,8,32
       64                           .member _RENAME,512,148,8,32
       65                           .eos
       66                           .sym    __DEVICE,0,8,13,544,.fake3
       67                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\stdlib.h"
       68                           .sym    _wchar_t,0,2,13,32
       69                           .stag   __div_t,64
       70                           .member _quot,0,4,8,32
       71                           .member _rem,32,4,8,32
       72                           .eos
       73                           .sym    _div_t,0,8,13,64,__div_t
       74                           .sym    _ldiv_t,0,8,13,64,__div_t
       75                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\math.h"
       76                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\time.h"
       77                           .sym    _clock_t,0,15,13,32
       78                           .sym    _time_t,0,15,13,32
       79                           .stag   _tm,288
       80                           .member _tm_sec,0,4,8,32
       81                           .member _tm_min,32,4,8,32
       82                           .member _tm_hour,64,4,8,32
       83                           .member _tm_mday,96,4,8,32
       84                           .member _tm_mon,128,4,8,32
       85                           .member _tm_year,160,4,8,32
       86                           .member _tm_wday,192,4,8,32
       87                           .member _tm_yday,224,4,8,32
       88                           .member _tm_isdst,256,4,8,32
       89                           .eos
       90                           .stag   _tmzone,320
       91                           .member _daylight,0,3,8,32
       92                           .member _timezone,32,5,8,32
       93                           .member _tzname,64,50,8,128,,4
       94                           .member _dstname,192,50,8,128,,4
       95                           .eos
       96                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\ETC.H"
       97                           .sym    _BOOL,0,14,13,32
       98                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\LIST.H"
       99                           .stag   .fake4,96
      100                           .member _head,0,20,8,32
      101                           .member _tail,32,20,8,32
      102                           .member _n,64,4,8,32
      103                           .eos
      104                           .sym    _LIST,0,8,13,96,.fake4
      105                           .stag   .fake5,64
      106                           .member _prev,0,20,8,32
      107                           .member _next,32,20,8,32
      108                           .eos
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE    3

      109                           .sym    _GENERIC,0,8,13,64,.fake5
      110                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\VARIABLE.H"
      111                           .stag   .fake6,1376
      112                           .member _val,0,6,8,32
      113                           .member _vect1,32,20,8,32
      114                           .member _vect2,64,20,8,32
      115                           .member _STAT,96,4,8,32
      116                           .member _dampening,128,6,8,32
      117                           .member _damp_count,160,4,8,32
      118                           .member _aux,192,4,8,32
      119                           .member _val1,224,6,8,32
      120                           .member _val2,256,6,8,32
      121                           .member _calc_val,288,11,8,64
      122                           .member _base_val,352,11,8,64
      123                           .member _unit,416,4,8,32
      124                           .member _calc_unit,448,4,8,32
      125                           .member _class,480,4,8,32
      126                           .member _scale,512,6,8,32
      127                           .member _scale_long,544,6,8,32
      128                           .member _bound_hi_set,576,6,8,32
      129                           .member _bound_lo_set,608,6,8,32
      130                           .member _alarm_hi_set,640,6,8,32
      131                           .member _alarm_lo_set,672,6,8,32
      132                           .member _name,704,50,8,672,,21
      133                           .eos
      134                           .sym    _VAR,0,8,13,1376,.fake6
      135                           .stag   .fake7,96
      136                           .member _val,0,14,8,32
      137                           .member _vect,32,20,8,32
      138                           .member _vect2,64,20,8,32
      139                           .eos
      140                           .sym    _COIL,0,8,13,96,.fake7
      141                           .stag   .fake8,64
      142                           .member _val,0,4,8,32
      143                           .member _vect,32,20,8,32
      144                           .eos
      145                           .sym    _REGVECT,0,8,13,64,.fake8
      146                           .stag   .fake9,96
      147                           .member _prev,0,20,8,32
      148                           .member _next,32,20,8,32
      149                           .member _v,64,24,8,32,.fake6
      150                           .eos
      151                           .sym    _DPKT,0,8,13,96,.fake9
      152                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\BUFFER.H"
      153                           .stag   .fake10,9824
      154                           .member _head,0,4,8,32
      155                           .member _tail,32,4,8,32
      156                           .member _n,64,4,8,32
      157                           .member _GSEED,96,14,8,32
      158                           .member _CRC16,128,14,8,32
      159                           .member _buff,160,62,8,9600,,300
      160                           .member _sum,9760,4,8,32
      161                           .member _locked,9792,14,8,32
      162                           .eos
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE    4

      163                           .sym    _BFR,0,8,13,9824,.fake10
      164                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\UNITS.H"
      165                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\TIMER.H"
      166                           .stag   .fake11,320
      167                           .member _prev,0,20,8,32
      168                           .member _next,32,20,8,32
      169                           .member _vect,64,20,8,32
      170                           .member _priority,96,4,8,32
      171                           .member _parent,128,20,8,32
      172                           .member _n,160,4,8,32
      173                           .member _prev_n,192,4,8,32
      174                           .member _countdown,224,4,8,32
      175                           .member _preset_time,256,4,8,32
      176                           .member _t,288,6,8,32
      177                           .eos
      178                           .sym    _TPKT,0,8,13,320,.fake11
      179                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\I2C.H"
      180                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\ERRORS.H"
      181                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\SERIAL.H"
      182                           .stag   .fake12,2272
      183                           .member _Slave,0,4,8,32
      184                           .member _SNUM,32,4,8,32
      185                           .member _PRESENT,64,14,8,32
      186                           .member _TX_complete,96,14,8,32
      187                           .member _RX_pending,128,14,8,32
      188                           .member _BUSY,160,14,8,32
      189                           .member _IGNORE_RX,192,14,8,32
      190                           .member _STAT,224,12,8,32
      191                           .member _DAT,256,12,8,32
      192                           .member _broadcast,288,14,8,32
      193                           .member _TMR_Network_WDOG,320,4,8,32
      194                           .member _TMR_EOT_Delay,352,4,8,32
      195                           .member _TMR_Prefix_Delay,384,4,8,32
      196                           .member _TMR_Suffix_Delay,416,4,8,32
      197                           .member _TMR_Char,448,4,8,32
      198                           .member _TMR_Poll,480,8,8,320,.fake11
      199                           .member _TMR_Retry,800,8,8,320,.fake11
      200                           .member _nr,1120,4,8,32
      201                           .member _Received_PKT,1152,14,8,32
      202                           .member _TMR_enabled,1184,14,8,32
      203                           .member _tvector,1216,20,8,32
      204                           .member _pvector,1248,20,8,32
      205                           .member _pvector_main,1280,20,8,32
      206                           .member _tvector_main,1312,20,8,32
      207                           .member _fvector,1344,20,8,32
      208                           .member _actual_baud_rate,1376,6,8,32
      209                           .member _c,1408,14,8,32
      210                           .member _r,1440,14,8,32
      211                           .member _n,1472,4,8,32
      212                           .member _n_exp,1504,4,8,32
      213                           .member _ai,1536,4,8,32
      214                           .member _start,1568,4,8,32
      215                           .member _i,1600,4,8,32
      216                           .member _i_main,1632,4,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE    5

      217                           .member _func,1664,14,8,32
      218                           .member _ERROR_COUNT,1696,14,8,32
      219                           .member _WDOG_COUNT,1728,14,8,32
      220                           .member _INV_CMD_COUNT,1760,14,8,32
      221                           .member _INV_PKT_COUNT,1792,14,8,32
      222                           .member _SUCCESS,1824,14,8,32
      223                           .member _NUM_RETRIES,1856,14,8,32
      224                           .member _FLAG1,1888,14,8,32
      225                           .member _FLAG2,1920,14,8,32
      226                           .member _FLAG3,1952,14,8,32
      227                           .member _LONG_ADDRESS,1984,14,8,32
      228                           .member _MASTER,2016,8,8,96,.fake4
      229                           .member _p,2112,20,8,32
      230                           .member _data,2144,14,8,32
      231                           .member _f,2176,22,8,32
      232                           .member _l,2208,30,8,32
      233                           .member _failed,2240,14,8,32
      234                           .eos
      235                           .sym    _PORTV,0,8,13,2272,.fake12
      236                           .stag   .fake13,11232
      237                           .member _PREFIX,0,8,8,1376,.fake6
      238                           .member _SUFFIX,1376,8,8,1376,.fake6
      239                           .member _NETWDOG,2752,8,8,1376,.fake6
      240                           .member _Slave_ID,4128,8,8,1376,.fake6
      241                           .member _Baud_Rate,5504,8,8,1376,.fake6
      242                           .member _Parity,6880,4,8,32
      243                           .member _n_bits,6912,4,8,32
      244                           .member _STP,6944,4,8,32
      245                           .member _N,6976,4,8,32
      246                           .member _N_retry,7008,4,8,32
      247                           .member _EOT_Delay,7040,8,8,1376,.fake6
      248                           .member _Retry_Time,8416,8,8,1376,.fake6
      249                           .member _Num_Retry,9792,8,8,1376,.fake6
      250                           .member _poll_time,11168,4,8,32
      251                           .member _timeout,11200,4,8,32
      252                           .eos
      253                           .sym    _PORTC,0,8,13,11232,.fake13
      254                           .stag   .fake14,672
      255                           .member _prev,0,20,8,32
      256                           .member _next,32,20,8,32
      257                           .member _rxvect,64,20,8,32
      258                           .member _txvect,96,20,8,32
      259                           .member _n,128,4,8,32
      260                           .member _slave,160,4,8,32
      261                           .member _func,192,4,8,32
      262                           .member _addr,224,4,8,32
      263                           .member _num,256,4,8,32
      264                           .member _v,288,54,8,320,,10
      265                           .member _flt_ptr,608,22,8,32
      266                           .member _int_ptr,640,20,8,32
      267                           .eos
      268                           .sym    _MPKT,0,8,13,672,.fake14
      269                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\ADC.H"
      270                           .stag   .fake15,9952
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE    6

      271                           .member _CURRENT,0,8,8,1376,.fake6
      272                           .member _CURRENT_PERCENT_OF_RANGE,1376,8,8,1376,.fake6
      273                           .member _LRV,2752,8,8,1376,.fake6
      274                           .member _URV,4128,8,8,1376,.fake6
      275                           .member _TRIM_MIN,5504,8,8,1376,.fake6
      276                           .member _TRIM_MAX,6880,8,8,1376,.fake6
      277                           .member _VALUE,8256,8,8,1376,.fake6
      278                           .member _TRIM_MIN_C,9632,6,8,32
      279                           .member _TRIM_MAX_C,9664,6,8,32
      280                           .member _v,9696,8,8,64,.fake8
      281                           .member _class,9760,8,8,64,.fake8
      282                           .member _unit,9824,8,8,64,.fake8
      283                           .member _present,9888,14,8,32
      284                           .member _val,9920,6,8,32
      285                           .eos
      286                           .sym    _LOOPDATA_I,0,8,13,9952,.fake15
      287                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\DAC.H"
      288                           .stag   .fake16,13120
      289                           .member _CURRENT,0,8,8,1376,.fake6
      290                           .member _CURRENT_PERCENT_OF_RANGE,1376,8,8,1376,.fake6
      291                           .member _LRV,2752,8,8,1376,.fake6
      292                           .member _URV,4128,8,8,1376,.fake6
      293                           .member _TRIM_MIN,5504,8,8,1376,.fake6
      294                           .member _TRIM_MAX,6880,8,8,1376,.fake6
      295                           .member _TRIM_MIN_C,8256,6,8,32
      296                           .member _TRIM_MAX_C,8288,6,8,32
      297                           .member _ALARM_SELECT,8320,4,8,32
      298                           .member _MINSPAN,8352,6,8,32
      299                           .member _v,8384,8,8,64,.fake8
      300                           .member _class,8448,8,8,64,.fake8
      301                           .member _unit,8512,8,8,64,.fake8
      302                           .member _MANUAL,8576,4,8,32
      303                           .member _MANUAL_PERCENT,8608,6,8,32
      304                           .member _REVERSE,8640,4,8,32
      305                           .member _PID_input,8672,6,8,32
      306                           .member _PID_setpoint,8704,6,8,32
      307                           .member _P,8736,8,8,1376,.fake6
      308                           .member _I,10112,8,8,1376,.fake6
      309                           .member _D,11488,8,8,1376,.fake6
      310                           .member _pid_lastcycle,12864,4,8,32
      311                           .member _pid_output,12896,6,8,32
      312                           .member _pid_propband,12928,6,8,32
      313                           .member _pid_error,12960,6,8,32
      314                           .member _pid_bias,12992,6,8,32
      315                           .member _present,13024,14,8,32
      316                           .member _PID_fail,13056,14,8,32
      317                           .member _PID_enable_failsafe,13088,14,8,32
      318                           .eos
      319                           .sym    _LOOPDATA_O,0,8,13,13120,.fake16
      320                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\EXECUTE.H"
      321                           .stag   .fake17,128
      322                           .member _prev,0,20,8,32
      323                           .member _next,32,20,8,32
      324                           .member _vect,64,20,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE    7

      325                           .member _priority,96,4,8,32
      326                           .eos
      327                           .sym    _EPKT,0,8,13,128,.fake17
      328                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\FLASH.H"
      329                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\LOG.H"
      330                           .stag   .fake18,384
      331                           .member _log_len,0,14,8,32
      332                           .member _log_n_sectors,32,14,8,32
      333                           .member _log_n_max_per_sector,64,14,8,32
      334                           .member _log_n,96,14,8,32
      335                           .member _log_current_sector,128,14,8,32
      336                           .member _log_absolute_index,160,14,8,32
      337                           .member _log_start,192,30,8,32
      338                           .member _log_sector_size,224,14,8,32
      339                           .member _log_record_size,256,14,8,32
      340                           .member _log_end,288,14,8,32
      341                           .member _LOG_ERASE,320,14,8,32
      342                           .member _erased_sector,352,14,8,32
      343                           .eos
      344                           .sym    _LOG,0,8,13,384,.fake18
      345                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\DEMO.H"
      346                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\SELFTEST.H"
      347                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\MENU.H"
      348                           .stag   .fake19,16064
      349                           .member _INIT,0,14,8,32
      350                           .member _FRESH,32,14,8,32
      351                           .member _MENU,64,14,8,32
      352                           .member _SELECT,96,14,8,32
      353                           .member _VALUE,128,14,8,32
      354                           .member _ENTER,160,14,8,32
      355                           .member _DIR,192,4,8,32
      356                           .member _DIR_CHANGE,224,14,8,32
      357                           .member _M,256,14,8,32
      358                           .member _S,288,14,8,32
      359                           .member _V,320,14,8,32
      360                           .member _E,352,14,8,32
      361                           .member _CURSOR_ENABLED,384,14,8,32
      362                           .member _CURSOR_ROW,416,4,8,32
      363                           .member _CURSOR_COL,448,4,8,32
      364                           .member _CNT,480,14,8,32
      365                           .member _MENU_CNT,512,14,8,32
      366                           .member _SELECT_CNT,544,14,8,32
      367                           .member _VALUE_CNT,576,14,8,32
      368                           .member _k,608,14,8,32
      369                           .member _MODE_LOCKDOWN,640,14,8,32
      370                           .member _MODE_WPROT,672,14,8,32
      371                           .member _MODE_DEFINE,704,14,8,32
      372                           .member _MODE_USER,736,14,8,32
      373                           .member _MODE_TECH,768,14,8,32
      374                           .member _MODE_NORMAL,800,14,8,32
      375                           .member _PAGE,832,14,8,32
      376                           .member _SUBPAGE,864,14,8,32
      377                           .member _MENU_TRAP,896,14,8,32
      378                           .member _DIP,928,62,8,128,,4
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE    8

      379                           .member _tmpf,1056,54,8,320,,10
      380                           .member _tmpi,1376,52,8,320,,10
      381                           .member _str,1696,242,8,12928,,4,101
      382                           .member _tmpv,14624,8,8,1376,.fake6
      383                           .member _ptmpv,16000,24,8,32,.fake6
      384                           .member _tbl,16032,20,8,32
      385                           .eos
      386                           .sym    _MENU_STRUCT,0,8,13,16064,.fake19
      387                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\FLOAT1.H"
      388                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\GLBLS.H"
      389                           .stag   .fake20,480
      390                           .member _i,0,4,8,32
      391                           .member _Watercut,32,6,8,32
      392                           .member _Temperature,64,6,8,32
      393                           .member _Salinity,96,6,8,32
      394                           .member _Frequency_Oil,128,6,8,32
      395                           .member _Frequency_Water,160,6,8,32
      396                           .member _RefPower_Oil,192,6,8,32
      397                           .member _RefPower_Water,224,6,8,32
      398                           .member _Dadj,256,6,8,32
      399                           .member _Time_HH,288,4,8,32
      400                           .member _Time_MM,320,4,8,32
      401                           .member _Time_MONTH,352,4,8,32
      402                           .member _Time_DAY,384,4,8,32
      403                           .member _Time_DAY_OF_WEEK,416,4,8,32
      404                           .member _Time_YEAR,448,4,8,32
      405                           .eos
      406                           .sym    _CAPDATA,0,8,13,480,.fake20
      407                           .stag   .fake21,640
      408                           .member _Watercut,0,54,8,64,,2
      409                           .member _Temperature,64,54,8,64,,2
      410                           .member _Salinity,128,54,8,64,,2
      411                           .member _Frequency_Oil,192,54,8,64,,2
      412                           .member _Frequency_Water,256,54,8,64,,2
      413                           .member _RefPower_Oil,320,54,8,64,,2
      414                           .member _RefPower_Water,384,54,8,64,,2
      415                           .member _Dadj,448,54,8,64,,2
      416                           .member _Time_MONTH_DAY_HH_MM,512,52,8,64,,2
      417                           .member _CLRSTAT_Time_YEAR,576,52,8,64,,2
      418                           .eos
      419                           .sym    _CAPRECORD,0,8,13,640,.fake21
      420                           .stag   .fake22,800
      421                           .member _Start_HH,0,4,8,32
      422                           .member _Start_MM,32,4,8,32
      423                           .member _Start_SS,64,4,8,32
      424                           .member _Start_MONTH,96,4,8,32
      425                           .member _Start_DAY,128,4,8,32
      426                           .member _Start_YEAR,160,4,8,32
      427                           .member _Stop_HH,192,4,8,32
      428                           .member _Stop_MM,224,4,8,32
      429                           .member _Stop_SS,256,4,8,32
      430                           .member _Stop_MONTH,288,4,8,32
      431                           .member _Stop_DAY,320,4,8,32
      432                           .member _Stop_YEAR,352,4,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE    9

      433                           .member _stream,384,6,8,32
      434                           .member _elapsed_s,416,6,8,32
      435                           .member _duration,448,6,8,32
      436                           .member _purge,480,6,8,32
      437                           .member _gross_gas,512,6,8,32
      438                           .member _gross_oil,544,6,8,32
      439                           .member _gross_water,576,6,8,32
      440                           .member _gross_total,608,6,8,32
      441                           .member _gas24,640,6,8,32
      442                           .member _oil24,672,6,8,32
      443                           .member _water24,704,6,8,32
      444                           .member _total24,736,6,8,32
      445                           .member _watercut,768,6,8,32
      446                           .eos
      447                           .sym    _CCMRECORD,0,8,13,800,.fake22
      448                           .stag   .fake23,224
      449                           .member _SNUM,0,4,8,32
      450                           .member _ADDR,32,4,8,32
      451                           .member _BNUM,64,4,8,32
      452                           .member _REV,96,4,8,32
      453                           .member _MONTH,128,4,8,32
      454                           .member _DAY,160,4,8,32
      455                           .member _YEAR,192,4,8,32
      456                           .eos
      457                           .sym    _BOARD,0,8,13,224,.fake23
      458                           .stag   .fake24,320
      459                           .member _MODE,0,4,8,32
      460                           .member _STATUS_MASK,32,4,8,32
      461                           .member _v,64,8,8,64,.fake8
      462                           .member _setpoint,128,6,8,32
      463                           .member _ON,160,8,8,96,.fake7
      464                           .member _class,256,4,8,32
      465                           .member _unit,288,4,8,32
      466                           .eos
      467                           .sym    _RELAYDATA,0,8,13,320,.fake24
      468                           .stag   .fake25,11968
      469                           .member _diag,0,6,8,32
      470                           .member _mfr,32,6,8,32
      471                           .member _u_mfr,64,4,8,32
      472                           .member _density,96,6,8,32
      473                           .member _u_density,128,4,8,32
      474                           .member _density_PDI_corrected,160,6,8,32
      475                           .member _density_corrected,192,6,8,32
      476                           .member _u_density_corrected,224,4,8,32
      477                           .member _T,256,6,8,32
      478                           .member _u_T,288,4,8,32
      479                           .member _vfr,320,6,8,32
      480                           .member _u_vfr,352,4,8,32
      481                           .member _visc,384,6,8,32
      482                           .member _u_visc,416,4,8,32
      483                           .member _press,448,6,8,32
      484                           .member _mass_total,480,6,8,32
      485                           .member _u_m,512,4,8,32
      486                           .member _volume_total,544,6,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   10

      487                           .member _u_v,576,4,8,32
      488                           .member _u_P,608,4,8,32
      489                           .member _P,640,6,8,32
      490                           .member _mass_inv,672,6,8,32
      491                           .member _volume_inv,704,6,8,32
      492                           .member _raw_tube_freq,736,6,8,32
      493                           .member _left_pickup_value,768,6,8,32
      494                           .member _right_pickup_value,800,6,8,32
      495                           .member _drive_gain,832,6,8,32
      496                           .member _damp_flow_rate,864,8,8,1376,.fake6
      497                           .member _damp_density,2240,8,8,1376,.fake6
      498                           .member _mfr_cutoff,3616,8,8,1376,.fake6
      499                           .member _vfr_cutoff,4992,8,8,1376,.fake6
      500                           .member _mcf,6368,8,8,1376,.fake6
      501                           .member _address,7744,8,8,1376,.fake6
      502                           .member _mass_unit,9120,8,8,1376,.fake6
      503                           .member _density_cutoff,10496,8,8,1376,.fake6
      504                           .member _Z,11872,8,8,96,.fake7
      505                           .eos
      506                           .sym    _CORIOLIS,0,8,13,11968,.fake25
      507                           .stag   .fake26,288
      508                           .member _p_delta,0,6,8,32
      509                           .member _p_static,32,6,8,32
      510                           .member _T,64,6,8,32
      511                           .member _diag0,96,6,8,32
      512                           .member _diag1,128,6,8,32
      513                           .member _diag2,160,6,8,32
      514                           .member _u_DP,192,4,8,32
      515                           .member _u_SP,224,4,8,32
      516                           .member _u_PT,256,4,8,32
      517                           .eos
      518                           .sym    _PRESSURE,0,8,13,288,.fake26
      519                           .stag   .fake27,192
      520                           .member _T,0,6,8,32
      521                           .member _etc0,32,6,8,32
      522                           .member _etc1,64,6,8,32
      523                           .member _etc2,96,6,8,32
      524                           .member _etc3,128,6,8,32
      525                           .member _etc4,160,6,8,32
      526                           .eos
      527                           .sym    _TMPT,0,8,13,192,.fake27
      528                           .stag   .fake28,37184
      529                           .member _watercut,0,8,8,1376,.fake6
      530                           .member _T,1376,8,8,1376,.fake6
      531                           .member _pressure,2752,8,8,1376,.fake6
      532                           .member _density,4128,8,8,1376,.fake6
      533                           .member _density_PDI_corrected,5504,6,8,32
      534                           .member _density_adj,5536,6,8,32
      535                           .member _density_oilST,5568,8,8,1376,.fake6
      536                           .member _density_oil,6944,8,8,1376,.fake6
      537                           .member _density_waterST,8320,8,8,1376,.fake6
      538                           .member _density_water,9696,8,8,1376,.fake6
      539                           .member _salinity,11072,8,8,1376,.fake6
      540                           .member _API_TABLE,12448,4,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   11

      541                           .member _a,12480,6,8,32
      542                           .member _Meter_Factor,12512,8,8,1376,.fake6
      543                           .member _Shrinkage,13888,8,8,1376,.fake6
      544                           .member _VCFo,15264,6,8,32
      545                           .member _VCFw,15296,6,8,32
      546                           .member _net_watercut,15328,6,8,32
      547                           .member _net_watercut_mass,15360,6,8,32
      548                           .member _Dadj,15392,6,8,32
      549                           .member _NET_FLOW_OIL,15424,8,8,1376,.fake6
      550                           .member _NET_FLOW_WATER,16800,8,8,1376,.fake6
      551                           .member _NET_FLOW_TOTAL,18176,8,8,1376,.fake6
      552                           .member _NET_OIL,19552,8,8,1376,.fake6
      553                           .member _NET_WATER,20928,8,8,1376,.fake6
      554                           .member _NET_TOTAL,22304,8,8,1376,.fake6
      555                           .member _GROSS_OIL,23680,8,8,1376,.fake6
      556                           .member _GROSS_WATER,25056,8,8,1376,.fake6
      557                           .member _GROSS_TOTAL,26432,8,8,1376,.fake6
      558                           .member _FLOW_OIL,27808,8,8,1376,.fake6
      559                           .member _FLOW_WATER,29184,8,8,1376,.fake6
      560                           .member _FLOW_TOTAL,30560,8,8,1376,.fake6
      561                           .member _PULSES_PER_ACCUM_UNIT,31936,14,8,32
      562                           .member _PULSE_TOTAL,31968,8,8,1376,.fake6
      563                           .member _PULSE_FLOW,33344,8,8,1376,.fake6
      564                           .member _PULSE_FREQ,34720,8,8,1376,.fake6
      565                           .member _PULSE_COUNTER,36096,14,8,32
      566                           .member _PULSE,36128,4,8,32
      567                           .member _CNT,36160,4,8,32
      568                           .member _PULSE_DELTA,36192,4,8,32
      569                           .member _PULSE_FACTOR,36224,6,8,32
      570                           .member _PULSE_STAT,36256,4,8,32
      571                           .member _enable_NET,36288,14,8,32
      572                           .member _enable_GROSS,36320,14,8,32
      573                           .member _enable_FLOW,36352,14,8,32
      574                           .member _enable_DENSITY,36384,14,8,32
      575                           .member _enable_PULSE,36416,14,8,32
      576                           .member _flow_class,36448,8,8,64,.fake8
      577                           .member _flow_unit,36512,8,8,64,.fake8
      578                           .member _accum_unit,36576,8,8,64,.fake8
      579                           .member _Z,36640,8,8,96,.fake7
      580                           .member _USE_PDI_TEMP,36736,14,8,32
      581                           .member _USE_PDI_SALINITY,36768,14,8,32
      582                           .member _USE_PDI_WATERCUT,36800,14,8,32
      583                           .member _CALC_WC_DENSITY,36832,14,8,32
      584                           .member _MAN_TEMP,36864,14,8,32
      585                           .member _MAN_SALINITY,36896,14,8,32
      586                           .member _MAN_WATERCUT,36928,14,8,32
      587                           .member _MAN_DENSITY,36960,14,8,32
      588                           .member _MAN_PRESSURE,36992,14,8,32
      589                           .member _MAN_FLOW,37024,14,8,32
      590                           .member _AUTHORIZATION_CODE1,37056,14,8,32
      591                           .member _AUTHORIZATION_CODE2,37088,14,8,32
      592                           .member _AUTHORIZATION_CODE3,37120,14,8,32
      593                           .member _AUTHORIZATION_CODE4,37152,14,8,32
      594                           .eos
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   12

      595                           .sym    _FLOW_COMP,0,8,13,37184,.fake28
      596                           .stag   .fake29,2144
      597                           .member _WATERCUT,0,6,8,32
      598                           .member _FLOW_RATE,32,6,8,32
      599                           .member _TEMPERATURE,64,6,8,32
      600                           .member _DENSITY,96,6,8,32
      601                           .member _VISCOSITY,128,6,8,32
      602                           .member _iWATERCUTz,160,4,8,32
      603                           .member _iWATERCUT,192,4,8,32
      604                           .member _iFLOW_RATE,224,4,8,32
      605                           .member _iTEMPERATURE,256,4,8,32
      606                           .member _iDENSITY,288,4,8,32
      607                           .member _iVISCOSITY,320,4,8,32
      608                           .member _maxWATERCUTz,352,6,8,32
      609                           .member _maxWATERCUT,384,6,8,32
      610                           .member _maxFLOW_RATE,416,6,8,32
      611                           .member _maxTEMPERATURE,448,6,8,32
      612                           .member _maxDENSITY,480,6,8,32
      613                           .member _maxVISCOSITY,512,6,8,32
      614                           .member _minWATERCUTz,544,6,8,32
      615                           .member _minWATERCUT,576,6,8,32
      616                           .member _minFLOW_RATE,608,6,8,32
      617                           .member _minTEMPERATURE,640,6,8,32
      618                           .member _minDENSITY,672,6,8,32
      619                           .member _minVISCOSITY,704,6,8,32
      620                           .member _ENABLED,736,14,8,32
      621                           .member _DESTINATION_ADDRESS,768,8,8,1376,.fake6
      622                           .eos
      623                           .sym    _ALYESKA_STRUCT,0,8,13,2144,.fake29
      624                           .stag   .fake30,3872
      625                           .member _ENABLED,0,8,8,96,.fake7
      626                           .member _flow_threshold,96,8,8,1376,.fake6
      627                           .member _span,1472,8,8,1376,.fake6
      628                           .member _S3,2848,6,8,32
      629                           .member _S2,2880,6,8,32
      630                           .member _S1,2912,6,8,32
      631                           .member _S0,2944,6,8,32
      632                           .member _Fmin,2976,6,8,32
      633                           .member _Fmax,3008,6,8,32
      634                           .member _Dmin,3040,6,8,32
      635                           .member _Dmax,3072,6,8,32
      636                           .member _new,3104,14,8,32
      637                           .member _CHANGED,3136,14,8,32
      638                           .member _PURGING,3168,14,8,32
      639                           .member _TEST_IN_PROGRESS,3200,14,8,32
      640                           .member _SP3A,3232,6,8,32
      641                           .member _SP2A,3264,6,8,32
      642                           .member _SP1A,3296,6,8,32
      643                           .member _SP0A,3328,6,8,32
      644                           .member _SPLOA,3360,6,8,32
      645                           .member _SPHIA,3392,6,8,32
      646                           .member _SP3B,3424,6,8,32
      647                           .member _SP2B,3456,6,8,32
      648                           .member _SP1B,3488,6,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   13

      649                           .member _SP0B,3520,6,8,32
      650                           .member _SPLOB,3552,6,8,32
      651                           .member _SPHIB,3584,6,8,32
      652                           .member _FBHI3,3616,6,8,32
      653                           .member _FBHI2,3648,6,8,32
      654                           .member _FBHI1,3680,6,8,32
      655                           .member _FBHI0,3712,6,8,32
      656                           .member _FBLO3,3744,6,8,32
      657                           .member _FBLO2,3776,6,8,32
      658                           .member _FBLO1,3808,6,8,32
      659                           .member _FBLO0,3840,6,8,32
      660                           .eos
      661                           .sym    _HS_STRUCT,0,8,13,3872,.fake30
      662                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\HART.H"
      663                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\MODBUSRTU.H"
      664                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\MISC.H"
      665                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\API.H"
      666                           .file   "flash.c"
      667 00000000                  .sect    "internal_RAM"
      668                   
      669                           .global _FLASH_SIZE
      670                           .sym    _FLASH_SIZE,_FLASH_SIZE,46,2,0
      671                           .func   14
      672                   ;******************************************************************************
      673                   ;* FUNCTION NAME: _FLASH_SIZE                                                 *
      674                   ;*                                                                            *
      675                   ;*   Architecture       : TMS320C33                                           *
      676                   ;*   Calling Convention : TI Standard Register Parameters                     *
      677                   ;*   Function Uses Regs : r0,ar0,ar1,fp,st                                    *
      678                   ;*   Regs Saved         :                                                     *
      679                   ;*   Stack Frame        : Full (w/ debug)                                     *
      680                   ;*   Total Frame Size   : 2 Call + 0 Parm + 3 Auto + 0 SOE = 5 words          *
      681                   ;******************************************************************************
      682 00000000          _FLASH_SIZE:
      683                           .sym    _dev_id,1,14,1,32
      684                           .sym    _r,2,62,1,64,,2
      685                           .line   1
      686                   ;----------------------------------------------------------------------
      687                   ;  14 | unsigned int FLASH_SIZE(void)                                          
      688                   ;  16 | unsigned int dev_id;                                                   
      689                   ;  17 | unsigned int r[2];                                                     
      690                   ;----------------------------------------------------------------------
      691 00000000 0f2b0000         push      fp
      692 00000001 500b0014         ldiu      sp,fp
      693 00000002 02740003         addi      3,sp
      694                           .line   6
      695                   ;----------------------------------------------------------------------
      696                   ;  19 | _GIEP;                                                                 
      697                   ;----------------------------------------------------------------------
      698 00000003 0f350000         push    ST                      
      699 00000004 03752000         andn    2000h, ST       
      700                           .line   8
      701                   ;----------------------------------------------------------------------
      702                   ;  21 | r[0] = 0;                                                              
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   14

      703                   ;----------------------------------------------------------------------
      704 00000005 5008000b         ldiu      fp,ar0                ; |21| 
      705 00000006 02680002         addi      2,ar0                 ; |21| 
      706 00000007 50600000         ldiu      0,r0                  ; |21| 
      707 00000008 1540c000         sti       r0,*ar0               ; |21| 
      708                           .line   9
      709                   ;----------------------------------------------------------------------
      710                   ;  22 | r[1] = 0;                                                              
      711                   ;----------------------------------------------------------------------
      712 00000009 5008000b         ldiu      fp,ar0                ; |22| 
      713 0000000a 02680003         addi      3,ar0                 ; |22| 
      714 0000000b 1540c000         sti       r0,*ar0               ; |22| 
      715                           .line   11
      716                   ;----------------------------------------------------------------------
      717                   ;  24 | *FLASH_LOC = READ_CONFIG;                                              
      718                   ;----------------------------------------------------------------------
      719 0000000c 08700000-        ldp       @CL1,DP
      720 0000000d 50280001-        ldiu      @CL1,ar0              ; |24| 
      721 0000000e 08700000-        ldp       @CL2,DP
      722 0000000f 50200002-        ldiu      @CL2,r0               ; |24| 
      723 00000010 1540c000         sti       r0,*ar0               ; |24| 
      724                           .line   12
      725                   ;----------------------------------------------------------------------
      726                   ;  25 | dev_id = FLASH_LOC[1];                                                 
      727                   ;----------------------------------------------------------------------
      728 00000011 08700000-        ldp       @CL3,DP
      729 00000012 50280003-        ldiu      @CL3,ar0              ; |25| 
      730 00000013 5040c000         ldiu      *ar0,r0               ; |25| 
      731 00000014 15400301         sti       r0,*+fp(1)            ; |25| 
      732                           .line   13
      733                   ;----------------------------------------------------------------------
      734                   ;  26 | *FLASH_LOC = READ_ARRAY;                                               
      735                   ;----------------------------------------------------------------------
      736 00000015 08700000-        ldp       @CL1,DP
      737 00000016 50280001-        ldiu      @CL1,ar0              ; |26| 
      738 00000017 08700000-        ldp       @CL4,DP
      739 00000018 50200004-        ldiu      @CL4,r0               ; |26| 
      740 00000019 1540c000         sti       r0,*ar0               ; |26| 
      741                           .line   15
      742                   ;----------------------------------------------------------------------
      743                   ;  28 | GIEP;                                                                  
      744                   ;  30 | switch(dev_id & 0xFFFF)                                                
      745                   ;  32 |         case 0x88C1:                                                   
      746                   ;----------------------------------------------------------------------
      747 0000001a 0e350000         pop             ST                      
      748 0000001b 6a000018         bu        L7                    ; |13| 
      749                   ;*      Branch Occurs to L7             ; |13| 
      750 0000001c          L2:        
      751                           .line   21
      752                   ;----------------------------------------------------------------------
      753                   ;  34 | r[0] = 0x80000;                                                        
      754                   ;----------------------------------------------------------------------
      755 0000001c 5008000b         ldiu      fp,ar0                ; |34| 
      756 0000001d 08700000-        ldp       @CL5,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   15

      757 0000001e 02680002         addi      2,ar0                 ; |34| 
      758 0000001f 50200005-        ldiu      @CL5,r0               ; |34| 
      759 00000020 1540c000         sti       r0,*ar0               ; |34| 
      760                           .line   22
      761                   ;----------------------------------------------------------------------
      762                   ;  35 | break;                                                                 
      763                   ;  38 | case 0x88C3:                                                           
      764                   ;----------------------------------------------------------------------
      765 00000021 6a00003a         bu        L18                   ; |35| 
      766                   ;*      Branch Occurs to L18            ; |35| 
      767 00000022          L3:        
      768                           .line   27
      769                   ;----------------------------------------------------------------------
      770                   ;  40 | r[0] = 0x100000;                                                       
      771                   ;----------------------------------------------------------------------
      772 00000022 5008000b         ldiu      fp,ar0                ; |40| 
      773 00000023 08700000-        ldp       @CL6,DP
      774 00000024 02680002         addi      2,ar0                 ; |40| 
      775 00000025 50200006-        ldiu      @CL6,r0               ; |40| 
      776 00000026 1540c000         sti       r0,*ar0               ; |40| 
      777                           .line   28
      778                   ;----------------------------------------------------------------------
      779                   ;  41 | break;                                                                 
      780                   ;  44 | case 0x88C5:                                                           
      781                   ;----------------------------------------------------------------------
      782 00000027 6a000034         bu        L18                   ; |41| 
      783                   ;*      Branch Occurs to L18            ; |41| 
      784 00000028          L4:        
      785                           .line   33
      786                   ;----------------------------------------------------------------------
      787                   ;  46 | r[0] = 0x200000;                                                       
      788                   ;----------------------------------------------------------------------
      789 00000028 5008000b         ldiu      fp,ar0                ; |46| 
      790 00000029 08700000-        ldp       @CL7,DP
      791 0000002a 02680002         addi      2,ar0                 ; |46| 
      792 0000002b 50200007-        ldiu      @CL7,r0               ; |46| 
      793 0000002c 1540c000         sti       r0,*ar0               ; |46| 
      794                           .line   34
      795                   ;----------------------------------------------------------------------
      796                   ;  47 | break;                                                                 
      797                   ;  50 | case 0x88CD:                                                           
      798                   ;----------------------------------------------------------------------
      799 0000002d 6a00002e         bu        L18                   ; |47| 
      800                   ;*      Branch Occurs to L18            ; |47| 
      801 0000002e          L5:        
      802                           .line   39
      803                   ;----------------------------------------------------------------------
      804                   ;  52 | r[0] = 0x400000;                                                       
      805                   ;----------------------------------------------------------------------
      806 0000002e 5008000b         ldiu      fp,ar0                ; |52| 
      807 0000002f 08700000-        ldp       @CL8,DP
      808 00000030 02680002         addi      2,ar0                 ; |52| 
      809 00000031 50200008-        ldiu      @CL8,r0               ; |52| 
      810 00000032 1540c000         sti       r0,*ar0               ; |52| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   16

      811                           .line   40
      812                   ;----------------------------------------------------------------------
      813                   ;  53 | break;                                                                 
      814                   ;  57 | switch(dev_id >> 16)                                                   
      815                   ;  59 | case 0x88C1:                                                           
      816                   ;----------------------------------------------------------------------
      817 00000033 6a000028         bu        L18                   ; |53| 
      818                   ;*      Branch Occurs to L18            ; |53| 
      819 00000034          L7:        
      820                           .line   17
      821 00000034 08700000-        ldp       @CL9,DP
      822 00000035 50200009-        ldiu      @CL9,r0               ; |30| 
      823 00000036 08700000-        ldp       @CL10,DP
      824 00000037 02c00301         and       *+fp(1),r0            ; |30| 
      825 00000038 04a0000a-        cmpi      @CL10,r0              ; |30| 
      826 00000039 6a05ffe2         beq       L2                    ; |30| 
      827                   ;*      Branch Occurs to L2             ; |30| 
      828 0000003a 08700000-        ldp       @CL11,DP
      829 0000003b 04a0000b-        cmpi      @CL11,r0              ; |30| 
      830 0000003c 6a05ffe5         beq       L3                    ; |30| 
      831                   ;*      Branch Occurs to L3             ; |30| 
      832 0000003d 08700000-        ldp       @CL12,DP
      833 0000003e 04a0000c-        cmpi      @CL12,r0              ; |30| 
      834 0000003f 6a05ffe8         beq       L4                    ; |30| 
      835                   ;*      Branch Occurs to L4             ; |30| 
      836 00000040 08700000-        ldp       @CL13,DP
      837 00000041 04a0000d-        cmpi      @CL13,r0              ; |30| 
      838 00000042 6a05ffeb         beq       L5                    ; |30| 
      839                   ;*      Branch Occurs to L5             ; |30| 
      840 00000043 6a000018         bu        L18                   ; |30| 
      841                   ;*      Branch Occurs to L18            ; |30| 
      842 00000044          L13:        
      843                           .line   48
      844                   ;----------------------------------------------------------------------
      845                   ;  61 | r[1] = 0x80000;                                                        
      846                   ;----------------------------------------------------------------------
      847 00000044 5008000b         ldiu      fp,ar0                ; |61| 
      848 00000045 08700000-        ldp       @CL5,DP
      849 00000046 02680003         addi      3,ar0                 ; |61| 
      850 00000047 50200005-        ldiu      @CL5,r0               ; |61| 
      851 00000048 1540c000         sti       r0,*ar0               ; |61| 
      852                           .line   49
      853                   ;----------------------------------------------------------------------
      854                   ;  62 | break;                                                                 
      855                   ;  65 | case 0x88C3:                                                           
      856                   ;----------------------------------------------------------------------
      857 00000049 6a000020         bu        L22                   ; |62| 
      858                   ;*      Branch Occurs to L22            ; |62| 
      859 0000004a          L14:        
      860                           .line   54
      861                   ;----------------------------------------------------------------------
      862                   ;  67 | r[1] = 0x100000;                                                       
      863                   ;----------------------------------------------------------------------
      864 0000004a 5008000b         ldiu      fp,ar0                ; |67| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   17

      865 0000004b 08700000-        ldp       @CL6,DP
      866 0000004c 02680003         addi      3,ar0                 ; |67| 
      867 0000004d 50200006-        ldiu      @CL6,r0               ; |67| 
      868 0000004e 1540c000         sti       r0,*ar0               ; |67| 
      869                           .line   55
      870                   ;----------------------------------------------------------------------
      871                   ;  68 | break;                                                                 
      872                   ;  71 | case 0x88C5:                                                           
      873                   ;----------------------------------------------------------------------
      874 0000004f 6a00001a         bu        L22                   ; |68| 
      875                   ;*      Branch Occurs to L22            ; |68| 
      876 00000050          L15:        
      877                           .line   60
      878                   ;----------------------------------------------------------------------
      879                   ;  73 | r[1] = 0x200000;                                                       
      880                   ;----------------------------------------------------------------------
      881 00000050 5008000b         ldiu      fp,ar0                ; |73| 
      882 00000051 08700000-        ldp       @CL7,DP
      883 00000052 02680003         addi      3,ar0                 ; |73| 
      884 00000053 50200007-        ldiu      @CL7,r0               ; |73| 
      885 00000054 1540c000         sti       r0,*ar0               ; |73| 
      886                           .line   61
      887                   ;----------------------------------------------------------------------
      888                   ;  74 | break;                                                                 
      889                   ;  77 | case 0x88CD:                                                           
      890                   ;----------------------------------------------------------------------
      891 00000055 6a000014         bu        L22                   ; |74| 
      892                   ;*      Branch Occurs to L22            ; |74| 
      893 00000056          L16:        
      894                           .line   66
      895                   ;----------------------------------------------------------------------
      896                   ;  79 | r[1] = 0x400000;                                                       
      897                   ;----------------------------------------------------------------------
      898 00000056 5008000b         ldiu      fp,ar0                ; |79| 
      899 00000057 08700000-        ldp       @CL8,DP
      900 00000058 02680003         addi      3,ar0                 ; |79| 
      901 00000059 50200008-        ldiu      @CL8,r0               ; |79| 
      902 0000005a 1540c000         sti       r0,*ar0               ; |79| 
      903                           .line   67
      904                   ;----------------------------------------------------------------------
      905                   ;  80 | break;                                                                 
      906                   ;----------------------------------------------------------------------
      907 0000005b 6a00000e         bu        L22                   ; |80| 
      908                   ;*      Branch Occurs to L22            ; |80| 
      909 0000005c          L18:        
      910                           .line   44
      911 0000005c 50400301         ldiu      *+fp(1),r0            ; |57| 
      912 0000005d 09e0fff0         lsh       -16,r0                ; |57| 
      913 0000005e 08700000-        ldp       @CL10,DP
      914 0000005f 04a0000a-        cmpi      @CL10,r0              ; |57| 
      915 00000060 6a05ffe3         beq       L13                   ; |57| 
      916                   ;*      Branch Occurs to L13            ; |57| 
      917 00000061 08700000-        ldp       @CL11,DP
      918 00000062 04a0000b-        cmpi      @CL11,r0              ; |57| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   18

      919 00000063 6a05ffe6         beq       L14                   ; |57| 
      920                   ;*      Branch Occurs to L14            ; |57| 
      921 00000064 08700000-        ldp       @CL12,DP
      922 00000065 04a0000c-        cmpi      @CL12,r0              ; |57| 
      923 00000066 6a05ffe9         beq       L15                   ; |57| 
      924                   ;*      Branch Occurs to L15            ; |57| 
      925 00000067 08700000-        ldp       @CL13,DP
      926 00000068 04a0000d-        cmpi      @CL13,r0              ; |57| 
      927 00000069 6a05ffec         beq       L16                   ; |57| 
      928                   ;*      Branch Occurs to L16            ; |57| 
      929 0000006a          L22:        
      930                           .line   71
      931                   ;----------------------------------------------------------------------
      932                   ;  84 | if (r[0]<r[1]) return r[0];                                            
      933                   ;----------------------------------------------------------------------
      934 0000006a 5008000b         ldiu      fp,ar0                ; |84| 
      935 0000006b 5009000b         ldiu      fp,ar1                ; |84| 
      936 0000006c 02680003         addi      3,ar0                 ; |84| 
      937 0000006d 02690002         addi      2,ar1                 ; |84| 
      938 0000006e 23e0c1c0         cmpi3     *ar0,*ar1             ; |84| 
      939 0000006f 6a040004         bhs       L25                   ; |84| 
      940                   ;*      Branch Occurs to L25            ; |84| 
      941 00000070 6a200004         bud       L26                   ; |84| 
      942 00000071 5008000b         ldiu      fp,ar0                ; |84| 
      943 00000072 02680002         addi      2,ar0                 ; |84| 
      944 00000073 5040c000         ldiu      *ar0,r0               ; |84| 
      945                   ;*      Branch Occurs to L26            ; |84| 
      946 00000074          L25:        
      947                           .line   72
      948                   ;----------------------------------------------------------------------
      949                   ;  85 | else return r[1];                                                      
      950                   ;----------------------------------------------------------------------
      951 00000074 5008000b         ldiu      fp,ar0                ; |85| 
      952 00000075 02680003         addi      3,ar0                 ; |85| 
      953 00000076 5040c000         ldiu      *ar0,r0               ; |85| 
      954 00000077          L26:        
      955                           .line   73
      956                                                           ; Begin Epilog Code
      957 00000077 50410b01         ldiu      *-fp(1),r1            ; |86| 
      958 00000078 504bc300         ldiu      *fp,fp                ; |86| 
      959                                                           ; Unallocate the Frame
      960 00000079 18740005         subi      5,sp                  ; |86| 
      961 0000007a 68000001         bu        r1
      962                   ;*      Branch Occurs to r1 
      963                           .endfunc        86,000000000h,3
      964                   
      965                   
      966 0000007b                  .sect    "internal_RAM"
      967                   
      968                           .global _FLASH_CHECK_ADDR
      969                           .sym    _FLASH_CHECK_ADDR,_FLASH_CHECK_ADDR,36,2,0
      970                           .func   88
      971                   ;******************************************************************************
      972                   ;* FUNCTION NAME: _FLASH_CHECK_ADDR                                           *
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   19

      973                   ;*                                                                            *
      974                   ;*   Architecture       : TMS320C33                                           *
      975                   ;*   Calling Convention : TI Standard Register Parameters                     *
      976                   ;*   Function Uses Regs : r0,r1,r2,ar2,st                                     *
      977                   ;*   Regs Saved         :                                                     *
      978                   ;*   Stack Frame        : Full (w/ debug)                                     *
      979                   ;*   Total Frame Size   : 2 Call + 0 Parm + 5 Auto + 0 SOE = 7 words          *
      980                   ;******************************************************************************
      981 0000007b          _FLASH_CHECK_ADDR:
      982                   ;* ar2   assigned to _addr
      983                           .sym    _addr,10,30,17,32
      984                   ;* r2    assigned to _n
      985                           .sym    _n,2,14,17,32
      986                           .sym    _addr,1,30,1,32
      987                           .sym    _n,2,14,1,32
      988                           .sym    _dev_id,3,14,1,32
      989                           .sym    _f,4,14,1,32
      990                           .sym    _mask,5,14,1,32
      991                           .line   1
      992                   ;----------------------------------------------------------------------
      993                   ;  88 | int FLASH_CHECK_ADDR(unsigned int* addr, unsigned int n)               
      994                   ;----------------------------------------------------------------------
      995 0000007b 0f2b0000         push      fp
      996 0000007c 500b0014         ldiu      sp,fp
      997 0000007d 02740005         addi      5,sp
      998                           .line   2
      999                   ;----------------------------------------------------------------------
     1000                   ;  90 | unsigned int dev_id;                                                   
     1001                   ;  91 | unsigned int f;                                                        
     1002                   ;  92 | unsigned int mask;                                                     
     1003                   ;----------------------------------------------------------------------
     1004 0000007e 15420302         sti       r2,*+fp(2)            ; |89| 
     1005 0000007f 154a0301         sti       ar2,*+fp(1)           ; |89| 
     1006                           .line   7
     1007                   ;----------------------------------------------------------------------
     1008                   ;  94 | f = FLASH_SIZE();                                                      
     1009                   ;----------------------------------------------------------------------
     1010 00000080 08700000-        ldp       @CL14,DP
     1011 00000081 5020000e-        ldiu      @CL14,r0              ; |94| 
     1012 00000082 70000000         callu     r0                    ; far call to _FLASH_SIZE       ; |94| 
     1013                                                           ; |94| Far Call Occurs
     1014 00000083 15400304         sti       r0,*+fp(4)            ; |94| 
     1015                           .line   9
     1016                   ;----------------------------------------------------------------------
     1017                   ;  96 | if (addr >= (FLASH_LOC+f)) return FLASH_ERROR_BLKADDR;                 
     1018                   ;----------------------------------------------------------------------
     1019 00000084 08700000-        ldp       @CL1,DP
     1020 00000085 50410301         ldiu      *+fp(1),r1            ; |96| 
     1021 00000086 50200001-        ldiu      @CL1,r0               ; |96| 
     1022 00000087 02400304         addi      *+fp(4),r0            ; |96| Unsigned
     1023 00000088 23800100         cmpi3     r0,r1                 ; |96| 
     1024 00000089 6a010004         blo       L30                   ; |96| 
     1025                   ;*      Branch Occurs to L30            ; |96| 
     1026 0000008a 6a20006a         bud       L53                   ; |96| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   20

     1027 0000008b 0c800000         nop
     1028 0000008c 0c800000         nop
     1029 0000008d 50600020         ldiu      32,r0                 ; |96| 
     1030                   ;*      Branch Occurs to L53            ; |96| 
     1031 0000008e          L30:        
     1032                           .line   10
     1033                   ;----------------------------------------------------------------------
     1034                   ;  97 | if (addr < FLASH_LOC) return FLASH_ERROR_BLKADDR;                      
     1035                   ;----------------------------------------------------------------------
     1036 0000008e 08700000-        ldp       @CL1,DP
     1037 0000008f 50400301         ldiu      *+fp(1),r0            ; |97| 
     1038 00000090 04a00001-        cmpi      @CL1,r0               ; |97| 
     1039 00000091 6a040004         bhs       L32                   ; |97| 
     1040                   ;*      Branch Occurs to L32            ; |97| 
     1041 00000092 6a200062         bud       L53                   ; |97| 
     1042 00000093 0c800000         nop
     1043 00000094 0c800000         nop
     1044 00000095 50600020         ldiu      32,r0                 ; |97| 
     1045                   ;*      Branch Occurs to L53            ; |97| 
     1046 00000096          L32:        
     1047                           .line   12
     1048                   ;----------------------------------------------------------------------
     1049                   ;  99 | if (addr < (FLASH_LOC+FLASH_SECTOR_SIZE))                              
     1050                   ;----------------------------------------------------------------------
     1051 00000096 08700000-        ldp       @CL15,DP
     1052 00000097 50400301         ldiu      *+fp(1),r0            ; |99| 
     1053 00000098 04a0000f-        cmpi      @CL15,r0              ; |99| 
     1054 00000099 6a04002c         bhs       L43                   ; |99| 
     1055                   ;*      Branch Occurs to L43            ; |99| 
     1056                           .line   14
     1057                   ;----------------------------------------------------------------------
     1058                   ; 101 | if (n==0)                                                              
     1059                   ;----------------------------------------------------------------------
     1060 0000009a 50400302         ldiu      *+fp(2),r0            ; |101| 
     1061 0000009b 04e00000         cmpi      0,r0                  ; |101| 
     1062 0000009c 6a060009         bne       L36                   ; |101| 
     1063                   ;*      Branch Occurs to L36            ; |101| 
     1064                           .line   16
     1065                   ;----------------------------------------------------------------------
     1066                   ; 103 | if ((((unsigned int)addr-(unsigned int)FLASH_LOC)%FLASH_CFGB_SIZE) == 0
     1067                   ;     | )                                                                      
     1068                   ;----------------------------------------------------------------------
     1069 0000009d 08700000-        ldp       @CL8,DP
     1070 0000009e 50200008-        ldiu      @CL8,r0               ; |103| 
     1071 0000009f 19c00301         subri     *+fp(1),r0            ; |103| Unsigned
     1072 000000a0 1a600fff         tstb      4095,r0               ; |103| 
     1073 000000a1 6a060004         bne       L36                   ; |103| 
     1074                   ;*      Branch Occurs to L36            ; |103| 
     1075                           .line   17
     1076                   ;----------------------------------------------------------------------
     1077                   ; 104 | return 0;                                                              
     1078                   ;----------------------------------------------------------------------
     1079 000000a2 6a200052         bud       L53                   ; |104| 
     1080 000000a3 0c800000         nop
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   21

     1081 000000a4 0c800000         nop
     1082 000000a5 50600000         ldiu      0,r0                  ; |104| 
     1083                   ;*      Branch Occurs to L53            ; |104| 
     1084 000000a6          L36:        
     1085                           .line   19
     1086                   ;----------------------------------------------------------------------
     1087                   ; 106 | if (n>FLASH_CFGB_SIZE) return FLASH_ERROR_BLKADDR;                     
     1088                   ;----------------------------------------------------------------------
     1089 000000a6 50400302         ldiu      *+fp(2),r0            ; |106| 
     1090 000000a7 04e01000         cmpi      4096,r0               ; |106| 
     1091 000000a8 6a020004         bls       L38                   ; |106| 
     1092                   ;*      Branch Occurs to L38            ; |106| 
     1093 000000a9 6a20004b         bud       L53                   ; |106| 
     1094 000000aa 0c800000         nop
     1095 000000ab 0c800000         nop
     1096 000000ac 50600020         ldiu      32,r0                 ; |106| 
     1097                   ;*      Branch Occurs to L53            ; |106| 
     1098 000000ad          L38:        
     1099                           .line   20
     1100                   ;----------------------------------------------------------------------
     1101                   ; 107 | if (((unsigned int)addr+n-1) >= ((unsigned int)FLASH_LOC+FLASH_SECTOR_S
     1102                   ;     | IZE)) return FLASH_ERROR_BLKADDR;                                      
     1103                   ;----------------------------------------------------------------------
     1104 000000ad 50400302         ldiu      *+fp(2),r0            ; |107| 
     1105 000000ae 08700000-        ldp       @CL16,DP
     1106 000000af 02400301         addi      *+fp(1),r0            ; |107| Unsigned
     1107 000000b0 18600001         subi      1,r0                  ; |107| Unsigned
     1108 000000b1 04a00010-        cmpi      @CL16,r0              ; |107| 
     1109 000000b2 6a010004         blo       L40                   ; |107| 
     1110                   ;*      Branch Occurs to L40            ; |107| 
     1111 000000b3 6a200041         bud       L53                   ; |107| 
     1112 000000b4 0c800000         nop
     1113 000000b5 0c800000         nop
     1114 000000b6 50600020         ldiu      32,r0                 ; |107| 
     1115                   ;*      Branch Occurs to L53            ; |107| 
     1116 000000b7          L40:        
     1117                           .line   21
     1118                   ;----------------------------------------------------------------------
     1119                   ; 108 | mask = 0xFFFFFFFF ^ (FLASH_CFGB_SIZE-1);                               
     1120                   ;----------------------------------------------------------------------
     1121 000000b7 08700000-        ldp       @CL17,DP
     1122 000000b8 50200011-        ldiu      @CL17,r0              ; |108| 
     1123 000000b9 15400305         sti       r0,*+fp(5)            ; |108| 
     1124                           .line   22
     1125                   ;----------------------------------------------------------------------
     1126                   ; 109 | f = ((unsigned int)addr&mask) + FLASH_CFGB_SIZE;                       
     1127                   ;----------------------------------------------------------------------
     1128 000000ba 02c00301         and       *+fp(1),r0            ; |109| 
     1129 000000bb 02601000         addi      4096,r0               ; |109| Unsigned
     1130 000000bc 15400304         sti       r0,*+fp(4)            ; |109| 
     1131                           .line   23
     1132                   ;----------------------------------------------------------------------
     1133                   ; 110 | if (((unsigned int)addr+n-1) < ((unsigned int)f)) return 0;            
     1134                   ; 112 | else                                                                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   22

     1135                   ;----------------------------------------------------------------------
     1136 000000bd 50400302         ldiu      *+fp(2),r0            ; |110| 
     1137 000000be 02400301         addi      *+fp(1),r0            ; |110| Unsigned
     1138 000000bf 18600001         subi      1,r0                  ; |110| Unsigned
     1139 000000c0 04c00304         cmpi      *+fp(4),r0            ; |110| 
     1140 000000c1 6a040034         bhs       L52                   ; |110| 
     1141                   ;*      Branch Occurs to L52            ; |110| 
     1142 000000c2 6a200032         bud       L53                   ; |110| 
     1143 000000c3 0c800000         nop
     1144 000000c4 0c800000         nop
     1145 000000c5 50600000         ldiu      0,r0                  ; |110| 
     1146                   ;*      Branch Occurs to L53            ; |110| 
     1147 000000c6          L43:        
     1148                           .line   27
     1149                   ;----------------------------------------------------------------------
     1150                   ; 114 | if (n==0)                                                              
     1151                   ;----------------------------------------------------------------------
     1152 000000c6 50400302         ldiu      *+fp(2),r0            ; |114| 
     1153 000000c7 04e00000         cmpi      0,r0                  ; |114| 
     1154 000000c8 6a060009         bne       L46                   ; |114| 
     1155                   ;*      Branch Occurs to L46            ; |114| 
     1156                           .line   29
     1157                   ;----------------------------------------------------------------------
     1158                   ; 116 | if ((((unsigned int)addr-(unsigned int)FLASH_LOC)%FLASH_SECTOR_SIZE) ==
     1159                   ;     |  0)                                                                    
     1160                   ;----------------------------------------------------------------------
     1161 000000c9 08700000-        ldp       @CL8,DP
     1162 000000ca 50200008-        ldiu      @CL8,r0               ; |116| 
     1163 000000cb 19c00301         subri     *+fp(1),r0            ; |116| Unsigned
     1164 000000cc 1a607fff         tstb      32767,r0              ; |116| 
     1165 000000cd 6a060004         bne       L46                   ; |116| 
     1166                   ;*      Branch Occurs to L46            ; |116| 
     1167                           .line   30
     1168                   ;----------------------------------------------------------------------
     1169                   ; 117 | return 0;                                                              
     1170                   ;----------------------------------------------------------------------
     1171 000000ce 6a200026         bud       L53                   ; |117| 
     1172 000000cf 0c800000         nop
     1173 000000d0 0c800000         nop
     1174 000000d1 50600000         ldiu      0,r0                  ; |117| 
     1175                   ;*      Branch Occurs to L53            ; |117| 
     1176 000000d2          L46:        
     1177                           .line   32
     1178                   ;----------------------------------------------------------------------
     1179                   ; 119 | if (n>FLASH_SECTOR_SIZE) return FLASH_ERROR_BLKADDR;                   
     1180                   ;----------------------------------------------------------------------
     1181 000000d2 08700000-        ldp       @CL18,DP
     1182 000000d3 50400302         ldiu      *+fp(2),r0            ; |119| 
     1183 000000d4 04a00012-        cmpi      @CL18,r0              ; |119| 
     1184 000000d5 6a020004         bls       L48                   ; |119| 
     1185                   ;*      Branch Occurs to L48            ; |119| 
     1186 000000d6 6a20001e         bud       L53                   ; |119| 
     1187 000000d7 0c800000         nop
     1188 000000d8 0c800000         nop
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   23

     1189 000000d9 50600020         ldiu      32,r0                 ; |119| 
     1190                   ;*      Branch Occurs to L53            ; |119| 
     1191 000000da          L48:        
     1192                           .line   33
     1193                   ;----------------------------------------------------------------------
     1194                   ; 120 | if (((unsigned int)addr+n-1) >= ((unsigned int)FLASH_LOC+f)) return FLA
     1195                   ;     | SH_ERROR_BLKADDR;                                                      
     1196                   ;----------------------------------------------------------------------
     1197 000000da 08700000-        ldp       @CL8,DP
     1198 000000db 50400302         ldiu      *+fp(2),r0            ; |120| 
     1199 000000dc 50210008-        ldiu      @CL8,r1               ; |120| 
     1200 000000dd 02400301         addi      *+fp(1),r0            ; |120| Unsigned
     1201 000000de 02410304         addi      *+fp(4),r1            ; |120| Unsigned
     1202 000000df 18600001         subi      1,r0                  ; |120| Unsigned
     1203 000000e0 23800001         cmpi3     r1,r0                 ; |120| 
     1204 000000e1 6a010004         blo       L50                   ; |120| 
     1205                   ;*      Branch Occurs to L50            ; |120| 
     1206 000000e2 6a200012         bud       L53                   ; |120| 
     1207 000000e3 0c800000         nop
     1208 000000e4 0c800000         nop
     1209 000000e5 50600020         ldiu      32,r0                 ; |120| 
     1210                   ;*      Branch Occurs to L53            ; |120| 
     1211 000000e6          L50:        
     1212                           .line   34
     1213                   ;----------------------------------------------------------------------
     1214                   ; 121 | mask = 0xFFFFFFFF ^ (FLASH_SECTOR_SIZE-1);                             
     1215                   ;----------------------------------------------------------------------
     1216 000000e6 08700000-        ldp       @CL19,DP
     1217 000000e7 50200013-        ldiu      @CL19,r0              ; |121| 
     1218 000000e8 15400305         sti       r0,*+fp(5)            ; |121| 
     1219                           .line   35
     1220                   ;----------------------------------------------------------------------
     1221                   ; 122 | f = ((unsigned int)addr&mask) + FLASH_SECTOR_SIZE;                     
     1222                   ;----------------------------------------------------------------------
     1223 000000e9 08700000-        ldp       @CL18,DP
     1224 000000ea 02c00301         and       *+fp(1),r0            ; |122| 
     1225 000000eb 02200012-        addi      @CL18,r0              ; |122| Unsigned
     1226 000000ec 15400304         sti       r0,*+fp(4)            ; |122| 
     1227                           .line   36
     1228                   ;----------------------------------------------------------------------
     1229                   ; 123 | if (((unsigned int)addr+n-1) < ((unsigned int)f)) return 0;            
     1230                   ;----------------------------------------------------------------------
     1231 000000ed 50400302         ldiu      *+fp(2),r0            ; |123| 
     1232 000000ee 02400301         addi      *+fp(1),r0            ; |123| Unsigned
     1233 000000ef 18600001         subi      1,r0                  ; |123| Unsigned
     1234 000000f0 04c00304         cmpi      *+fp(4),r0            ; |123| 
     1235 000000f1 6a040004         bhs       L52                   ; |123| 
     1236                   ;*      Branch Occurs to L52            ; |123| 
     1237 000000f2 6a200002         bud       L53                   ; |123| 
     1238 000000f3 0c800000         nop
     1239 000000f4 0c800000         nop
     1240 000000f5 50600000         ldiu      0,r0                  ; |123| 
     1241                   ;*      Branch Occurs to L53            ; |123| 
     1242 000000f6          L52:        
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   24

     1243                           .line   39
     1244                   ;----------------------------------------------------------------------
     1245                   ; 126 | return FLASH_ERROR_BLKADDR;                                            
     1246                   ;----------------------------------------------------------------------
     1247 000000f6 50600020         ldiu      32,r0                 ; |126| 
     1248 000000f7          L53:        
     1249                           .line   40
     1250                                                           ; Begin Epilog Code
     1251 000000f7 50410b01         ldiu      *-fp(1),r1            ; |127| 
     1252 000000f8 504bc300         ldiu      *fp,fp                ; |127| 
     1253                                                           ; Unallocate the Frame
     1254 000000f9 18740007         subi      7,sp                  ; |127| 
     1255 000000fa 68000001         bu        r1
     1256                   ;*      Branch Occurs to r1 
     1257                           .endfunc        127,000000000h,5
     1258                   
     1259                   
     1260 000000fb                  .sect    "internal_RAM"
     1261                   
     1262                           .global _FLASH_LOCK_BLK
     1263                           .sym    _FLASH_LOCK_BLK,_FLASH_LOCK_BLK,36,2,0
     1264                           .func   129
     1265                   ;******************************************************************************
     1266                   ;* FUNCTION NAME: _FLASH_LOCK_BLK                                             *
     1267                   ;*                                                                            *
     1268                   ;*   Architecture       : TMS320C33                                           *
     1269                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1270                   ;*   Function Uses Regs : r0,r2,ar0,ar2,st                                    *
     1271                   ;*   Regs Saved         :                                                     *
     1272                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1273                   ;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
     1274                   ;******************************************************************************
     1275 000000fb          _FLASH_LOCK_BLK:
     1276                   ;* ar2   assigned to _addr
     1277                           .sym    _addr,10,30,17,32
     1278                   ;* r2    assigned to _lock
     1279                           .sym    _lock,2,4,17,32
     1280                           .sym    _addr,1,30,1,32
     1281                           .sym    _lock,2,4,1,32
     1282                           .sym    _i,3,4,1,32
     1283                           .sym    _r,4,4,1,32
     1284                           .line   1
     1285                   ;----------------------------------------------------------------------
     1286                   ; 129 | int FLASH_LOCK_BLK(unsigned int* addr, int lock)                       
     1287                   ;----------------------------------------------------------------------
     1288 000000fb 0f2b0000         push      fp
     1289 000000fc 500b0014         ldiu      sp,fp
     1290 000000fd 02740004         addi      4,sp
     1291                           .line   2
     1292                   ;----------------------------------------------------------------------
     1293                   ; 131 | int i;                                                                 
     1294                   ; 132 | int r;                                                                 
     1295                   ;----------------------------------------------------------------------
     1296 000000fe 15420302         sti       r2,*+fp(2)            ; |130| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   25

     1297 000000ff 154a0301         sti       ar2,*+fp(1)           ; |130| 
     1298                           .line   6
     1299                   ;----------------------------------------------------------------------
     1300                   ; 134 | i = FLASH_CHECK_ADDR(addr, 0);                                         
     1301                   ;----------------------------------------------------------------------
     1302 00000100 08700000-        ldp       @CL20,DP
     1303 00000101 50200014-        ldiu      @CL20,r0              ; |134| 
     1304 00000102 50620000         ldiu      0,r2                  ; |134| 
     1305 00000103 70000000         callu     r0                    ; far call to _FLASH_CHECK_ADDR ; |134| 
     1306                                                           ; |134| Far Call Occurs
     1307 00000104 15400303         sti       r0,*+fp(3)            ; |134| 
     1308                           .line   7
     1309                   ;----------------------------------------------------------------------
     1310                   ; 135 | if (i) return i;                                                       
     1311                   ;----------------------------------------------------------------------
     1312 00000105 04e00000         cmpi      0,r0                  ; |135| 
     1313 00000106 6a050001         beq       L57                   ; |135| 
     1314                   ;*      Branch Occurs to L57            ; |135| 
     1315 00000107 6a000030         bu        L66                   ; |135| 
     1316                   ;*      Branch Occurs to L66            ; |135| 
     1317 00000108          L57:        
     1318                           .line   9
     1319                   ;----------------------------------------------------------------------
     1320                   ; 137 | _GIEP;                                                                 
     1321                   ; 139 | switch(lock)                                                           
     1322                   ; 141 |         case 0:                                                        
     1323                   ;----------------------------------------------------------------------
     1324 00000108 0f350000         push    ST                      
     1325 00000109 03752000         andn    2000h, ST       
     1326 0000010a 6a00001b         bu        L62                   ; |128| 
     1327                   ;*      Branch Occurs to L62            ; |128| 
     1328 0000010b          L58:        
     1329                           .line   15
     1330                   ;----------------------------------------------------------------------
     1331                   ; 143 | addr[0] = BLOCK_LOCK;                                                  
     1332                   ;----------------------------------------------------------------------
     1333 0000010b 08700000-        ldp       @CL21,DP
     1334 0000010c 50480301         ldiu      *+fp(1),ar0           ; |143| 
     1335 0000010d 50200015-        ldiu      @CL21,r0              ; |143| 
     1336 0000010e 1540c000         sti       r0,*ar0               ; |143| 
     1337                           .line   16
     1338                   ;----------------------------------------------------------------------
     1339                   ; 144 | addr[0] = BLOCK_LOCK_UNLOCK;                                           
     1340                   ;----------------------------------------------------------------------
     1341 0000010f 08700000-        ldp       @CL22,DP
     1342 00000110 50480301         ldiu      *+fp(1),ar0           ; |144| 
     1343 00000111 50200016-        ldiu      @CL22,r0              ; |144| 
     1344 00000112 1540c000         sti       r0,*ar0               ; |144| 
     1345                           .line   17
     1346                   ;----------------------------------------------------------------------
     1347                   ; 145 | break;                                                                 
     1348                   ; 148 | case 1:                                                                
     1349                   ;----------------------------------------------------------------------
     1350 00000113 6a000019         bu        L65                   ; |145| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   26

     1351                   ;*      Branch Occurs to L65            ; |145| 
     1352 00000114          L59:        
     1353                           .line   22
     1354                   ;----------------------------------------------------------------------
     1355                   ; 150 | addr[0] = BLOCK_LOCK;                                                  
     1356                   ;----------------------------------------------------------------------
     1357 00000114 08700000-        ldp       @CL21,DP
     1358 00000115 50480301         ldiu      *+fp(1),ar0           ; |150| 
     1359 00000116 50200015-        ldiu      @CL21,r0              ; |150| 
     1360 00000117 1540c000         sti       r0,*ar0               ; |150| 
     1361                           .line   23
     1362                   ;----------------------------------------------------------------------
     1363                   ; 151 | addr[0] = BLOCK_LOCK_LOCK;                                             
     1364                   ;----------------------------------------------------------------------
     1365 00000118 08700000-        ldp       @CL23,DP
     1366 00000119 50480301         ldiu      *+fp(1),ar0           ; |151| 
     1367 0000011a 50200017-        ldiu      @CL23,r0              ; |151| 
     1368 0000011b 1540c000         sti       r0,*ar0               ; |151| 
     1369                           .line   24
     1370                   ;----------------------------------------------------------------------
     1371                   ; 152 | break;                                                                 
     1372                   ; 155 | case 2:                                                                
     1373                   ;----------------------------------------------------------------------
     1374 0000011c 6a000010         bu        L65                   ; |152| 
     1375                   ;*      Branch Occurs to L65            ; |152| 
     1376 0000011d          L60:        
     1377                           .line   29
     1378                   ;----------------------------------------------------------------------
     1379                   ; 157 | addr[0] = BLOCK_LOCK;                                                  
     1380                   ;----------------------------------------------------------------------
     1381 0000011d 08700000-        ldp       @CL21,DP
     1382 0000011e 50480301         ldiu      *+fp(1),ar0           ; |157| 
     1383 0000011f 50200015-        ldiu      @CL21,r0              ; |157| 
     1384 00000120 1540c000         sti       r0,*ar0               ; |157| 
     1385                           .line   30
     1386                   ;----------------------------------------------------------------------
     1387                   ; 158 | addr[0] = BLOCK_LOCK_LOCKDOWN;                                         
     1388                   ;----------------------------------------------------------------------
     1389 00000121 08700000-        ldp       @CL24,DP
     1390 00000122 50480301         ldiu      *+fp(1),ar0           ; |158| 
     1391 00000123 50200018-        ldiu      @CL24,r0              ; |158| 
     1392 00000124 1540c000         sti       r0,*ar0               ; |158| 
     1393                           .line   31
     1394                   ;----------------------------------------------------------------------
     1395                   ; 159 | break;                                                                 
     1396                   ;----------------------------------------------------------------------
     1397 00000125 6a000007         bu        L65                   ; |159| 
     1398                   ;*      Branch Occurs to L65            ; |159| 
     1399 00000126          L62:        
     1400                           .line   11
     1401 00000126 50400302         ldiu      *+fp(2),r0            ; |139| 
     1402 00000127 04e00000         cmpi      0,r0                  ; |139| 
     1403 00000128 6a05ffe2         beq       L58                   ; |139| 
     1404                   ;*      Branch Occurs to L58            ; |139| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   27

     1405 00000129 04e00001         cmpi      1,r0                  ; |139| 
     1406 0000012a 6a05ffe9         beq       L59                   ; |139| 
     1407                   ;*      Branch Occurs to L59            ; |139| 
     1408 0000012b 04e00002         cmpi      2,r0                  ; |139| 
     1409 0000012c 6a05fff0         beq       L60                   ; |139| 
     1410                   ;*      Branch Occurs to L60            ; |139| 
     1411 0000012d          L65:        
     1412                           .line   35
     1413                   ;----------------------------------------------------------------------
     1414                   ; 163 | r = FLASH_STATUS();                                                    
     1415                   ;----------------------------------------------------------------------
     1416 0000012d 08700000-        ldp       @CL25,DP
     1417 0000012e 50200019-        ldiu      @CL25,r0              ; |163| 
     1418 0000012f 70000000         callu     r0                    ; far call to _FLASH_STATUS     ; |163| 
     1419                                                           ; |163| Far Call Occurs
     1420 00000130 15400304         sti       r0,*+fp(4)            ; |163| 
     1421                           .line   37
     1422                   ;----------------------------------------------------------------------
     1423                   ; 165 | *FLASH_LOC = READ_ARRAY;                                               
     1424                   ;----------------------------------------------------------------------
     1425 00000131 08700000-        ldp       @CL1,DP
     1426 00000132 50280001-        ldiu      @CL1,ar0              ; |165| 
     1427 00000133 08700000-        ldp       @CL4,DP
     1428 00000134 50200004-        ldiu      @CL4,r0               ; |165| 
     1429 00000135 1540c000         sti       r0,*ar0               ; |165| 
     1430                           .line   39
     1431                   ;----------------------------------------------------------------------
     1432                   ; 167 | GIEP;                                                                  
     1433                   ;----------------------------------------------------------------------
     1434 00000136 0e350000         pop             ST                      
     1435                           .line   41
     1436                   ;----------------------------------------------------------------------
     1437                   ; 169 | return r;                                                              
     1438                   ;----------------------------------------------------------------------
     1439 00000137 50400304         ldiu      *+fp(4),r0            ; |169| 
     1440 00000138          L66:        
     1441                           .line   42
     1442                                                           ; Begin Epilog Code
     1443 00000138 50410b01         ldiu      *-fp(1),r1            ; |170| 
     1444 00000139 504bc300         ldiu      *fp,fp                ; |170| 
     1445                                                           ; Unallocate the Frame
     1446 0000013a 18740006         subi      6,sp                  ; |170| 
     1447 0000013b 68000001         bu        r1
     1448                   ;*      Branch Occurs to r1 
     1449                           .endfunc        170,000000000h,4
     1450                   
     1451                   
     1452 0000013c                  .sect    "internal_RAM"
     1453                   
     1454                           .global _FLASH_ERASE_BLK
     1455                           .sym    _FLASH_ERASE_BLK,_FLASH_ERASE_BLK,36,2,0
     1456                           .func   172
     1457                   ;******************************************************************************
     1458                   ;* FUNCTION NAME: _FLASH_ERASE_BLK                                            *
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   28

     1459                   ;*                                                                            *
     1460                   ;*   Architecture       : TMS320C33                                           *
     1461                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1462                   ;*   Function Uses Regs : r0,r2,ar0,ar2,st                                    *
     1463                   ;*   Regs Saved         :                                                     *
     1464                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1465                   ;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
     1466                   ;******************************************************************************
     1467 0000013c          _FLASH_ERASE_BLK:
     1468                   ;* ar2   assigned to _addr
     1469                           .sym    _addr,10,30,17,32
     1470                           .sym    _addr,1,30,1,32
     1471                           .sym    _status,2,14,1,32
     1472                           .sym    _i,3,4,1,32
     1473                           .sym    _r,4,4,1,32
     1474                           .line   1
     1475                   ;----------------------------------------------------------------------
     1476                   ; 172 | int FLASH_ERASE_BLK(unsigned int* addr)                                
     1477                   ;----------------------------------------------------------------------
     1478 0000013c 0f2b0000         push      fp
     1479 0000013d 500b0014         ldiu      sp,fp
     1480 0000013e 02740004         addi      4,sp
     1481                           .line   2
     1482                   ;----------------------------------------------------------------------
     1483                   ; 174 | unsigned int status;                                                   
     1484                   ; 175 | int i;                                                                 
     1485                   ; 176 | int r;                                                                 
     1486                   ;----------------------------------------------------------------------
     1487 0000013f 154a0301         sti       ar2,*+fp(1)           ; |173| 
     1488                           .line   7
     1489                   ;----------------------------------------------------------------------
     1490                   ; 178 | i = FLASH_CHECK_ADDR(addr, 0);                                         
     1491                   ;----------------------------------------------------------------------
     1492 00000140 08700000-        ldp       @CL20,DP
     1493 00000141 50620000         ldiu      0,r2                  ; |178| 
     1494 00000142 50200014-        ldiu      @CL20,r0              ; |178| 
     1495 00000143 70000000         callu     r0                    ; far call to _FLASH_CHECK_ADDR ; |178| 
     1496                                                           ; |178| Far Call Occurs
     1497 00000144 15400303         sti       r0,*+fp(3)            ; |178| 
     1498                           .line   8
     1499                   ;----------------------------------------------------------------------
     1500                   ; 179 | if (i) return i;                                                       
     1501                   ;----------------------------------------------------------------------
     1502 00000145 04e00000         cmpi      0,r0                  ; |179| 
     1503 00000146 6a050001         beq       L70                   ; |179| 
     1504                   ;*      Branch Occurs to L70            ; |179| 
     1505 00000147 6a000045         bu        L73                   ; |179| 
     1506                   ;*      Branch Occurs to L73            ; |179| 
     1507 00000148          L70:        
     1508                           .line   10
     1509                   ;----------------------------------------------------------------------
     1510                   ; 181 | _GIEP; DISABLE_WDOG;                                                   
     1511                   ;----------------------------------------------------------------------
     1512 00000148 0f350000         push    ST                      
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   29

     1513 00000149 03752000         andn    2000h, ST       
     1514 0000014a 0f350000         push    ST                      
     1515 0000014b 03752000         andn    2000h, ST       
     1516 0000014c 08700000-        ldp       @CL26,DP
     1517 0000014d 5028001a-        ldiu      @CL26,ar0             ; |181| 
     1518 0000014e 506000f7         ldiu      247,r0                ; |181| 
     1519 0000014f 21a0c000         and3      r0,*ar0,r0            ; |181| 
     1520 00000150 1540c000         sti       r0,*ar0               ; |181| 
     1521 00000151 0e350000         pop             ST                      
     1522                           .line   12
     1523                   ;----------------------------------------------------------------------
     1524                   ; 183 | FLASH_LOCK_BLK(addr, FALSE);                                           
     1525                   ;----------------------------------------------------------------------
     1526 00000152 50620000         ldiu      0,r2                  ; |183| 
     1527 00000153 08700000-        ldp       @CL27,DP
     1528 00000154 504a0301         ldiu      *+fp(1),ar2           ; |183| 
     1529 00000155 5020001b-        ldiu      @CL27,r0              ; |183| 
     1530 00000156 70000000         callu     r0                    ; far call to _FLASH_LOCK_BLK   ; |183| 
     1531                                                           ; |183| Far Call Occurs
     1532                           .line   14
     1533                   ;----------------------------------------------------------------------
     1534                   ; 185 | *FLASH_LOC = BLOCK_ERASE;                                              
     1535                   ;----------------------------------------------------------------------
     1536 00000157 08700000-        ldp       @CL1,DP
     1537 00000158 50280001-        ldiu      @CL1,ar0              ; |185| 
     1538 00000159 08700000-        ldp       @CL28,DP
     1539 0000015a 5020001c-        ldiu      @CL28,r0              ; |185| 
     1540 0000015b 1540c000         sti       r0,*ar0               ; |185| 
     1541                           .line   15
     1542                   ;----------------------------------------------------------------------
     1543                   ; 186 | addr[0] = BLOCK_ERASE_CONFIRM;                                         
     1544                   ;----------------------------------------------------------------------
     1545 0000015c 08700000-        ldp       @CL22,DP
     1546 0000015d 50480301         ldiu      *+fp(1),ar0           ; |186| 
     1547 0000015e 50200016-        ldiu      @CL22,r0              ; |186| 
     1548 0000015f 1540c000         sti       r0,*ar0               ; |186| 
     1549                           .line   17
     1550                   ;----------------------------------------------------------------------
     1551                   ; 188 | status = *FLASH_LOC;                                                   
     1552                   ;----------------------------------------------------------------------
     1553 00000160 08700000-        ldp       @CL1,DP
     1554 00000161 50280001-        ldiu      @CL1,ar0              ; |188| 
     1555 00000162 5040c000         ldiu      *ar0,r0               ; |188| 
     1556 00000163 15400302         sti       r0,*+fp(2)            ; |188| 
     1557                           .line   18
     1558                   ;----------------------------------------------------------------------
     1559                   ; 189 | while (!((status & 0x00800080)==0x00800080))                           
     1560                   ;----------------------------------------------------------------------
     1561 00000164 08700000-        ldp       @CL29,DP
     1562 00000165 5020001d-        ldiu      @CL29,r0              ; |189| 
     1563 00000166 02c00302         and       *+fp(2),r0            ; |189| 
     1564 00000167 04a0001d-        cmpi      @CL29,r0              ; |189| 
     1565 00000168 6a050009         beq       L72                   ; |189| 
     1566                   ;*      Branch Occurs to L72            ; |189| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   30

     1567 00000169          L71:        
     1568                           .line   20
     1569                   ;----------------------------------------------------------------------
     1570                   ; 191 | status = *FLASH_LOC;                                                   
     1571                   ;----------------------------------------------------------------------
     1572 00000169 08700000-        ldp       @CL1,DP
     1573 0000016a 50280001-        ldiu      @CL1,ar0              ; |191| 
     1574 0000016b 5040c000         ldiu      *ar0,r0               ; |191| 
     1575 0000016c 15400302         sti       r0,*+fp(2)            ; |191| 
     1576                           .line   18
     1577 0000016d 08700000-        ldp       @CL29,DP
     1578 0000016e 5020001d-        ldiu      @CL29,r0              ; |189| 
     1579 0000016f 02c00302         and       *+fp(2),r0            ; |189| 
     1580 00000170 04a0001d-        cmpi      @CL29,r0              ; |189| 
     1581 00000171 6a06fff7         bne       L71                   ; |189| 
     1582                   ;*      Branch Occurs to L71            ; |189| 
     1583 00000172          L72:        
     1584                           .line   23
     1585                   ;----------------------------------------------------------------------
     1586                   ; 194 | r = FLASH_STATUS();                                                    
     1587                   ;----------------------------------------------------------------------
     1588 00000172 08700000-        ldp       @CL25,DP
     1589 00000173 50200019-        ldiu      @CL25,r0              ; |194| 
     1590 00000174 70000000         callu     r0                    ; far call to _FLASH_STATUS     ; |194| 
     1591                                                           ; |194| Far Call Occurs
     1592 00000175 15400304         sti       r0,*+fp(4)            ; |194| 
     1593                           .line   25
     1594                   ;----------------------------------------------------------------------
     1595                   ; 196 | *FLASH_LOC = READ_ARRAY;                                               
     1596                   ;----------------------------------------------------------------------
     1597 00000176 08700000-        ldp       @CL1,DP
     1598 00000177 50280001-        ldiu      @CL1,ar0              ; |196| 
     1599 00000178 08700000-        ldp       @CL4,DP
     1600 00000179 50200004-        ldiu      @CL4,r0               ; |196| 
     1601 0000017a 1540c000         sti       r0,*ar0               ; |196| 
     1602                           .line   27
     1603                   ;----------------------------------------------------------------------
     1604                   ; 198 | FLASH_LOCK_BLK(addr, TRUE);                                            
     1605                   ;----------------------------------------------------------------------
     1606 0000017b 50620001         ldiu      1,r2                  ; |198| 
     1607 0000017c 08700000-        ldp       @CL27,DP
     1608 0000017d 504a0301         ldiu      *+fp(1),ar2           ; |198| 
     1609 0000017e 5020001b-        ldiu      @CL27,r0              ; |198| 
     1610 0000017f 70000000         callu     r0                    ; far call to _FLASH_LOCK_BLK   ; |198| 
     1611                                                           ; |198| Far Call Occurs
     1612                           .line   29
     1613                   ;----------------------------------------------------------------------
     1614                   ; 200 | ENABLE_WDOG; GIEP;                                                     
     1615                   ;----------------------------------------------------------------------
     1616 00000180 0f350000         push    ST                      
     1617 00000181 03752000         andn    2000h, ST       
     1618 00000182 08700000-        ldp       @CL26,DP
     1619 00000183 5028001a-        ldiu      @CL26,ar0             ; |200| 
     1620 00000184 50600008         ldiu      8,r0                  ; |200| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   31

     1621 00000185 25a0c000         or3       r0,*ar0,r0            ; |200| 
     1622 00000186 1540c000         sti       r0,*ar0               ; |200| 
     1623 00000187 50600080         ldiu      128,r0                ; |200| 
     1624 00000188 25a0c000         or3       r0,*ar0,r0            ; |200| 
     1625 00000189 1540c000         sti       r0,*ar0               ; |200| 
     1626 0000018a 0e350000         pop             ST                      
     1627 0000018b 0e350000         pop             ST                      
     1628                           .line   31
     1629                   ;----------------------------------------------------------------------
     1630                   ; 202 | return r;                                                              
     1631                   ;----------------------------------------------------------------------
     1632 0000018c 50400304         ldiu      *+fp(4),r0            ; |202| 
     1633 0000018d          L73:        
     1634                           .line   32
     1635                                                           ; Begin Epilog Code
     1636 0000018d 50410b01         ldiu      *-fp(1),r1            ; |203| 
     1637 0000018e 504bc300         ldiu      *fp,fp                ; |203| 
     1638                                                           ; Unallocate the Frame
     1639 0000018f 18740006         subi      6,sp                  ; |203| 
     1640 00000190 68000001         bu        r1
     1641                   ;*      Branch Occurs to r1 
     1642                           .endfunc        203,000000000h,4
     1643                   
     1644                   
     1645 00000191                  .sect    "internal_RAM"
     1646                   
     1647                           .global _FLASH_WRITE_BLK
     1648                           .sym    _FLASH_WRITE_BLK,_FLASH_WRITE_BLK,36,2,0
     1649                           .func   205
     1650                   ;******************************************************************************
     1651                   ;* FUNCTION NAME: _FLASH_WRITE_BLK                                            *
     1652                   ;*                                                                            *
     1653                   ;*   Architecture       : TMS320C33                                           *
     1654                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1655                   ;*   Function Uses Regs : r0,r2,r3,ar0,ar1,ar2,ir0,ir1,st                     *
     1656                   ;*   Regs Saved         :                                                     *
     1657                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1658                   ;*   Total Frame Size   : 2 Call + 0 Parm + 6 Auto + 0 SOE = 8 words          *
     1659                   ;******************************************************************************
     1660 00000191          _FLASH_WRITE_BLK:
     1661                   ;* ar2   assigned to _addr
     1662                           .sym    _addr,10,30,17,32
     1663                   ;* r2    assigned to _data
     1664                           .sym    _data,2,30,17,32
     1665                   ;* r3    assigned to _n
     1666                           .sym    _n,3,14,17,32
     1667                           .sym    _addr,1,30,1,32
     1668                           .sym    _data,2,30,1,32
     1669                           .sym    _n,3,14,1,32
     1670                           .sym    _r,4,14,1,32
     1671                           .sym    _status,5,14,1,32
     1672                           .sym    _i,6,4,1,32
     1673                           .line   1
     1674                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   32

     1675                   ; 205 | int FLASH_WRITE_BLK(unsigned int* addr, unsigned int* data, unsigned in
     1676                   ;     | t n)                                                                   
     1677                   ;----------------------------------------------------------------------
     1678 00000191 0f2b0000         push      fp
     1679 00000192 500b0014         ldiu      sp,fp
     1680 00000193 02740006         addi      6,sp
     1681                           .line   2
     1682                   ;----------------------------------------------------------------------
     1683                   ; 207 | unsigned int r;                                                        
     1684                   ; 208 | unsigned int status;                                                   
     1685                   ; 209 | int i;                                                                 
     1686                   ;----------------------------------------------------------------------
     1687 00000194 15430303         sti       r3,*+fp(3)            ; |206| 
     1688 00000195 15420302         sti       r2,*+fp(2)            ; |206| 
     1689 00000196 154a0301         sti       ar2,*+fp(1)           ; |206| 
     1690                           .line   7
     1691                   ;----------------------------------------------------------------------
     1692                   ; 211 | i = FLASH_CHECK_ADDR(addr, n);                                         
     1693                   ;----------------------------------------------------------------------
     1694 00000197 08700000-        ldp       @CL20,DP
     1695 00000198 50200014-        ldiu      @CL20,r0              ; |211| 
     1696 00000199 50020003         ldiu      r3,r2
     1697 0000019a 70000000         callu     r0                    ; far call to _FLASH_CHECK_ADDR ; |211| 
     1698                                                           ; |211| Far Call Occurs
     1699 0000019b 15400306         sti       r0,*+fp(6)            ; |211| 
     1700                           .line   8
     1701                   ;----------------------------------------------------------------------
     1702                   ; 212 | if (i) return i;                                                       
     1703                   ;----------------------------------------------------------------------
     1704 0000019c 04e00000         cmpi      0,r0                  ; |212| 
     1705 0000019d 6a050001         beq       L77                   ; |212| 
     1706                   ;*      Branch Occurs to L77            ; |212| 
     1707 0000019e 6a00006e         bu        L87                   ; |212| 
     1708                   ;*      Branch Occurs to L87            ; |212| 
     1709 0000019f          L77:        
     1710                           .line   10
     1711                   ;----------------------------------------------------------------------
     1712                   ; 214 | _GIEP; DISABLE_WDOG;                                                   
     1713                   ;----------------------------------------------------------------------
     1714 0000019f 0f350000         push    ST                      
     1715 000001a0 03752000         andn    2000h, ST       
     1716 000001a1 0f350000         push    ST                      
     1717 000001a2 03752000         andn    2000h, ST       
     1718 000001a3 08700000-        ldp       @CL26,DP
     1719 000001a4 5028001a-        ldiu      @CL26,ar0             ; |214| 
     1720 000001a5 506000f7         ldiu      247,r0                ; |214| 
     1721 000001a6 21a0c000         and3      r0,*ar0,r0            ; |214| 
     1722 000001a7 1540c000         sti       r0,*ar0               ; |214| 
     1723 000001a8 0e350000         pop             ST                      
     1724                           .line   12
     1725                   ;----------------------------------------------------------------------
     1726                   ; 216 | FLASH_LOCK_BLK(addr, FALSE);                                           
     1727                   ;----------------------------------------------------------------------
     1728 000001a9 50620000         ldiu      0,r2                  ; |216| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   33

     1729 000001aa 08700000-        ldp       @CL27,DP
     1730 000001ab 504a0301         ldiu      *+fp(1),ar2           ; |216| 
     1731 000001ac 5020001b-        ldiu      @CL27,r0              ; |216| 
     1732 000001ad 70000000         callu     r0                    ; far call to _FLASH_LOCK_BLK   ; |216| 
     1733                                                           ; |216| Far Call Occurs
     1734                           .line   14
     1735                   ;----------------------------------------------------------------------
     1736                   ; 218 | for (i=0;i<n;i++)                                                      
     1737                   ;----------------------------------------------------------------------
     1738 000001ae 50600000         ldiu      0,r0                  ; |218| 
     1739 000001af 15400306         sti       r0,*+fp(6)            ; |218| 
     1740 000001b0 50400306         ldiu      *+fp(6),r0            ; |218| 
     1741 000001b1 04c00303         cmpi      *+fp(3),r0            ; |218| 
     1742 000001b2 6a040028         bhs       L81                   ; |218| 
     1743                   ;*      Branch Occurs to L81            ; |218| 
     1744 000001b3          L78:        
     1745                           .line   16
     1746                   ;----------------------------------------------------------------------
     1747                   ; 220 | *FLASH_LOC = PROGRAM;                                                  
     1748                   ;----------------------------------------------------------------------
     1749 000001b3 08700000-        ldp       @CL1,DP
     1750 000001b4 50280001-        ldiu      @CL1,ar0              ; |220| 
     1751 000001b5 08700000-        ldp       @CL30,DP
     1752 000001b6 5020001e-        ldiu      @CL30,r0              ; |220| 
     1753 000001b7 1540c000         sti       r0,*ar0               ; |220| 
     1754                           .line   17
     1755                   ;----------------------------------------------------------------------
     1756                   ; 221 | addr[i] = data[i];                                                     
     1757                   ;----------------------------------------------------------------------
     1758 000001b8 50490306         ldiu      *+fp(6),ar1           ; |221| 
     1759 000001b9 50510302         ldiu      *+fp(2),ir0           ; |221| 
     1760 000001ba 50520301         ldiu      *+fp(1),ir1           ; |221| 
     1761 000001bb 50080009         ldiu      ar1,ar0               ; |221| 
     1762 000001bc 50404100         ldiu      *+ar1(ir0),r0         ; |221| 
     1763 000001bd 15408000         sti       r0,*+ar0(ir1)         ; |221| 
     1764                           .line   18
     1765                   ;----------------------------------------------------------------------
     1766                   ; 222 | *FLASH_LOC = READ_STATUS;                                              
     1767                   ;----------------------------------------------------------------------
     1768 000001be 08700000-        ldp       @CL1,DP
     1769 000001bf 50280001-        ldiu      @CL1,ar0              ; |222| 
     1770 000001c0 08700000-        ldp       @CL31,DP
     1771 000001c1 5020001f-        ldiu      @CL31,r0              ; |222| 
     1772 000001c2 1540c000         sti       r0,*ar0               ; |222| 
     1773                           .line   19
     1774                   ;----------------------------------------------------------------------
     1775                   ; 223 | status = *FLASH_LOC;                                                   
     1776                   ;----------------------------------------------------------------------
     1777 000001c3 08700000-        ldp       @CL1,DP
     1778 000001c4 50280001-        ldiu      @CL1,ar0              ; |223| 
     1779 000001c5 5040c000         ldiu      *ar0,r0               ; |223| 
     1780 000001c6 15400305         sti       r0,*+fp(5)            ; |223| 
     1781                           .line   20
     1782                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   34

     1783                   ; 224 | while (!((status & 0x00800080)==0x00800080))                           
     1784                   ;----------------------------------------------------------------------
     1785 000001c7 08700000-        ldp       @CL29,DP
     1786 000001c8 5020001d-        ldiu      @CL29,r0              ; |224| 
     1787 000001c9 02c00305         and       *+fp(5),r0            ; |224| 
     1788 000001ca 04a0001d-        cmpi      @CL29,r0              ; |224| 
     1789 000001cb 6a050009         beq       L80                   ; |224| 
     1790                   ;*      Branch Occurs to L80            ; |224| 
     1791 000001cc          L79:        
     1792                           .line   22
     1793                   ;----------------------------------------------------------------------
     1794                   ; 226 | status = *FLASH_LOC;                                                   
     1795                   ;----------------------------------------------------------------------
     1796 000001cc 08700000-        ldp       @CL1,DP
     1797 000001cd 50280001-        ldiu      @CL1,ar0              ; |226| 
     1798 000001ce 5040c000         ldiu      *ar0,r0               ; |226| 
     1799 000001cf 15400305         sti       r0,*+fp(5)            ; |226| 
     1800                           .line   20
     1801 000001d0 08700000-        ldp       @CL29,DP
     1802 000001d1 5020001d-        ldiu      @CL29,r0              ; |224| 
     1803 000001d2 02c00305         and       *+fp(5),r0            ; |224| 
     1804 000001d3 04a0001d-        cmpi      @CL29,r0              ; |224| 
     1805 000001d4 6a06fff7         bne       L79                   ; |224| 
     1806                   ;*      Branch Occurs to L79            ; |224| 
     1807 000001d5          L80:        
     1808                           .line   14
     1809 000001d5 50600001         ldiu      1,r0                  ; |218| 
     1810 000001d6 02400306         addi      *+fp(6),r0            ; |218| 
     1811 000001d7 15400306         sti       r0,*+fp(6)            ; |218| 
     1812 000001d8 50400306         ldiu      *+fp(6),r0            ; |218| 
     1813 000001d9 04c00303         cmpi      *+fp(3),r0            ; |218| 
     1814 000001da 6a01ffd8         blo       L78                   ; |218| 
     1815                   ;*      Branch Occurs to L78            ; |218| 
     1816 000001db          L81:        
     1817                           .line   26
     1818                   ;----------------------------------------------------------------------
     1819                   ; 230 | r = FLASH_STATUS();                                                    
     1820                   ;----------------------------------------------------------------------
     1821 000001db 08700000-        ldp       @CL25,DP
     1822 000001dc 50200019-        ldiu      @CL25,r0              ; |230| 
     1823 000001dd 70000000         callu     r0                    ; far call to _FLASH_STATUS     ; |230| 
     1824                                                           ; |230| Far Call Occurs
     1825 000001de 15400304         sti       r0,*+fp(4)            ; |230| 
     1826                           .line   28
     1827                   ;----------------------------------------------------------------------
     1828                   ; 232 | *FLASH_LOC = READ_ARRAY;                                               
     1829                   ;----------------------------------------------------------------------
     1830 000001df 08700000-        ldp       @CL1,DP
     1831 000001e0 50280001-        ldiu      @CL1,ar0              ; |232| 
     1832 000001e1 08700000-        ldp       @CL4,DP
     1833 000001e2 50200004-        ldiu      @CL4,r0               ; |232| 
     1834 000001e3 1540c000         sti       r0,*ar0               ; |232| 
     1835                           .line   30
     1836                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   35

     1837                   ; 234 | FLASH_LOCK_BLK(addr, TRUE);                                            
     1838                   ;----------------------------------------------------------------------
     1839 000001e4 50620001         ldiu      1,r2                  ; |234| 
     1840 000001e5 08700000-        ldp       @CL27,DP
     1841 000001e6 504a0301         ldiu      *+fp(1),ar2           ; |234| 
     1842 000001e7 5020001b-        ldiu      @CL27,r0              ; |234| 
     1843 000001e8 70000000         callu     r0                    ; far call to _FLASH_LOCK_BLK   ; |234| 
     1844                                                           ; |234| Far Call Occurs
     1845                           .line   32
     1846                   ;----------------------------------------------------------------------
     1847                   ; 236 | if (!r)                                                                
     1848                   ;----------------------------------------------------------------------
     1849 000001e9 50400304         ldiu      *+fp(4),r0            ; |236| 
     1850 000001ea 04e00000         cmpi      0,r0                  ; |236| 
     1851 000001eb 6a060014         bne       L86                   ; |236| 
     1852                   ;*      Branch Occurs to L86            ; |236| 
     1853                           .line   34
     1854                   ;----------------------------------------------------------------------
     1855                   ; 238 | for (i=0;i<n;i++)                                                      
     1856                   ;----------------------------------------------------------------------
     1857 000001ec 50600000         ldiu      0,r0                  ; |238| 
     1858 000001ed 15400306         sti       r0,*+fp(6)            ; |238| 
     1859 000001ee 50400306         ldiu      *+fp(6),r0            ; |238| 
     1860 000001ef 04c00303         cmpi      *+fp(3),r0            ; |238| 
     1861 000001f0 6a04000f         bhs       L86                   ; |238| 
     1862                   ;*      Branch Occurs to L86            ; |238| 
     1863 000001f1          L83:        
     1864                           .line   36
     1865                   ;----------------------------------------------------------------------
     1866                   ; 240 | if (addr[i] != data[i])                                                
     1867                   ;----------------------------------------------------------------------
     1868 000001f1 50490306         ldiu      *+fp(6),ar1           ; |240| 
     1869 000001f2 50520302         ldiu      *+fp(2),ir1           ; |240| 
     1870 000001f3 50510301         ldiu      *+fp(1),ir0           ; |240| 
     1871 000001f4 50080009         ldiu      ar1,ar0               ; |240| 
     1872 000001f5 23e04081         cmpi3     *+ar1(ir1),*+ar0(ir0) ; |240| 
     1873 000001f6 6a050003         beq       L85                   ; |240| 
     1874                   ;*      Branch Occurs to L85            ; |240| 
     1875                           .line   38
     1876                   ;----------------------------------------------------------------------
     1877                   ; 242 | r = FLASH_ERROR_PROG;                                                  
     1878                   ;----------------------------------------------------------------------
     1879 000001f7 50600002         ldiu      2,r0                  ; |242| 
     1880 000001f8 15400304         sti       r0,*+fp(4)            ; |242| 
     1881                           .line   39
     1882                   ;----------------------------------------------------------------------
     1883                   ; 243 | break;                                                                 
     1884                   ;----------------------------------------------------------------------
     1885 000001f9 6a000006         bu        L86                   ; |243| 
     1886                   ;*      Branch Occurs to L86            ; |243| 
     1887 000001fa          L85:        
     1888                           .line   34
     1889 000001fa 50600001         ldiu      1,r0                  ; |238| 
     1890 000001fb 02400306         addi      *+fp(6),r0            ; |238| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   36

     1891 000001fc 15400306         sti       r0,*+fp(6)            ; |238| 
     1892 000001fd 50400306         ldiu      *+fp(6),r0            ; |238| 
     1893 000001fe 04c00303         cmpi      *+fp(3),r0            ; |238| 
     1894 000001ff 6a01fff1         blo       L83                   ; |238| 
     1895                   ;*      Branch Occurs to L83            ; |238| 
     1896 00000200          L86:        
     1897                           .line   44
     1898                   ;----------------------------------------------------------------------
     1899                   ; 248 | ENABLE_WDOG; GIEP;                                                     
     1900                   ;----------------------------------------------------------------------
     1901 00000200 0f350000         push    ST                      
     1902 00000201 03752000         andn    2000h, ST       
     1903 00000202 08700000-        ldp       @CL26,DP
     1904 00000203 5028001a-        ldiu      @CL26,ar0             ; |248| 
     1905 00000204 50600008         ldiu      8,r0                  ; |248| 
     1906 00000205 25a0c000         or3       r0,*ar0,r0            ; |248| 
     1907 00000206 1540c000         sti       r0,*ar0               ; |248| 
     1908 00000207 50600080         ldiu      128,r0                ; |248| 
     1909 00000208 25a0c000         or3       r0,*ar0,r0            ; |248| 
     1910 00000209 1540c000         sti       r0,*ar0               ; |248| 
     1911 0000020a 0e350000         pop             ST                      
     1912 0000020b 0e350000         pop             ST                      
     1913                           .line   46
     1914                   ;----------------------------------------------------------------------
     1915                   ; 250 | return r;                                                              
     1916                   ;----------------------------------------------------------------------
     1917 0000020c 50400304         ldiu      *+fp(4),r0            ; |250| 
     1918 0000020d          L87:        
     1919                           .line   47
     1920                                                           ; Begin Epilog Code
     1921 0000020d 50410b01         ldiu      *-fp(1),r1            ; |251| 
     1922 0000020e 504bc300         ldiu      *fp,fp                ; |251| 
     1923                                                           ; Unallocate the Frame
     1924 0000020f 18740008         subi      8,sp                  ; |251| 
     1925 00000210 68000001         bu        r1
     1926                   ;*      Branch Occurs to r1 
     1927                           .endfunc        251,000000000h,6
     1928                   
     1929                   
     1930 00000211                  .sect    "internal_RAM"
     1931                   
     1932                           .global _FLASH_STATUS
     1933                           .sym    _FLASH_STATUS,_FLASH_STATUS,36,2,0
     1934                           .func   253
     1935                   ;******************************************************************************
     1936                   ;* FUNCTION NAME: _FLASH_STATUS                                               *
     1937                   ;*                                                                            *
     1938                   ;*   Architecture       : TMS320C33                                           *
     1939                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1940                   ;*   Function Uses Regs : r0,ar0,st                                           *
     1941                   ;*   Regs Saved         :                                                     *
     1942                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1943                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
     1944                   ;******************************************************************************
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   37

     1945 00000211          _FLASH_STATUS:
     1946                           .sym    _r,1,14,1,32
     1947                           .sym    _status,2,14,1,32
     1948                           .line   1
     1949                   ;----------------------------------------------------------------------
     1950                   ; 253 | int FLASH_STATUS(void)                                                 
     1951                   ; 255 | unsigned int r;                                                        
     1952                   ; 256 | unsigned int status;                                                   
     1953                   ;----------------------------------------------------------------------
     1954 00000211 0f2b0000         push      fp
     1955 00000212 500b0014         ldiu      sp,fp
     1956 00000213 02740002         addi      2,sp
     1957                           .line   6
     1958                   ;----------------------------------------------------------------------
     1959                   ; 258 | r = 0;                                                                 
     1960                   ;----------------------------------------------------------------------
     1961 00000214 50600000         ldiu      0,r0                  ; |258| 
     1962 00000215 15400301         sti       r0,*+fp(1)            ; |258| 
     1963                           .line   8
     1964                   ;----------------------------------------------------------------------
     1965                   ; 260 | _GIEP; DISABLE_WDOG;                                                   
     1966                   ;----------------------------------------------------------------------
     1967 00000216 0f350000         push    ST                      
     1968 00000217 03752000         andn    2000h, ST       
     1969 00000218 0f350000         push    ST                      
     1970 00000219 03752000         andn    2000h, ST       
     1971 0000021a 08700000-        ldp       @CL26,DP
     1972 0000021b 5028001a-        ldiu      @CL26,ar0             ; |260| 
     1973 0000021c 506000f7         ldiu      247,r0                ; |260| 
     1974 0000021d 21a0c000         and3      r0,*ar0,r0            ; |260| 
     1975 0000021e 1540c000         sti       r0,*ar0               ; |260| 
     1976 0000021f 0e350000         pop             ST                      
     1977                           .line   9
     1978                   ;----------------------------------------------------------------------
     1979                   ; 261 | *FLASH_LOC = READ_STATUS;                                              
     1980                   ;----------------------------------------------------------------------
     1981 00000220 08700000-        ldp       @CL1,DP
     1982 00000221 50280001-        ldiu      @CL1,ar0              ; |261| 
     1983 00000222 08700000-        ldp       @CL31,DP
     1984 00000223 5020001f-        ldiu      @CL31,r0              ; |261| 
     1985 00000224 1540c000         sti       r0,*ar0               ; |261| 
     1986                           .line   10
     1987                   ;----------------------------------------------------------------------
     1988                   ; 262 | status = *FLASH_LOC;                                                   
     1989                   ; 264 | while(TRUE)                                                            
     1990                   ;----------------------------------------------------------------------
     1991 00000225 08700000-        ldp       @CL1,DP
     1992 00000226 50280001-        ldiu      @CL1,ar0              ; |262| 
     1993 00000227 5040c000         ldiu      *ar0,r0               ; |262| 
     1994 00000228 15400302         sti       r0,*+fp(2)            ; |262| 
     1995                           .line   14
     1996                   ;----------------------------------------------------------------------
     1997                   ; 266 | if (status&0x00080008)                                                 
     1998                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   38

     1999 00000229 08700000-        ldp       @CL32,DP
     2000 0000022a 50200020-        ldiu      @CL32,r0              ; |266| 
     2001 0000022b 1a400302         tstb      *+fp(2),r0            ; |266| 
     2002 0000022c 6a050008         beq       L91                   ; |266| 
     2003                   ;*      Branch Occurs to L91            ; |266| 
     2004                           .line   16
     2005                   ;----------------------------------------------------------------------
     2006                   ; 268 | r = FLASH_ERROR_VPP;                                                   
     2007                   ;----------------------------------------------------------------------
     2008 0000022d 50600001         ldiu      1,r0                  ; |268| 
     2009 0000022e 15400301         sti       r0,*+fp(1)            ; |268| 
     2010                           .line   17
     2011                   ;----------------------------------------------------------------------
     2012                   ; 269 | *FLASH_LOC = CLEAR_STATUS;                                             
     2013                   ;----------------------------------------------------------------------
     2014 0000022f 08700000-        ldp       @CL1,DP
     2015 00000230 50280001-        ldiu      @CL1,ar0              ; |269| 
     2016 00000231 08700000-        ldp       @CL33,DP
     2017 00000232 50200021-        ldiu      @CL33,r0              ; |269| 
     2018 00000233 1540c000         sti       r0,*ar0               ; |269| 
     2019                           .line   18
     2020                   ;----------------------------------------------------------------------
     2021                   ; 270 | break;                                                                 
     2022                   ;----------------------------------------------------------------------
     2023 00000234 6a000030         bu        L100                  ; |270| 
     2024                   ;*      Branch Occurs to L100           ; |270| 
     2025 00000235          L91:        
     2026                           .line   21
     2027                   ;----------------------------------------------------------------------
     2028                   ; 273 | if (status&0x00100010)                                                 
     2029                   ;----------------------------------------------------------------------
     2030 00000235 08700000-        ldp       @CL34,DP
     2031 00000236 50200022-        ldiu      @CL34,r0              ; |273| 
     2032 00000237 1a400302         tstb      *+fp(2),r0            ; |273| 
     2033 00000238 6a050008         beq       L93                   ; |273| 
     2034                   ;*      Branch Occurs to L93            ; |273| 
     2035                           .line   23
     2036                   ;----------------------------------------------------------------------
     2037                   ; 275 | r = FLASH_ERROR_PROG;                                                  
     2038                   ;----------------------------------------------------------------------
     2039 00000239 50600002         ldiu      2,r0                  ; |275| 
     2040 0000023a 15400301         sti       r0,*+fp(1)            ; |275| 
     2041                           .line   24
     2042                   ;----------------------------------------------------------------------
     2043                   ; 276 | *FLASH_LOC = CLEAR_STATUS;                                             
     2044                   ;----------------------------------------------------------------------
     2045 0000023b 08700000-        ldp       @CL1,DP
     2046 0000023c 50280001-        ldiu      @CL1,ar0              ; |276| 
     2047 0000023d 08700000-        ldp       @CL33,DP
     2048 0000023e 50200021-        ldiu      @CL33,r0              ; |276| 
     2049 0000023f 1540c000         sti       r0,*ar0               ; |276| 
     2050                           .line   25
     2051                   ;----------------------------------------------------------------------
     2052                   ; 277 | break;                                                                 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   39

     2053                   ;----------------------------------------------------------------------
     2054 00000240 6a000024         bu        L100                  ; |277| 
     2055                   ;*      Branch Occurs to L100           ; |277| 
     2056 00000241          L93:        
     2057                           .line   28
     2058                   ;----------------------------------------------------------------------
     2059                   ; 280 | if (status&0x00020002)                                                 
     2060                   ;----------------------------------------------------------------------
     2061 00000241 08700000-        ldp       @CL35,DP
     2062 00000242 50200023-        ldiu      @CL35,r0              ; |280| 
     2063 00000243 1a400302         tstb      *+fp(2),r0            ; |280| 
     2064 00000244 6a050008         beq       L95                   ; |280| 
     2065                   ;*      Branch Occurs to L95            ; |280| 
     2066                           .line   30
     2067                   ;----------------------------------------------------------------------
     2068                   ; 282 | r = FLASH_ERROR_LOCKED;                                                
     2069                   ;----------------------------------------------------------------------
     2070 00000245 50600004         ldiu      4,r0                  ; |282| 
     2071 00000246 15400301         sti       r0,*+fp(1)            ; |282| 
     2072                           .line   31
     2073                   ;----------------------------------------------------------------------
     2074                   ; 283 | *FLASH_LOC = CLEAR_STATUS;                                             
     2075                   ;----------------------------------------------------------------------
     2076 00000247 08700000-        ldp       @CL1,DP
     2077 00000248 50280001-        ldiu      @CL1,ar0              ; |283| 
     2078 00000249 08700000-        ldp       @CL33,DP
     2079 0000024a 50200021-        ldiu      @CL33,r0              ; |283| 
     2080 0000024b 1540c000         sti       r0,*ar0               ; |283| 
     2081                           .line   32
     2082                   ;----------------------------------------------------------------------
     2083                   ; 284 | break;                                                                 
     2084                   ;----------------------------------------------------------------------
     2085 0000024c 6a000018         bu        L100                  ; |284| 
     2086                   ;*      Branch Occurs to L100           ; |284| 
     2087 0000024d          L95:        
     2088                           .line   35
     2089                   ;----------------------------------------------------------------------
     2090                   ; 287 | if (status&0x00300030)                                                 
     2091                   ;----------------------------------------------------------------------
     2092 0000024d 08700000-        ldp       @CL36,DP
     2093 0000024e 50200024-        ldiu      @CL36,r0              ; |287| 
     2094 0000024f 1a400302         tstb      *+fp(2),r0            ; |287| 
     2095 00000250 6a050008         beq       L97                   ; |287| 
     2096                   ;*      Branch Occurs to L97            ; |287| 
     2097                           .line   37
     2098                   ;----------------------------------------------------------------------
     2099                   ; 289 | r = FLASH_ERROR_CMD_SEQ;                                               
     2100                   ;----------------------------------------------------------------------
     2101 00000251 50600010         ldiu      16,r0                 ; |289| 
     2102 00000252 15400301         sti       r0,*+fp(1)            ; |289| 
     2103                           .line   38
     2104                   ;----------------------------------------------------------------------
     2105                   ; 290 | *FLASH_LOC = CLEAR_STATUS;                                             
     2106                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   40

     2107 00000253 08700000-        ldp       @CL1,DP
     2108 00000254 50280001-        ldiu      @CL1,ar0              ; |290| 
     2109 00000255 08700000-        ldp       @CL33,DP
     2110 00000256 50200021-        ldiu      @CL33,r0              ; |290| 
     2111 00000257 1540c000         sti       r0,*ar0               ; |290| 
     2112                           .line   39
     2113                   ;----------------------------------------------------------------------
     2114                   ; 291 | break;                                                                 
     2115                   ;----------------------------------------------------------------------
     2116 00000258 6a00000c         bu        L100                  ; |291| 
     2117                   ;*      Branch Occurs to L100           ; |291| 
     2118 00000259          L97:        
     2119                           .line   42
     2120                   ;----------------------------------------------------------------------
     2121                   ; 294 | if (status&0x00200020)                                                 
     2122                   ;----------------------------------------------------------------------
     2123 00000259 08700000-        ldp       @CL28,DP
     2124 0000025a 5020001c-        ldiu      @CL28,r0              ; |294| 
     2125 0000025b 1a400302         tstb      *+fp(2),r0            ; |294| 
     2126 0000025c 6a050008         beq       L100                  ; |294| 
     2127                   ;*      Branch Occurs to L100           ; |294| 
     2128                           .line   44
     2129                   ;----------------------------------------------------------------------
     2130                   ; 296 | r = FLASH_ERROR_BLK_ERASE;                                             
     2131                   ;----------------------------------------------------------------------
     2132 0000025d 50600008         ldiu      8,r0                  ; |296| 
     2133 0000025e 15400301         sti       r0,*+fp(1)            ; |296| 
     2134                           .line   45
     2135                   ;----------------------------------------------------------------------
     2136                   ; 297 | *FLASH_LOC = CLEAR_STATUS;                                             
     2137                   ;----------------------------------------------------------------------
     2138 0000025f 08700000-        ldp       @CL1,DP
     2139 00000260 50280001-        ldiu      @CL1,ar0              ; |297| 
     2140 00000261 08700000-        ldp       @CL33,DP
     2141 00000262 50200021-        ldiu      @CL33,r0              ; |297| 
     2142 00000263 1540c000         sti       r0,*ar0               ; |297| 
     2143                           .line   46
     2144                   ;----------------------------------------------------------------------
     2145                   ; 298 | break;                                                                 
     2146                   ;----------------------------------------------------------------------
     2147 00000264 6a000000         bu        L100                  ; |298| 
     2148                   ;*      Branch Occurs to L100           ; |298| 
     2149                           .line   49
     2150                   ;----------------------------------------------------------------------
     2151                   ; 301 | break;                                                                 
     2152                   ;----------------------------------------------------------------------
     2153                           .line   50
     2154 00000265          L100:        
     2155                           .line   52
     2156                   ;----------------------------------------------------------------------
     2157                   ; 304 | ENABLE_WDOG; GIEP;                                                     
     2158                   ;----------------------------------------------------------------------
     2159 00000265 0f350000         push    ST                      
     2160 00000266 03752000         andn    2000h, ST       
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   41

     2161 00000267 08700000-        ldp       @CL26,DP
     2162 00000268 5028001a-        ldiu      @CL26,ar0             ; |304| 
     2163 00000269 50600008         ldiu      8,r0                  ; |304| 
     2164 0000026a 25a0c000         or3       r0,*ar0,r0            ; |304| 
     2165 0000026b 1540c000         sti       r0,*ar0               ; |304| 
     2166 0000026c 50600080         ldiu      128,r0                ; |304| 
     2167 0000026d 25a0c000         or3       r0,*ar0,r0            ; |304| 
     2168 0000026e 1540c000         sti       r0,*ar0               ; |304| 
     2169 0000026f 0e350000         pop             ST                      
     2170 00000270 0e350000         pop             ST                      
     2171                           .line   53
     2172                   ;----------------------------------------------------------------------
     2173                   ; 305 | return r;                                                              
     2174                   ;----------------------------------------------------------------------
     2175 00000271 50400301         ldiu      *+fp(1),r0            ; |305| 
     2176                           .line   54
     2177                                                           ; Begin Epilog Code
     2178 00000272 50410b01         ldiu      *-fp(1),r1            ; |306| 
     2179 00000273 504bc300         ldiu      *fp,fp                ; |306| 
     2180                                                           ; Unallocate the Frame
     2181 00000274 18740004         subi      4,sp                  ; |306| 
     2182 00000275 68000001         bu        r1
     2183                   ;*      Branch Occurs to r1 
     2184                           .endfunc        306,000000000h,2
     2185                   
     2186                   
     2187 00000276                  .sect    "internal_RAM"
     2188                   
     2189                           .global _FLASH_READ_ESN_MFGR
     2190                           .sym    _FLASH_READ_ESN_MFGR,_FLASH_READ_ESN_MFGR,32,2,0
     2191                           .func   308
     2192                   ;******************************************************************************
     2193                   ;* FUNCTION NAME: _FLASH_READ_ESN_MFGR                                        *
     2194                   ;*                                                                            *
     2195                   ;*   Architecture       : TMS320C33                                           *
     2196                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2197                   ;*   Function Uses Regs : r0,ar0,ar1,ar2,ir0,ir1,st                           *
     2198                   ;*   Regs Saved         :                                                     *
     2199                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2200                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
     2201                   ;******************************************************************************
     2202 00000276          _FLASH_READ_ESN_MFGR:
     2203                   ;* ar2   assigned to _dat
     2204                           .sym    _dat,10,30,17,32
     2205                           .sym    _dat,1,30,1,32
     2206                           .sym    _i,2,4,1,32
     2207                           .line   1
     2208                   ;----------------------------------------------------------------------
     2209                   ; 308 | void FLASH_READ_ESN_MFGR(unsigned int* dat)                            
     2210                   ;----------------------------------------------------------------------
     2211 00000276 0f2b0000         push      fp
     2212 00000277 500b0014         ldiu      sp,fp
     2213 00000278 02740002         addi      2,sp
     2214                           .line   2
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   42

     2215                   ;----------------------------------------------------------------------
     2216                   ; 310 | int i;                                                                 
     2217                   ;----------------------------------------------------------------------
     2218 00000279 154a0301         sti       ar2,*+fp(1)           ; |309| 
     2219                           .line   5
     2220                   ;----------------------------------------------------------------------
     2221                   ; 312 | _GIEP; DISABLE_WDOG;                                                   
     2222                   ;----------------------------------------------------------------------
     2223 0000027a 0f350000         push    ST                      
     2224 0000027b 03752000         andn    2000h, ST       
     2225 0000027c 0f350000         push    ST                      
     2226 0000027d 03752000         andn    2000h, ST       
     2227 0000027e 08700000-        ldp       @CL26,DP
     2228 0000027f 5028001a-        ldiu      @CL26,ar0             ; |312| 
     2229 00000280 506000f7         ldiu      247,r0                ; |312| 
     2230 00000281 21a0c000         and3      r0,*ar0,r0            ; |312| 
     2231 00000282 1540c000         sti       r0,*ar0               ; |312| 
     2232 00000283 0e350000         pop             ST                      
     2233                           .line   6
     2234                   ;----------------------------------------------------------------------
     2235                   ; 313 | *FLASH_LOC = READ_CONFIG;                                              
     2236                   ;----------------------------------------------------------------------
     2237 00000284 08700000-        ldp       @CL1,DP
     2238 00000285 50280001-        ldiu      @CL1,ar0              ; |313| 
     2239 00000286 08700000-        ldp       @CL2,DP
     2240 00000287 50200002-        ldiu      @CL2,r0               ; |313| 
     2241 00000288 1540c000         sti       r0,*ar0               ; |313| 
     2242                           .line   7
     2243                   ;----------------------------------------------------------------------
     2244                   ; 314 | for(i=0;i<4;i++)                                                       
     2245                   ;----------------------------------------------------------------------
     2246 00000289 50600000         ldiu      0,r0                  ; |314| 
     2247 0000028a 15400302         sti       r0,*+fp(2)            ; |314| 
     2248 0000028b 04e00004         cmpi      4,r0                  ; |314| 
     2249 0000028c 6a0a000c         bge       L105                  ; |314| 
     2250                   ;*      Branch Occurs to L105           ; |314| 
     2251 0000028d          L104:        
     2252                           .line   9
     2253                   ;----------------------------------------------------------------------
     2254                   ; 316 | dat[i] = FLASH_LOC[i+0x81];                                            
     2255                   ;----------------------------------------------------------------------
     2256 0000028d 08700000-        ldp       @CL37,DP
     2257 0000028e 50510302         ldiu      *+fp(2),ir0           ; |316| 
     2258 0000028f 50520301         ldiu      *+fp(1),ir1           ; |316| 
     2259 00000290 50290025-        ldiu      @CL37,ar1             ; |316| 
     2260 00000291 50080011         ldiu      ir0,ar0               ; |316| 
     2261 00000292 50404100         ldiu      *+ar1(ir0),r0         ; |316| 
     2262 00000293 15408000         sti       r0,*+ar0(ir1)         ; |316| 
     2263                           .line   7
     2264 00000294 50600001         ldiu      1,r0                  ; |314| 
     2265 00000295 02400302         addi      *+fp(2),r0            ; |314| 
     2266 00000296 15400302         sti       r0,*+fp(2)            ; |314| 
     2267 00000297 04e00004         cmpi      4,r0                  ; |314| 
     2268 00000298 6a07fff4         blt       L104                  ; |314| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   43

     2269                   ;*      Branch Occurs to L104           ; |314| 
     2270 00000299          L105:        
     2271                           .line   12
     2272                   ;----------------------------------------------------------------------
     2273                   ; 319 | dat[4] = FLASH_LOC[0x80];       /*ESN status - check bits 0,16, if they
     2274                   ;     |  are 0 then it is locked*/                                             
     2275                   ;----------------------------------------------------------------------
     2276 00000299 08700000-        ldp       @CL38,DP
     2277 0000029a 50280026-        ldiu      @CL38,ar0             ; |319| 
     2278 0000029b 50490301         ldiu      *+fp(1),ar1           ; |319| 
     2279 0000029c 5040c000         ldiu      *ar0,r0               ; |319| 
     2280 0000029d 15400104         sti       r0,*+ar1(4)           ; |319| 
     2281                           .line   14
     2282                   ;----------------------------------------------------------------------
     2283                   ; 321 | *FLASH_LOC = READ_ARRAY;                                               
     2284                   ;----------------------------------------------------------------------
     2285 0000029e 08700000-        ldp       @CL1,DP
     2286 0000029f 50280001-        ldiu      @CL1,ar0              ; |321| 
     2287 000002a0 08700000-        ldp       @CL4,DP
     2288 000002a1 50200004-        ldiu      @CL4,r0               ; |321| 
     2289 000002a2 1540c000         sti       r0,*ar0               ; |321| 
     2290                           .line   15
     2291                   ;----------------------------------------------------------------------
     2292                   ; 322 | ENABLE_WDOG; GIEP;                                                     
     2293                   ;----------------------------------------------------------------------
     2294 000002a3 0f350000         push    ST                      
     2295 000002a4 03752000         andn    2000h, ST       
     2296 000002a5 08700000-        ldp       @CL26,DP
     2297 000002a6 5028001a-        ldiu      @CL26,ar0             ; |322| 
     2298 000002a7 50600008         ldiu      8,r0                  ; |322| 
     2299 000002a8 25a0c000         or3       r0,*ar0,r0            ; |322| 
     2300 000002a9 1540c000         sti       r0,*ar0               ; |322| 
     2301 000002aa 50600080         ldiu      128,r0                ; |322| 
     2302 000002ab 25a0c000         or3       r0,*ar0,r0            ; |322| 
     2303 000002ac 1540c000         sti       r0,*ar0               ; |322| 
     2304 000002ad 0e350000         pop             ST                      
     2305 000002ae 0e350000         pop             ST                      
     2306                           .line   16
     2307                                                           ; Begin Epilog Code
     2308 000002af 50410b01         ldiu      *-fp(1),r1
     2309 000002b0 504bc300         ldiu      *fp,fp
     2310                                                           ; Unallocate the Frame
     2311 000002b1 18740004         subi      4,sp
     2312 000002b2 68000001         bu        r1
     2313                   ;*      Branch Occurs to r1 
     2314                           .endfunc        323,000000000h,2
     2315                   
     2316                   
     2317 000002b3                  .sect    "internal_RAM"
     2318                   
     2319                           .global _FLASH_READ_ESN_USER
     2320                           .sym    _FLASH_READ_ESN_USER,_FLASH_READ_ESN_USER,32,2,0
     2321                           .func   325
     2322                   ;******************************************************************************
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   44

     2323                   ;* FUNCTION NAME: _FLASH_READ_ESN_USER                                        *
     2324                   ;*                                                                            *
     2325                   ;*   Architecture       : TMS320C33                                           *
     2326                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2327                   ;*   Function Uses Regs : r0,ar0,ar1,ar2,ir0,ir1,st                           *
     2328                   ;*   Regs Saved         :                                                     *
     2329                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2330                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
     2331                   ;******************************************************************************
     2332 000002b3          _FLASH_READ_ESN_USER:
     2333                   ;* ar2   assigned to _dat
     2334                           .sym    _dat,10,30,17,32
     2335                           .sym    _dat,1,30,1,32
     2336                           .sym    _i,2,4,1,32
     2337                           .line   1
     2338                   ;----------------------------------------------------------------------
     2339                   ; 325 | void FLASH_READ_ESN_USER(unsigned int* dat)                            
     2340                   ;----------------------------------------------------------------------
     2341 000002b3 0f2b0000         push      fp
     2342 000002b4 500b0014         ldiu      sp,fp
     2343 000002b5 02740002         addi      2,sp
     2344                           .line   2
     2345                   ;----------------------------------------------------------------------
     2346                   ; 327 | int i;                                                                 
     2347                   ;----------------------------------------------------------------------
     2348 000002b6 154a0301         sti       ar2,*+fp(1)           ; |326| 
     2349                           .line   5
     2350                   ;----------------------------------------------------------------------
     2351                   ; 329 | _GIEP; DISABLE_WDOG;                                                   
     2352                   ;----------------------------------------------------------------------
     2353 000002b7 0f350000         push    ST                      
     2354 000002b8 03752000         andn    2000h, ST       
     2355 000002b9 0f350000         push    ST                      
     2356 000002ba 03752000         andn    2000h, ST       
     2357 000002bb 08700000-        ldp       @CL26,DP
     2358 000002bc 5028001a-        ldiu      @CL26,ar0             ; |329| 
     2359 000002bd 506000f7         ldiu      247,r0                ; |329| 
     2360 000002be 21a0c000         and3      r0,*ar0,r0            ; |329| 
     2361 000002bf 1540c000         sti       r0,*ar0               ; |329| 
     2362 000002c0 0e350000         pop             ST                      
     2363                           .line   6
     2364                   ;----------------------------------------------------------------------
     2365                   ; 330 | *FLASH_LOC = READ_CONFIG;                                              
     2366                   ;----------------------------------------------------------------------
     2367 000002c1 08700000-        ldp       @CL1,DP
     2368 000002c2 50280001-        ldiu      @CL1,ar0              ; |330| 
     2369 000002c3 08700000-        ldp       @CL2,DP
     2370 000002c4 50200002-        ldiu      @CL2,r0               ; |330| 
     2371 000002c5 1540c000         sti       r0,*ar0               ; |330| 
     2372                           .line   7
     2373                   ;----------------------------------------------------------------------
     2374                   ; 331 | for(i=0;i<4;i++)                                                       
     2375                   ;----------------------------------------------------------------------
     2376 000002c6 50600000         ldiu      0,r0                  ; |331| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   45

     2377 000002c7 15400302         sti       r0,*+fp(2)            ; |331| 
     2378 000002c8 04e00004         cmpi      4,r0                  ; |331| 
     2379 000002c9 6a0a000c         bge       L110                  ; |331| 
     2380                   ;*      Branch Occurs to L110           ; |331| 
     2381 000002ca          L109:        
     2382                           .line   9
     2383                   ;----------------------------------------------------------------------
     2384                   ; 333 | dat[i] = FLASH_LOC[i+0x85];                                            
     2385                   ;----------------------------------------------------------------------
     2386 000002ca 08700000-        ldp       @CL39,DP
     2387 000002cb 50510302         ldiu      *+fp(2),ir0           ; |333| 
     2388 000002cc 50520301         ldiu      *+fp(1),ir1           ; |333| 
     2389 000002cd 50290027-        ldiu      @CL39,ar1             ; |333| 
     2390 000002ce 50080011         ldiu      ir0,ar0               ; |333| 
     2391 000002cf 50404100         ldiu      *+ar1(ir0),r0         ; |333| 
     2392 000002d0 15408000         sti       r0,*+ar0(ir1)         ; |333| 
     2393                           .line   7
     2394 000002d1 50600001         ldiu      1,r0                  ; |331| 
     2395 000002d2 02400302         addi      *+fp(2),r0            ; |331| 
     2396 000002d3 15400302         sti       r0,*+fp(2)            ; |331| 
     2397 000002d4 04e00004         cmpi      4,r0                  ; |331| 
     2398 000002d5 6a07fff4         blt       L109                  ; |331| 
     2399                   ;*      Branch Occurs to L109           ; |331| 
     2400 000002d6          L110:        
     2401                           .line   12
     2402                   ;----------------------------------------------------------------------
     2403                   ; 336 | dat[4] = FLASH_LOC[0x80];       /*ESN status - check bits 1,17, if they
     2404                   ;     |  are 0 then it is locked*/                                             
     2405                   ;----------------------------------------------------------------------
     2406 000002d6 08700000-        ldp       @CL38,DP
     2407 000002d7 50280026-        ldiu      @CL38,ar0             ; |336| 
     2408 000002d8 50490301         ldiu      *+fp(1),ar1           ; |336| 
     2409 000002d9 5040c000         ldiu      *ar0,r0               ; |336| 
     2410 000002da 15400104         sti       r0,*+ar1(4)           ; |336| 
     2411                           .line   14
     2412                   ;----------------------------------------------------------------------
     2413                   ; 338 | *FLASH_LOC = READ_ARRAY;                                               
     2414                   ;----------------------------------------------------------------------
     2415 000002db 08700000-        ldp       @CL1,DP
     2416 000002dc 50280001-        ldiu      @CL1,ar0              ; |338| 
     2417 000002dd 08700000-        ldp       @CL4,DP
     2418 000002de 50200004-        ldiu      @CL4,r0               ; |338| 
     2419 000002df 1540c000         sti       r0,*ar0               ; |338| 
     2420                           .line   15
     2421                   ;----------------------------------------------------------------------
     2422                   ; 339 | ENABLE_WDOG; GIEP;                                                     
     2423                   ;----------------------------------------------------------------------
     2424 000002e0 0f350000         push    ST                      
     2425 000002e1 03752000         andn    2000h, ST       
     2426 000002e2 08700000-        ldp       @CL26,DP
     2427 000002e3 5028001a-        ldiu      @CL26,ar0             ; |339| 
     2428 000002e4 50600008         ldiu      8,r0                  ; |339| 
     2429 000002e5 25a0c000         or3       r0,*ar0,r0            ; |339| 
     2430 000002e6 1540c000         sti       r0,*ar0               ; |339| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   46

     2431 000002e7 50600080         ldiu      128,r0                ; |339| 
     2432 000002e8 25a0c000         or3       r0,*ar0,r0            ; |339| 
     2433 000002e9 1540c000         sti       r0,*ar0               ; |339| 
     2434 000002ea 0e350000         pop             ST                      
     2435 000002eb 0e350000         pop             ST                      
     2436                           .line   16
     2437                                                           ; Begin Epilog Code
     2438 000002ec 50410b01         ldiu      *-fp(1),r1
     2439 000002ed 504bc300         ldiu      *fp,fp
     2440                                                           ; Unallocate the Frame
     2441 000002ee 18740004         subi      4,sp
     2442 000002ef 68000001         bu        r1
     2443                   ;*      Branch Occurs to r1 
     2444                           .endfunc        340,000000000h,2
     2445                   
     2446                   
     2447 000002f0                  .sect    "internal_RAM"
     2448                   
     2449                           .global _FLASH_WRITE_ESN_USER
     2450                           .sym    _FLASH_WRITE_ESN_USER,_FLASH_WRITE_ESN_USER,36,2,0
     2451                           .func   342
     2452                   ;******************************************************************************
     2453                   ;* FUNCTION NAME: _FLASH_WRITE_ESN_USER                                       *
     2454                   ;*                                                                            *
     2455                   ;*   Architecture       : TMS320C33                                           *
     2456                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2457                   ;*   Function Uses Regs : r0,ar0,ar1,ar2,ir0,ir1,st                           *
     2458                   ;*   Regs Saved         :                                                     *
     2459                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2460                   ;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
     2461                   ;******************************************************************************
     2462 000002f0          _FLASH_WRITE_ESN_USER:
     2463                   ;* ar2   assigned to _dat
     2464                           .sym    _dat,10,30,17,32
     2465                           .sym    _dat,1,30,1,32
     2466                           .sym    _r,2,4,1,32
     2467                           .sym    _i,3,4,1,32
     2468                           .sym    _status,4,14,1,32
     2469                           .line   1
     2470                   ;----------------------------------------------------------------------
     2471                   ; 342 | int FLASH_WRITE_ESN_USER(unsigned int* dat)                            
     2472                   ;----------------------------------------------------------------------
     2473 000002f0 0f2b0000         push      fp
     2474 000002f1 500b0014         ldiu      sp,fp
     2475 000002f2 02740004         addi      4,sp
     2476                           .line   2
     2477                   ;----------------------------------------------------------------------
     2478                   ; 344 | int r;                                                                 
     2479                   ; 345 | int i;                                                                 
     2480                   ; 346 | unsigned int status;                                                   
     2481                   ;----------------------------------------------------------------------
     2482 000002f3 154a0301         sti       ar2,*+fp(1)           ; |343| 
     2483                           .line   7
     2484                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   47

     2485                   ; 348 | _GIEP; DISABLE_WDOG;                                                   
     2486                   ;----------------------------------------------------------------------
     2487 000002f4 0f350000         push    ST                      
     2488 000002f5 03752000         andn    2000h, ST       
     2489 000002f6 0f350000         push    ST                      
     2490 000002f7 03752000         andn    2000h, ST       
     2491 000002f8 08700000-        ldp       @CL26,DP
     2492 000002f9 5028001a-        ldiu      @CL26,ar0             ; |348| 
     2493 000002fa 506000f7         ldiu      247,r0                ; |348| 
     2494 000002fb 21a0c000         and3      r0,*ar0,r0            ; |348| 
     2495 000002fc 1540c000         sti       r0,*ar0               ; |348| 
     2496 000002fd 0e350000         pop             ST                      
     2497                           .line   9
     2498                   ;----------------------------------------------------------------------
     2499                   ; 350 | *FLASH_LOC = READ_CONFIG;                                              
     2500                   ;----------------------------------------------------------------------
     2501 000002fe 08700000-        ldp       @CL1,DP
     2502 000002ff 50280001-        ldiu      @CL1,ar0              ; |350| 
     2503 00000300 08700000-        ldp       @CL2,DP
     2504 00000301 50200002-        ldiu      @CL2,r0               ; |350| 
     2505 00000302 1540c000         sti       r0,*ar0               ; |350| 
     2506                           .line   10
     2507                   ;----------------------------------------------------------------------
     2508                   ; 351 | status = FLASH_LOC[0x80];                                              
     2509                   ;----------------------------------------------------------------------
     2510 00000303 08700000-        ldp       @CL38,DP
     2511 00000304 50280026-        ldiu      @CL38,ar0             ; |351| 
     2512 00000305 5040c000         ldiu      *ar0,r0               ; |351| 
     2513 00000306 15400304         sti       r0,*+fp(4)            ; |351| 
     2514                           .line   11
     2515                   ;----------------------------------------------------------------------
     2516                   ; 352 | *FLASH_LOC = READ_ARRAY;                                               
     2517                   ;----------------------------------------------------------------------
     2518 00000307 08700000-        ldp       @CL1,DP
     2519 00000308 50280001-        ldiu      @CL1,ar0              ; |352| 
     2520 00000309 08700000-        ldp       @CL4,DP
     2521 0000030a 50200004-        ldiu      @CL4,r0               ; |352| 
     2522 0000030b 1540c000         sti       r0,*ar0               ; |352| 
     2523                           .line   12
     2524                   ;----------------------------------------------------------------------
     2525                   ; 353 | if ((status & 0x00020002) != 0x00020002)                               
     2526                   ;----------------------------------------------------------------------
     2527 0000030c 08700000-        ldp       @CL35,DP
     2528 0000030d 50200023-        ldiu      @CL35,r0              ; |353| 
     2529 0000030e 02c00304         and       *+fp(4),r0            ; |353| 
     2530 0000030f 04a00023-        cmpi      @CL35,r0              ; |353| 
     2531 00000310 6a050010         beq       L115                  ; |353| 
     2532                   ;*      Branch Occurs to L115           ; |353| 
     2533                           .line   14
     2534                   ;----------------------------------------------------------------------
     2535                   ; 355 | ENABLE_WDOG; GIEP;                                                     
     2536                   ;----------------------------------------------------------------------
     2537 00000311 0f350000         push    ST                      
     2538 00000312 03752000         andn    2000h, ST       
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   48

     2539 00000313 08700000-        ldp       @CL26,DP
     2540 00000314 5028001a-        ldiu      @CL26,ar0             ; |355| 
     2541 00000315 50600008         ldiu      8,r0                  ; |355| 
     2542 00000316 25a0c000         or3       r0,*ar0,r0            ; |355| 
     2543 00000317 1540c000         sti       r0,*ar0               ; |355| 
     2544 00000318 50600080         ldiu      128,r0                ; |355| 
     2545 00000319 25a0c000         or3       r0,*ar0,r0            ; |355| 
     2546 0000031a 1540c000         sti       r0,*ar0               ; |355| 
     2547 0000031b 0e350000         pop             ST                      
     2548 0000031c 0e350000         pop             ST                      
     2549                           .line   15
     2550                   ;----------------------------------------------------------------------
     2551                   ; 356 | return -1;      /*protection register is already locked*/              
     2552                   ;----------------------------------------------------------------------
     2553 0000031d 6a200047         bud       L120                  ; |356| 
     2554 0000031e 0c800000         nop
     2555 0000031f 0c800000         nop
     2556 00000320 5060ffff         ldiu      -1,r0                 ; |356| 
     2557                   ;*      Branch Occurs to L120           ; |356| 
     2558 00000321          L115:        
     2559                           .line   18
     2560                   ;----------------------------------------------------------------------
     2561                   ; 359 | for(i=0;i<4;i++)                                                       
     2562                   ;----------------------------------------------------------------------
     2563 00000321 50600000         ldiu      0,r0                  ; |359| 
     2564 00000322 15400303         sti       r0,*+fp(3)            ; |359| 
     2565 00000323 04e00004         cmpi      4,r0                  ; |359| 
     2566 00000324 6a0a0028         bge       L119                  ; |359| 
     2567                   ;*      Branch Occurs to L119           ; |359| 
     2568 00000325          L116:        
     2569                           .line   20
     2570                   ;----------------------------------------------------------------------
     2571                   ; 361 | *FLASH_LOC = PROTECT_PROG;                                             
     2572                   ;----------------------------------------------------------------------
     2573 00000325 08700000-        ldp       @CL1,DP
     2574 00000326 50280001-        ldiu      @CL1,ar0              ; |361| 
     2575 00000327 08700000-        ldp       @CL40,DP
     2576 00000328 50200028-        ldiu      @CL40,r0              ; |361| 
     2577 00000329 1540c000         sti       r0,*ar0               ; |361| 
     2578                           .line   21
     2579                   ;----------------------------------------------------------------------
     2580                   ; 362 | dat[i] = FLASH_LOC[i+0x85];                                            
     2581                   ;----------------------------------------------------------------------
     2582 0000032a 08700000-        ldp       @CL39,DP
     2583 0000032b 50510303         ldiu      *+fp(3),ir0           ; |362| 
     2584 0000032c 50290027-        ldiu      @CL39,ar1             ; |362| 
     2585 0000032d 50520301         ldiu      *+fp(1),ir1           ; |362| 
     2586 0000032e 50080011         ldiu      ir0,ar0               ; |362| 
     2587 0000032f 50404100         ldiu      *+ar1(ir0),r0         ; |362| 
     2588 00000330 15408000         sti       r0,*+ar0(ir1)         ; |362| 
     2589                           .line   22
     2590                   ;----------------------------------------------------------------------
     2591                   ; 363 | *FLASH_LOC = READ_STATUS;                                              
     2592                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   49

     2593 00000331 08700000-        ldp       @CL1,DP
     2594 00000332 50280001-        ldiu      @CL1,ar0              ; |363| 
     2595 00000333 08700000-        ldp       @CL31,DP
     2596 00000334 5020001f-        ldiu      @CL31,r0              ; |363| 
     2597 00000335 1540c000         sti       r0,*ar0               ; |363| 
     2598                           .line   23
     2599                   ;----------------------------------------------------------------------
     2600                   ; 364 | status = *FLASH_LOC;                                                   
     2601                   ;----------------------------------------------------------------------
     2602 00000336 08700000-        ldp       @CL1,DP
     2603 00000337 50280001-        ldiu      @CL1,ar0              ; |364| 
     2604 00000338 5040c000         ldiu      *ar0,r0               ; |364| 
     2605 00000339 15400304         sti       r0,*+fp(4)            ; |364| 
     2606                           .line   24
     2607                   ;----------------------------------------------------------------------
     2608                   ; 365 | while (!((status & 0x00800080)==0x00800080))                           
     2609                   ;----------------------------------------------------------------------
     2610 0000033a 08700000-        ldp       @CL29,DP
     2611 0000033b 5020001d-        ldiu      @CL29,r0              ; |365| 
     2612 0000033c 02c00304         and       *+fp(4),r0            ; |365| 
     2613 0000033d 04a0001d-        cmpi      @CL29,r0              ; |365| 
     2614 0000033e 6a050009         beq       L118                  ; |365| 
     2615                   ;*      Branch Occurs to L118           ; |365| 
     2616 0000033f          L117:        
     2617                           .line   26
     2618                   ;----------------------------------------------------------------------
     2619                   ; 367 | status = *FLASH_LOC;                                                   
     2620                   ;----------------------------------------------------------------------
     2621 0000033f 08700000-        ldp       @CL1,DP
     2622 00000340 50280001-        ldiu      @CL1,ar0              ; |367| 
     2623 00000341 5040c000         ldiu      *ar0,r0               ; |367| 
     2624 00000342 15400304         sti       r0,*+fp(4)            ; |367| 
     2625                           .line   24
     2626 00000343 08700000-        ldp       @CL29,DP
     2627 00000344 5020001d-        ldiu      @CL29,r0              ; |365| 
     2628 00000345 02c00304         and       *+fp(4),r0            ; |365| 
     2629 00000346 04a0001d-        cmpi      @CL29,r0              ; |365| 
     2630 00000347 6a06fff7         bne       L117                  ; |365| 
     2631                   ;*      Branch Occurs to L117           ; |365| 
     2632 00000348          L118:        
     2633                           .line   18
     2634 00000348 50600001         ldiu      1,r0                  ; |359| 
     2635 00000349 02400303         addi      *+fp(3),r0            ; |359| 
     2636 0000034a 15400303         sti       r0,*+fp(3)            ; |359| 
     2637 0000034b 04e00004         cmpi      4,r0                  ; |359| 
     2638 0000034c 6a07ffd8         blt       L116                  ; |359| 
     2639                   ;*      Branch Occurs to L116           ; |359| 
     2640 0000034d          L119:        
     2641                           .line   30
     2642                   ;----------------------------------------------------------------------
     2643                   ; 371 | r = FLASH_STATUS();                                                    
     2644                   ;----------------------------------------------------------------------
     2645 0000034d 08700000-        ldp       @CL25,DP
     2646 0000034e 50200019-        ldiu      @CL25,r0              ; |371| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   50

     2647 0000034f 70000000         callu     r0                    ; far call to _FLASH_STATUS     ; |371| 
     2648                                                           ; |371| Far Call Occurs
     2649 00000350 15400302         sti       r0,*+fp(2)            ; |371| 
     2650                           .line   32
     2651                   ;----------------------------------------------------------------------
     2652                   ; 373 | *FLASH_LOC = READ_ARRAY;                                               
     2653                   ;----------------------------------------------------------------------
     2654 00000351 08700000-        ldp       @CL1,DP
     2655 00000352 50280001-        ldiu      @CL1,ar0              ; |373| 
     2656 00000353 08700000-        ldp       @CL4,DP
     2657 00000354 50200004-        ldiu      @CL4,r0               ; |373| 
     2658 00000355 1540c000         sti       r0,*ar0               ; |373| 
     2659                           .line   34
     2660                   ;----------------------------------------------------------------------
     2661                   ; 375 | r = FLASH_LOCK_ESN_USER();                                             
     2662                   ;----------------------------------------------------------------------
     2663 00000356 08700000-        ldp       @CL41,DP
     2664 00000357 50200029-        ldiu      @CL41,r0              ; |375| 
     2665 00000358 70000000         callu     r0                    ; far call to _FLASH_LOCK_ESN_USER      ; |375| 
     2666                                                           ; |375| Far Call Occurs
     2667 00000359 15400302         sti       r0,*+fp(2)            ; |375| 
     2668                           .line   36
     2669                   ;----------------------------------------------------------------------
     2670                   ; 377 | ENABLE_WDOG; GIEP;                                                     
     2671                   ;----------------------------------------------------------------------
     2672 0000035a 0f350000         push    ST                      
     2673 0000035b 03752000         andn    2000h, ST       
     2674 0000035c 08700000-        ldp       @CL26,DP
     2675 0000035d 5028001a-        ldiu      @CL26,ar0             ; |377| 
     2676 0000035e 50600008         ldiu      8,r0                  ; |377| 
     2677 0000035f 25a0c000         or3       r0,*ar0,r0            ; |377| 
     2678 00000360 1540c000         sti       r0,*ar0               ; |377| 
     2679 00000361 50600080         ldiu      128,r0                ; |377| 
     2680 00000362 25a0c000         or3       r0,*ar0,r0            ; |377| 
     2681 00000363 1540c000         sti       r0,*ar0               ; |377| 
     2682 00000364 0e350000         pop             ST                      
     2683 00000365 0e350000         pop             ST                      
     2684                           .line   38
     2685                   ;----------------------------------------------------------------------
     2686                   ; 379 | return r;                                                              
     2687                   ;----------------------------------------------------------------------
     2688 00000366 50400302         ldiu      *+fp(2),r0            ; |379| 
     2689 00000367          L120:        
     2690                           .line   39
     2691                                                           ; Begin Epilog Code
     2692 00000367 50410b01         ldiu      *-fp(1),r1            ; |380| 
     2693 00000368 504bc300         ldiu      *fp,fp                ; |380| 
     2694                                                           ; Unallocate the Frame
     2695 00000369 18740006         subi      6,sp                  ; |380| 
     2696 0000036a 68000001         bu        r1
     2697                   ;*      Branch Occurs to r1 
     2698                           .endfunc        380,000000000h,4
     2699                   
     2700                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   51

     2701 0000036b                  .sect    "internal_RAM"
     2702                   
     2703                           .global _FLASH_LOCK_ESN_USER
     2704                           .sym    _FLASH_LOCK_ESN_USER,_FLASH_LOCK_ESN_USER,36,2,0
     2705                           .func   382
     2706                   ;******************************************************************************
     2707                   ;* FUNCTION NAME: _FLASH_LOCK_ESN_USER                                        *
     2708                   ;*                                                                            *
     2709                   ;*   Architecture       : TMS320C33                                           *
     2710                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2711                   ;*   Function Uses Regs : r0,ar0,st                                           *
     2712                   ;*   Regs Saved         :                                                     *
     2713                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2714                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
     2715                   ;******************************************************************************
     2716 0000036b          _FLASH_LOCK_ESN_USER:
     2717                           .sym    _r,1,4,1,32
     2718                           .sym    _status,2,14,1,32
     2719                           .line   1
     2720                   ;----------------------------------------------------------------------
     2721                   ; 382 | int FLASH_LOCK_ESN_USER(void)                                          
     2722                   ; 384 | int r;                                                                 
     2723                   ; 385 | unsigned int status;                                                   
     2724                   ;----------------------------------------------------------------------
     2725 0000036b 0f2b0000         push      fp
     2726 0000036c 500b0014         ldiu      sp,fp
     2727 0000036d 02740002         addi      2,sp
     2728                           .line   6
     2729                   ;----------------------------------------------------------------------
     2730                   ; 387 | _GIEP; DISABLE_WDOG;                                                   
     2731                   ;----------------------------------------------------------------------
     2732 0000036e 0f350000         push    ST                      
     2733 0000036f 03752000         andn    2000h, ST       
     2734 00000370 0f350000         push    ST                      
     2735 00000371 03752000         andn    2000h, ST       
     2736 00000372 08700000-        ldp       @CL26,DP
     2737 00000373 5028001a-        ldiu      @CL26,ar0             ; |387| 
     2738 00000374 506000f7         ldiu      247,r0                ; |387| 
     2739 00000375 21a0c000         and3      r0,*ar0,r0            ; |387| 
     2740 00000376 1540c000         sti       r0,*ar0               ; |387| 
     2741 00000377 0e350000         pop             ST                      
     2742                           .line   8
     2743                   ;----------------------------------------------------------------------
     2744                   ; 389 | *FLASH_LOC = PROTECT_PROG;                                             
     2745                   ;----------------------------------------------------------------------
     2746 00000378 08700000-        ldp       @CL1,DP
     2747 00000379 50280001-        ldiu      @CL1,ar0              ; |389| 
     2748 0000037a 08700000-        ldp       @CL40,DP
     2749 0000037b 50200028-        ldiu      @CL40,r0              ; |389| 
     2750 0000037c 1540c000         sti       r0,*ar0               ; |389| 
     2751                           .line   9
     2752                   ;----------------------------------------------------------------------
     2753                   ; 390 | FLASH_LOC[0x80] = 0xFFFDFFFD;   /* PERMANENTLY LOCK user ESN */        
     2754                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   52

     2755 0000037d 08700000-        ldp       @CL38,DP
     2756 0000037e 50280026-        ldiu      @CL38,ar0             ; |390| 
     2757 0000037f 08700000-        ldp       @CL42,DP
     2758 00000380 5020002a-        ldiu      @CL42,r0              ; |390| 
     2759 00000381 1540c000         sti       r0,*ar0               ; |390| 
     2760                           .line   10
     2761                   ;----------------------------------------------------------------------
     2762                   ; 391 | *FLASH_LOC = READ_STATUS;                                              
     2763                   ;----------------------------------------------------------------------
     2764 00000382 08700000-        ldp       @CL1,DP
     2765 00000383 50280001-        ldiu      @CL1,ar0              ; |391| 
     2766 00000384 08700000-        ldp       @CL31,DP
     2767 00000385 5020001f-        ldiu      @CL31,r0              ; |391| 
     2768 00000386 1540c000         sti       r0,*ar0               ; |391| 
     2769                           .line   11
     2770                   ;----------------------------------------------------------------------
     2771                   ; 392 | status = *FLASH_LOC;                                                   
     2772                   ;----------------------------------------------------------------------
     2773 00000387 08700000-        ldp       @CL1,DP
     2774 00000388 50280001-        ldiu      @CL1,ar0              ; |392| 
     2775 00000389 5040c000         ldiu      *ar0,r0               ; |392| 
     2776 0000038a 15400302         sti       r0,*+fp(2)            ; |392| 
     2777                           .line   12
     2778                   ;----------------------------------------------------------------------
     2779                   ; 393 | while (!((status & 0x00800080)==0x00800080))                           
     2780                   ;----------------------------------------------------------------------
     2781 0000038b 08700000-        ldp       @CL29,DP
     2782 0000038c 5020001d-        ldiu      @CL29,r0              ; |393| 
     2783 0000038d 02c00302         and       *+fp(2),r0            ; |393| 
     2784 0000038e 04a0001d-        cmpi      @CL29,r0              ; |393| 
     2785 0000038f 6a050009         beq       L124                  ; |393| 
     2786                   ;*      Branch Occurs to L124           ; |393| 
     2787 00000390          L123:        
     2788                           .line   14
     2789                   ;----------------------------------------------------------------------
     2790                   ; 395 | status = *FLASH_LOC;                                                   
     2791                   ;----------------------------------------------------------------------
     2792 00000390 08700000-        ldp       @CL1,DP
     2793 00000391 50280001-        ldiu      @CL1,ar0              ; |395| 
     2794 00000392 5040c000         ldiu      *ar0,r0               ; |395| 
     2795 00000393 15400302         sti       r0,*+fp(2)            ; |395| 
     2796                           .line   12
     2797 00000394 08700000-        ldp       @CL29,DP
     2798 00000395 5020001d-        ldiu      @CL29,r0              ; |393| 
     2799 00000396 02c00302         and       *+fp(2),r0            ; |393| 
     2800 00000397 04a0001d-        cmpi      @CL29,r0              ; |393| 
     2801 00000398 6a06fff7         bne       L123                  ; |393| 
     2802                   ;*      Branch Occurs to L123           ; |393| 
     2803 00000399          L124:        
     2804                           .line   17
     2805                   ;----------------------------------------------------------------------
     2806                   ; 398 | r = FLASH_STATUS();                                                    
     2807                   ;----------------------------------------------------------------------
     2808 00000399 08700000-        ldp       @CL25,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   53

     2809 0000039a 50200019-        ldiu      @CL25,r0              ; |398| 
     2810 0000039b 70000000         callu     r0                    ; far call to _FLASH_STATUS     ; |398| 
     2811                                                           ; |398| Far Call Occurs
     2812 0000039c 15400301         sti       r0,*+fp(1)            ; |398| 
     2813                           .line   19
     2814                   ;----------------------------------------------------------------------
     2815                   ; 400 | *FLASH_LOC = READ_ARRAY;                                               
     2816                   ;----------------------------------------------------------------------
     2817 0000039d 08700000-        ldp       @CL1,DP
     2818 0000039e 50280001-        ldiu      @CL1,ar0              ; |400| 
     2819 0000039f 08700000-        ldp       @CL4,DP
     2820 000003a0 50200004-        ldiu      @CL4,r0               ; |400| 
     2821 000003a1 1540c000         sti       r0,*ar0               ; |400| 
     2822                           .line   21
     2823                   ;----------------------------------------------------------------------
     2824                   ; 402 | ENABLE_WDOG; GIEP;                                                     
     2825                   ;----------------------------------------------------------------------
     2826 000003a2 0f350000         push    ST                      
     2827 000003a3 03752000         andn    2000h, ST       
     2828 000003a4 08700000-        ldp       @CL26,DP
     2829 000003a5 5028001a-        ldiu      @CL26,ar0             ; |402| 
     2830 000003a6 50600008         ldiu      8,r0                  ; |402| 
     2831 000003a7 25a0c000         or3       r0,*ar0,r0            ; |402| 
     2832 000003a8 1540c000         sti       r0,*ar0               ; |402| 
     2833 000003a9 50600080         ldiu      128,r0                ; |402| 
     2834 000003aa 25a0c000         or3       r0,*ar0,r0            ; |402| 
     2835 000003ab 1540c000         sti       r0,*ar0               ; |402| 
     2836 000003ac 0e350000         pop             ST                      
     2837 000003ad 0e350000         pop             ST                      
     2838                           .line   23
     2839                   ;----------------------------------------------------------------------
     2840                   ; 404 | return r;                                                              
     2841                   ;----------------------------------------------------------------------
     2842 000003ae 50400301         ldiu      *+fp(1),r0            ; |404| 
     2843                           .line   24
     2844                                                           ; Begin Epilog Code
     2845 000003af 50410b01         ldiu      *-fp(1),r1            ; |405| 
     2846 000003b0 504bc300         ldiu      *fp,fp                ; |405| 
     2847                                                           ; Unallocate the Frame
     2848 000003b1 18740004         subi      4,sp                  ; |405| 
     2849 000003b2 68000001         bu        r1
     2850                   ;*      Branch Occurs to r1 
     2851                           .endfunc        405,000000000h,2
     2852                   
     2853                   
     2854                   
     2855                           .global _SRAM_SCRATCHPAD
     2856 00000000                  .bss    _SRAM_SCRATCHPAD,1
     2857                           .sym    _SRAM_SCRATCHPAD,_SRAM_SCRATCHPAD,30,2,32
     2858                   ;******************************************************************************
     2859                   ;* CONSTANT TABLE                                                             *
     2860                   ;******************************************************************************
     2861 00000000                  .sect   ".const"
     2862 00000001                  .bss    CL1,1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   54

     2863 00000002                  .bss    CL2,1
     2864 00000003                  .bss    CL3,1
     2865 00000004                  .bss    CL4,1
     2866 00000005                  .bss    CL5,1
     2867 00000006                  .bss    CL6,1
     2868 00000007                  .bss    CL7,1
     2869 00000008                  .bss    CL8,1
     2870 00000009                  .bss    CL9,1
     2871 0000000a                  .bss    CL10,1
     2872 0000000b                  .bss    CL11,1
     2873 0000000c                  .bss    CL12,1
     2874 0000000d                  .bss    CL13,1
     2875 0000000e                  .bss    CL14,1
     2876 0000000f                  .bss    CL15,1
     2877 00000010                  .bss    CL16,1
     2878 00000011                  .bss    CL17,1
     2879 00000012                  .bss    CL18,1
     2880 00000013                  .bss    CL19,1
     2881 00000014                  .bss    CL20,1
     2882 00000015                  .bss    CL21,1
     2883 00000016                  .bss    CL22,1
     2884 00000017                  .bss    CL23,1
     2885 00000018                  .bss    CL24,1
     2886 00000019                  .bss    CL25,1
     2887 0000001a                  .bss    CL26,1
     2888 0000001b                  .bss    CL27,1
     2889 0000001c                  .bss    CL28,1
     2890 0000001d                  .bss    CL29,1
     2891 0000001e                  .bss    CL30,1
     2892 0000001f                  .bss    CL31,1
     2893 00000020                  .bss    CL32,1
     2894 00000021                  .bss    CL33,1
     2895 00000022                  .bss    CL34,1
     2896 00000023                  .bss    CL35,1
     2897 00000024                  .bss    CL36,1
     2898 00000025                  .bss    CL37,1
     2899 00000026                  .bss    CL38,1
     2900 00000027                  .bss    CL39,1
     2901 00000028                  .bss    CL40,1
     2902 00000029                  .bss    CL41,1
     2903 0000002a                  .bss    CL42,1
     2904                   
     2905 00000000                  .sect   ".cinit"
     2906 00000000 0000002a         .field          42,32
     2907 00000001 00000001-        .field          CL1+0,32
     2908 00000002 00400000         .field          4194304,32
     2909 00000003 00900090         .field          9437328,32
     2910 00000004 00400001         .field          4194305,32
     2911 00000005 00ff00ff         .field          16711935,32
     2912 00000006 00080000         .field          524288,32
     2913 00000007 00100000         .field          1048576,32
     2914 00000008 00200000         .field          2097152,32
     2915 00000009 00400000         .field          4194304,32
     2916 0000000a 0000ffff         .field          65535,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   55

     2917 0000000b 000088c1         .field          35009,32
     2918 0000000c 000088c3         .field          35011,32
     2919 0000000d 000088c5         .field          35013,32
     2920 0000000e 000088cd         .field          35021,32
     2921 0000000f 00000000+        .field          _FLASH_SIZE,32
     2922 00000010 00408000         .field          4227072,32
     2923 00000011 00408000         .field          4227072,32
     2924 00000012 fffff000         .field          -4096,32
     2925 00000013 00008000         .field          32768,32
     2926 00000014 ffff8000         .field          -32768,32
     2927 00000015 0000007b+        .field          _FLASH_CHECK_ADDR,32
     2928 00000016 00600060         .field          6291552,32
     2929 00000017 00d000d0         .field          13631696,32
     2930 00000018 00010001         .field          65537,32
     2931 00000019 002f002f         .field          3080239,32
     2932 0000001a 00000211+        .field          _FLASH_STATUS,32
     2933 0000001b 00900004         .field          9437188,32
     2934 0000001c 000000fb+        .field          _FLASH_LOCK_BLK,32
     2935 0000001d 00200020         .field          2097184,32
     2936 0000001e 00800080         .field          8388736,32
     2937 0000001f 00400040         .field          4194368,32
     2938 00000020 00700070         .field          7340144,32
     2939 00000021 00080008         .field          524296,32
     2940 00000022 00500050         .field          5242960,32
     2941 00000023 00100010         .field          1048592,32
     2942 00000024 00020002         .field          131074,32
     2943 00000025 00300030         .field          3145776,32
     2944 00000026 00400081         .field          4194433,32
     2945 00000027 00400080         .field          4194432,32
     2946 00000028 00400085         .field          4194437,32
     2947 00000029 00c000c0         .field          12583104,32
     2948 0000002a 0000036b+        .field          _FLASH_LOCK_ESN_USER,32
     2949 0000002b fffdfffd         .field          -131075,32
     2950                   
     2951 00000000                  .sect   ".text"

 No Errors,  No Warnings
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   56

LABEL                            VALUE       DEFN    REF

.BIGMODEL                        00000001       0 
.C30                             00000000       0 
.C30INTERRUPT                    00000000       0 
.C31                             00000000       0 
.C32                             00000000       0 
.C33                             00000001       0 
.C3X                             00000001       0 
.C3x                             00000001       0 
.C40                             00000000       0 
.C44                             00000000       0 
.C4X                             00000000       0 
.C4x                             00000000       0 
.REGPARM                         00000001       0 
.TMS320C30                       00000001       0 
.TMS320C31                       00000000       0 
.TMS320C32                       00000000       0 
.TMS320C40                       00000000       0 
.TMS320C44                       00000000       0 
.TMS320xx                        00000021       0 
.tms320C30                       00000001       0 
.tms320C31                       00000000       0 
.tms320C32                       00000000       0 
.tms320C40                       00000000       0 
.tms320C44                       00000000       0 
.tms320xx                        00000021       0 
.tmx320C40                       00000000       0 
CL1                              00000001-   2862    719    720    736    737 
                                                    1019   1021   1036   1038 
                                                    1425   1426   1536   1537 
                                                    1553   1554   1572   1573 
                                                    1597   1598   1749   1750 
                                                    1768   1769   1777   1778 
                                                    1796   1797   1830   1831 
                                                    1981   1982   1991   1992 
                                                    2014   2015   2045   2046 
                                                    2076   2077   2107   2108 
                                                    2138   2139   2237   2238 
                                                    2285   2286   2367   2368 
                                                    2415   2416   2501   2502 
                                                    2518   2519   2573   2574 
                                                    2593   2594   2602   2603 
                                                    2621   2622   2654   2655 
                                                    2746   2747   2764   2765 
                                                    2773   2774   2792   2793 
                                                    2817   2818   2907 
CL10                             0000000a-   2871    823    825    913    914 
CL11                             0000000b-   2872    828    829    917    918 
CL12                             0000000c-   2873    832    833    921    922 
CL13                             0000000d-   2874    836    837    925    926 
CL14                             0000000e-   2875   1010   1011 
CL15                             0000000f-   2876   1051   1053 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   57

LABEL                            VALUE       DEFN    REF

CL16                             00000010-   2877   1105   1108 
CL17                             00000011-   2878   1121   1122 
CL18                             00000012-   2879   1181   1183   1223   1225 
CL19                             00000013-   2880   1216   1217 
CL2                              00000002-   2863    721    722   2239   2240 
                                                    2369   2370   2503   2504 
CL20                             00000014-   2881   1302   1303   1492   1494 
                                                    1694   1695 
CL21                             00000015-   2882   1333   1335   1357   1359 
                                                    1381   1383 
CL22                             00000016-   2883   1341   1343   1545   1547 
CL23                             00000017-   2884   1365   1367 
CL24                             00000018-   2885   1389   1391 
CL25                             00000019-   2886   1416   1417   1588   1589 
                                                    1821   1822   2645   2646 
                                                    2808   2809 
CL26                             0000001a-   2887   1516   1517   1618   1619 
                                                    1718   1719   1903   1904 
                                                    1971   1972   2161   2162 
                                                    2227   2228   2296   2297 
                                                    2357   2358   2426   2427 
                                                    2491   2492   2539   2540 
                                                    2674   2675   2736   2737 
                                                    2828   2829 
CL27                             0000001b-   2888   1527   1529   1607   1609 
                                                    1729   1731   1840   1842 
CL28                             0000001c-   2889   1538   1539   2123   2124 
CL29                             0000001d-   2890   1561   1562   1564   1577 
                                                    1578   1580   1785   1786 
                                                    1788   1801   1802   1804 
                                                    2610   2611   2613   2626 
                                                    2627   2629   2781   2782 
                                                    2784   2797   2798   2800 
CL3                              00000003-   2864    728    729 
CL30                             0000001e-   2891   1751   1752 
CL31                             0000001f-   2892   1770   1771   1983   1984 
                                                    2595   2596   2766   2767 
CL32                             00000020-   2893   1999   2000 
CL33                             00000021-   2894   2016   2017   2047   2048 
                                                    2078   2079   2109   2110 
                                                    2140   2141 
CL34                             00000022-   2895   2030   2031 
CL35                             00000023-   2896   2061   2062   2527   2528 
                                                    2530 
CL36                             00000024-   2897   2092   2093 
CL37                             00000025-   2898   2256   2259 
CL38                             00000026-   2899   2276   2277   2406   2407 
                                                    2510   2511   2755   2756 
CL39                             00000027-   2900   2386   2389   2582   2584 
CL4                              00000004-   2865    738    739   1427   1428 
                                                    1599   1600   1832   1833 
                                                    2287   2288   2417   2418 
                                                    2520   2521   2656   2657 
                                                    2819   2820 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   58

LABEL                            VALUE       DEFN    REF

CL40                             00000028-   2901   2575   2576   2748   2749 
CL41                             00000029-   2902   2663   2664 
CL42                             0000002a-   2903   2757   2758 
CL5                              00000005-   2866    756    758    848    850 
CL6                              00000006-   2867    773    775    865    867 
CL7                              00000007-   2868    790    792    882    884 
CL8                              00000008-   2869    807    809    899    901 
                                                    1069   1070   1161   1162 
                                                    1197   1199 
CL9                              00000009-   2870    821    822 
FP                               0000000b       7 
L100                             00000265+   2154   2023   2054   2085   2116 
                                                    2126   2147 
L104                             0000028d+   2251   2268 
L105                             00000299+   2270   2249 
L109                             000002ca+   2381   2398 
L110                             000002d6+   2400   2379 
L115                             00000321+   2558   2531 
L116                             00000325+   2568   2638 
L117                             0000033f+   2616   2630 
L118                             00000348+   2632   2614 
L119                             0000034d+   2640   2566 
L120                             00000367+   2689   2553 
L123                             00000390+   2787   2801 
L124                             00000399+   2803   2785 
L13                              00000044+    842    915 
L14                              0000004a+    859    919 
L15                              00000050+    876    923 
L16                              00000056+    893    927 
L18                              0000005c+    909    765    782    799    817 
                                                     840 
L2                               0000001c+    750    826 
L22                              0000006a+    929    857    874    891    907 
L25                              00000074+    946    939 
L26                              00000077+    954    941 
L3                               00000022+    767    830 
L30                              0000008e+   1031   1024 
L32                              00000096+   1046   1039 
L36                              000000a6+   1084   1062   1073 
L38                              000000ad+   1098   1091 
L4                               00000028+    784    834 
L40                              000000b7+   1116   1109 
L43                              000000c6+   1147   1054 
L46                              000000d2+   1176   1154   1165 
L48                              000000da+   1191   1184 
L5                               0000002e+    801    838 
L50                              000000e6+   1211   1204 
L52                              000000f6+   1242   1140   1235 
L53                              000000f7+   1248   1026   1041   1079   1093 
                                                    1111   1142   1171   1186 
                                                    1206   1237 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:06 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_4P4.AAB 

flash.asm                                                            PAGE   59

LABEL                            VALUE       DEFN    REF

L57                              00000108+   1317   1313 
L58                              0000010b+   1328   1403 
L59                              00000114+   1352   1406 
L60                              0000011d+   1376   1409 
L62                              00000126+   1399   1326 
L65                              0000012d+   1411   1350   1374   1397 
L66                              00000138+   1440   1315 
L7                               00000034+    819    748 
L70                              00000148+   1507   1503 
L71                              00000169+   1567   1581 
L72                              00000172+   1583   1565 
L73                              0000018d+   1633   1505 
L77                              0000019f+   1709   1705 
L78                              000001b3+   1744   1814 
L79                              000001cc+   1791   1805 
L80                              000001d5+   1807   1789 
L81                              000001db+   1816   1742 
L83                              000001f1+   1863   1894 
L85                              000001fa+   1887   1873 
L86                              00000200+   1896   1851   1861   1885 
L87                              0000020d+   1918   1707 
L91                              00000235+   2025   2002 
L93                              00000241+   2056   2033 
L95                              0000024d+   2087   2064 
L97                              00000259+   2118   2095 
_FLASH_CHECK_ADDR                0000007b+    981    968    969    969   2927 
_FLASH_ERASE_BLK                 0000013c+   1467   1454   1455   1455 
_FLASH_LOCK_BLK                  000000fb+   1275   1262   1263   1263   2934 
_FLASH_LOCK_ESN_USER             0000036b+   2716   2703   2704   2704   2948 
_FLASH_READ_ESN_MFGR             00000276+   2202   2189   2190   2190 
_FLASH_READ_ESN_USER             000002b3+   2332   2319   2320   2320 
_FLASH_SIZE                      00000000+    682    669    670    670   2921 
_FLASH_STATUS                    00000211+   1945   1932   1933   1933   2932 
_FLASH_WRITE_BLK                 00000191+   1660   1647   1648   1648 
_FLASH_WRITE_ESN_USER            000002f0+   2462   2449   2450   2450 
_SRAM_SCRATCHPAD                 00000000-   2856   2855   2857   2857 
fp                               0000000b       6   1479   1487   1497   1528 
                                                    1546   1556   1563   1575 
                                                    1579   1592   1608   1632 
                                                    1636   1637   1637   1678 
                                                    1679   1687   1688   1689 
                                                    1699   1730   1739   1740 
                                                    1741   1758   1759   1760 
                                                    1780   1787   1799   1803 
                                                    1810   1811   1812   1813 
                                                    1825   1841   1849   1858 
                                                    1859   1860   1868   1869 
                                                    1870   1880   1890   1891 
                                                    1892   1893   1917   1921 
                                                    1922   1922   1954   1955 
                                                    1962   1994   2001   2009 
                                                    2032   2040   2063   2071 
                                                    2094   2102   2125   2133 
                                                    2175   2178   2179   2179 
                                                    2211   2212   2218   2247 
                                                    2257   2258   2265   2266 
                                                    2278   2308   2309   2309 
                                                    2341   2342   2348   2377 
                                                    2387   2388   2395   2396 
                                                    2408   2438   2439   2439 
                                                    2473   2474   2482   2513 
                                                    2529   2564   2583   2585 
                                                    2605   2612   2624   2628 
                                                    2635   2636   2649   2667 
                                                    2688   2692   2693   2693 
                                                    2725   2726   2776   2783 
                                                    2795   2799   2812   2842 
                                                    2845   2846   2846 
