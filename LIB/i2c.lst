TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE    1

        1                   ;******************************************************************************
        2                   ;* TMS320C3x/4x ANSI C Code Generator                            Version 5.11 *
        3                   ;* Date/Time created: Mon Oct 31 10:49:17 2011                                *
        4                   ;******************************************************************************
        5                           .regalias       ; enable floating point register aliases
        6          0000000b fp      .set    ar3
        7          0000000b FP      .set    ar3
        8                   ;******************************************************************************
        9                   ;* GLOBAL FILE PARAMETERS                                                     *
       10                   ;*                                                                            *
       11                   ;*   Optimization       : Always Choose Smaller Code Size                     *
       12                   ;*   Memory             : Big Memory Model                                    *
       13                   ;*   Float-to-Int       : Normal Conversions (round toward zero)              *
       14                   ;*   Multiply           : in Software (32 bits)                               *
       15                   ;*   Memory Info        : Unmapped Memory Exists                              *
       16                   ;*   Repeat Loops       : Use RPTS and/or RPTB                                *
       17                   ;*   Calls              : Normal Library ASM calls                            *
       18                   ;*   Debug Info         : Standard TI Debug Information                       *
       19                   ;******************************************************************************
       20                   ;       C:\tic3x4x\c3x4x\cgtools\bin\ac30.exe -@_66S.AAA 
       21                           .file   "i2c.c"
       22                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\GLBLS.H"
       23                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\stdarg.h"
       24                           .sym    _va_list,0,18,13,32
       25                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\format.h"
       26                           .stag   .fake0,128
       27                           .member _flags,0,14,8,32
       28                           .member _fwidth,32,4,8,32
       29                           .member _precision,64,4,8,32
       30                           .member _conv,96,2,8,32
       31                           .eos
       32                           .sym    __PFIELD,0,8,13,128,.fake0
       33                           .stag   .fake1,3200
       34                           .member _flags,0,14,8,32
       35                           .member _fwidth,32,4,8,32
       36                           .member _precision,64,4,8,32
       37                           .member _scanset,96,50,8,3072,,96
       38                           .member _conv,3168,2,8,32
       39                           .eos
       40                           .sym    __SFIELD,0,8,13,3200,.fake1
       41                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\string.h"
       42                           .sym    _size_t,0,14,13,32
       43                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\stdio.h"
       44                           .stag   .fake2,224
       45                           .member _fd,0,4,8,32
       46                           .member _buf,32,28,8,32
       47                           .member _pos,64,28,8,32
       48                           .member _bufend,96,28,8,32
       49                           .member _buff_stop,128,28,8,32
       50                           .member _flags,160,14,8,32
       51                           .member _index,192,4,8,32
       52                           .eos
       53                           .sym    _FILE,0,8,13,224,.fake2
       54                           .sym    _fpos_t,0,5,13,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE    2

       55                           .stag   .fake3,544
       56                           .member _name,0,50,8,288,,9
       57                           .member _flags,288,13,8,32
       58                           .member _OPEN,320,148,8,32
       59                           .member _CLOSE,352,148,8,32
       60                           .member _READ,384,148,8,32
       61                           .member _WRITE,416,148,8,32
       62                           .member _LSEEK,448,149,8,32
       63                           .member _UNLINK,480,148,8,32
       64                           .member _RENAME,512,148,8,32
       65                           .eos
       66                           .sym    __DEVICE,0,8,13,544,.fake3
       67                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\stdlib.h"
       68                           .sym    _wchar_t,0,2,13,32
       69                           .stag   __div_t,64
       70                           .member _quot,0,4,8,32
       71                           .member _rem,32,4,8,32
       72                           .eos
       73                           .sym    _div_t,0,8,13,64,__div_t
       74                           .sym    _ldiv_t,0,8,13,64,__div_t
       75                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\math.h"
       76                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\time.h"
       77                           .sym    _clock_t,0,15,13,32
       78                           .sym    _time_t,0,15,13,32
       79                           .stag   _tm,288
       80                           .member _tm_sec,0,4,8,32
       81                           .member _tm_min,32,4,8,32
       82                           .member _tm_hour,64,4,8,32
       83                           .member _tm_mday,96,4,8,32
       84                           .member _tm_mon,128,4,8,32
       85                           .member _tm_year,160,4,8,32
       86                           .member _tm_wday,192,4,8,32
       87                           .member _tm_yday,224,4,8,32
       88                           .member _tm_isdst,256,4,8,32
       89                           .eos
       90                           .stag   _tmzone,320
       91                           .member _daylight,0,3,8,32
       92                           .member _timezone,32,5,8,32
       93                           .member _tzname,64,50,8,128,,4
       94                           .member _dstname,192,50,8,128,,4
       95                           .eos
       96                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\ETC.H"
       97                           .sym    _BOOL,0,14,13,32
       98                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\LIST.H"
       99                           .stag   .fake4,96
      100                           .member _head,0,20,8,32
      101                           .member _tail,32,20,8,32
      102                           .member _n,64,4,8,32
      103                           .eos
      104                           .sym    _LIST,0,8,13,96,.fake4
      105                           .stag   .fake5,64
      106                           .member _prev,0,20,8,32
      107                           .member _next,32,20,8,32
      108                           .eos
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE    3

      109                           .sym    _GENERIC,0,8,13,64,.fake5
      110                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\VARIABLE.H"
      111                           .stag   .fake6,1376
      112                           .member _val,0,6,8,32
      113                           .member _vect1,32,20,8,32
      114                           .member _vect2,64,20,8,32
      115                           .member _STAT,96,4,8,32
      116                           .member _dampening,128,6,8,32
      117                           .member _damp_count,160,4,8,32
      118                           .member _aux,192,4,8,32
      119                           .member _val1,224,6,8,32
      120                           .member _val2,256,6,8,32
      121                           .member _calc_val,288,11,8,64
      122                           .member _base_val,352,11,8,64
      123                           .member _unit,416,4,8,32
      124                           .member _calc_unit,448,4,8,32
      125                           .member _class,480,4,8,32
      126                           .member _scale,512,6,8,32
      127                           .member _scale_long,544,6,8,32
      128                           .member _bound_hi_set,576,6,8,32
      129                           .member _bound_lo_set,608,6,8,32
      130                           .member _alarm_hi_set,640,6,8,32
      131                           .member _alarm_lo_set,672,6,8,32
      132                           .member _name,704,50,8,672,,21
      133                           .eos
      134                           .sym    _VAR,0,8,13,1376,.fake6
      135                           .stag   .fake7,96
      136                           .member _val,0,14,8,32
      137                           .member _vect,32,20,8,32
      138                           .member _vect2,64,20,8,32
      139                           .eos
      140                           .sym    _COIL,0,8,13,96,.fake7
      141                           .stag   .fake8,64
      142                           .member _val,0,4,8,32
      143                           .member _vect,32,20,8,32
      144                           .eos
      145                           .sym    _REGVECT,0,8,13,64,.fake8
      146                           .stag   .fake9,96
      147                           .member _prev,0,20,8,32
      148                           .member _next,32,20,8,32
      149                           .member _v,64,24,8,32,.fake6
      150                           .eos
      151                           .sym    _DPKT,0,8,13,96,.fake9
      152                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\BUFFER.H"
      153                           .stag   .fake10,9824
      154                           .member _head,0,4,8,32
      155                           .member _tail,32,4,8,32
      156                           .member _n,64,4,8,32
      157                           .member _GSEED,96,14,8,32
      158                           .member _CRC16,128,14,8,32
      159                           .member _buff,160,62,8,9600,,300
      160                           .member _sum,9760,4,8,32
      161                           .member _locked,9792,14,8,32
      162                           .eos
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE    4

      163                           .sym    _BFR,0,8,13,9824,.fake10
      164                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\UNITS.H"
      165                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\TIMER.H"
      166                           .stag   .fake11,320
      167                           .member _prev,0,20,8,32
      168                           .member _next,32,20,8,32
      169                           .member _vect,64,20,8,32
      170                           .member _priority,96,4,8,32
      171                           .member _parent,128,20,8,32
      172                           .member _n,160,4,8,32
      173                           .member _prev_n,192,4,8,32
      174                           .member _countdown,224,4,8,32
      175                           .member _preset_time,256,4,8,32
      176                           .member _t,288,6,8,32
      177                           .eos
      178                           .sym    _TPKT,0,8,13,320,.fake11
      179                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\I2C.H"
      180                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\ERRORS.H"
      181                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\SERIAL.H"
      182                           .stag   .fake12,2272
      183                           .member _Slave,0,4,8,32
      184                           .member _SNUM,32,4,8,32
      185                           .member _PRESENT,64,14,8,32
      186                           .member _TX_complete,96,14,8,32
      187                           .member _RX_pending,128,14,8,32
      188                           .member _BUSY,160,14,8,32
      189                           .member _IGNORE_RX,192,14,8,32
      190                           .member _STAT,224,12,8,32
      191                           .member _DAT,256,12,8,32
      192                           .member _broadcast,288,14,8,32
      193                           .member _TMR_Network_WDOG,320,4,8,32
      194                           .member _TMR_EOT_Delay,352,4,8,32
      195                           .member _TMR_Prefix_Delay,384,4,8,32
      196                           .member _TMR_Suffix_Delay,416,4,8,32
      197                           .member _TMR_Char,448,4,8,32
      198                           .member _TMR_Poll,480,8,8,320,.fake11
      199                           .member _TMR_Retry,800,8,8,320,.fake11
      200                           .member _nr,1120,4,8,32
      201                           .member _Received_PKT,1152,14,8,32
      202                           .member _TMR_enabled,1184,14,8,32
      203                           .member _tvector,1216,20,8,32
      204                           .member _pvector,1248,20,8,32
      205                           .member _pvector_main,1280,20,8,32
      206                           .member _tvector_main,1312,20,8,32
      207                           .member _fvector,1344,20,8,32
      208                           .member _actual_baud_rate,1376,6,8,32
      209                           .member _c,1408,14,8,32
      210                           .member _r,1440,14,8,32
      211                           .member _n,1472,4,8,32
      212                           .member _n_exp,1504,4,8,32
      213                           .member _ai,1536,4,8,32
      214                           .member _start,1568,4,8,32
      215                           .member _i,1600,4,8,32
      216                           .member _i_main,1632,4,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE    5

      217                           .member _func,1664,14,8,32
      218                           .member _ERROR_COUNT,1696,14,8,32
      219                           .member _WDOG_COUNT,1728,14,8,32
      220                           .member _INV_CMD_COUNT,1760,14,8,32
      221                           .member _INV_PKT_COUNT,1792,14,8,32
      222                           .member _SUCCESS,1824,14,8,32
      223                           .member _NUM_RETRIES,1856,14,8,32
      224                           .member _FLAG1,1888,14,8,32
      225                           .member _FLAG2,1920,14,8,32
      226                           .member _FLAG3,1952,14,8,32
      227                           .member _LONG_ADDRESS,1984,14,8,32
      228                           .member _MASTER,2016,8,8,96,.fake4
      229                           .member _p,2112,20,8,32
      230                           .member _data,2144,14,8,32
      231                           .member _f,2176,22,8,32
      232                           .member _l,2208,30,8,32
      233                           .member _failed,2240,14,8,32
      234                           .eos
      235                           .sym    _PORTV,0,8,13,2272,.fake12
      236                           .stag   .fake13,11232
      237                           .member _PREFIX,0,8,8,1376,.fake6
      238                           .member _SUFFIX,1376,8,8,1376,.fake6
      239                           .member _NETWDOG,2752,8,8,1376,.fake6
      240                           .member _Slave_ID,4128,8,8,1376,.fake6
      241                           .member _Baud_Rate,5504,8,8,1376,.fake6
      242                           .member _Parity,6880,4,8,32
      243                           .member _n_bits,6912,4,8,32
      244                           .member _STP,6944,4,8,32
      245                           .member _N,6976,4,8,32
      246                           .member _N_retry,7008,4,8,32
      247                           .member _EOT_Delay,7040,8,8,1376,.fake6
      248                           .member _Retry_Time,8416,8,8,1376,.fake6
      249                           .member _Num_Retry,9792,8,8,1376,.fake6
      250                           .member _poll_time,11168,4,8,32
      251                           .member _timeout,11200,4,8,32
      252                           .eos
      253                           .sym    _PORTC,0,8,13,11232,.fake13
      254                           .stag   .fake14,672
      255                           .member _prev,0,20,8,32
      256                           .member _next,32,20,8,32
      257                           .member _rxvect,64,20,8,32
      258                           .member _txvect,96,20,8,32
      259                           .member _n,128,4,8,32
      260                           .member _slave,160,4,8,32
      261                           .member _func,192,4,8,32
      262                           .member _addr,224,4,8,32
      263                           .member _num,256,4,8,32
      264                           .member _v,288,54,8,320,,10
      265                           .member _flt_ptr,608,22,8,32
      266                           .member _int_ptr,640,20,8,32
      267                           .eos
      268                           .sym    _MPKT,0,8,13,672,.fake14
      269                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\ADC.H"
      270                           .stag   .fake15,9952
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE    6

      271                           .member _CURRENT,0,8,8,1376,.fake6
      272                           .member _CURRENT_PERCENT_OF_RANGE,1376,8,8,1376,.fake6
      273                           .member _LRV,2752,8,8,1376,.fake6
      274                           .member _URV,4128,8,8,1376,.fake6
      275                           .member _TRIM_MIN,5504,8,8,1376,.fake6
      276                           .member _TRIM_MAX,6880,8,8,1376,.fake6
      277                           .member _VALUE,8256,8,8,1376,.fake6
      278                           .member _TRIM_MIN_C,9632,6,8,32
      279                           .member _TRIM_MAX_C,9664,6,8,32
      280                           .member _v,9696,8,8,64,.fake8
      281                           .member _class,9760,8,8,64,.fake8
      282                           .member _unit,9824,8,8,64,.fake8
      283                           .member _present,9888,14,8,32
      284                           .member _val,9920,6,8,32
      285                           .eos
      286                           .sym    _LOOPDATA_I,0,8,13,9952,.fake15
      287                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\DAC.H"
      288                           .stag   .fake16,13120
      289                           .member _CURRENT,0,8,8,1376,.fake6
      290                           .member _CURRENT_PERCENT_OF_RANGE,1376,8,8,1376,.fake6
      291                           .member _LRV,2752,8,8,1376,.fake6
      292                           .member _URV,4128,8,8,1376,.fake6
      293                           .member _TRIM_MIN,5504,8,8,1376,.fake6
      294                           .member _TRIM_MAX,6880,8,8,1376,.fake6
      295                           .member _TRIM_MIN_C,8256,6,8,32
      296                           .member _TRIM_MAX_C,8288,6,8,32
      297                           .member _ALARM_SELECT,8320,4,8,32
      298                           .member _MINSPAN,8352,6,8,32
      299                           .member _v,8384,8,8,64,.fake8
      300                           .member _class,8448,8,8,64,.fake8
      301                           .member _unit,8512,8,8,64,.fake8
      302                           .member _MANUAL,8576,4,8,32
      303                           .member _MANUAL_PERCENT,8608,6,8,32
      304                           .member _REVERSE,8640,4,8,32
      305                           .member _PID_input,8672,6,8,32
      306                           .member _PID_setpoint,8704,6,8,32
      307                           .member _P,8736,8,8,1376,.fake6
      308                           .member _I,10112,8,8,1376,.fake6
      309                           .member _D,11488,8,8,1376,.fake6
      310                           .member _pid_lastcycle,12864,4,8,32
      311                           .member _pid_output,12896,6,8,32
      312                           .member _pid_propband,12928,6,8,32
      313                           .member _pid_error,12960,6,8,32
      314                           .member _pid_bias,12992,6,8,32
      315                           .member _present,13024,14,8,32
      316                           .member _PID_fail,13056,14,8,32
      317                           .member _PID_enable_failsafe,13088,14,8,32
      318                           .eos
      319                           .sym    _LOOPDATA_O,0,8,13,13120,.fake16
      320                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\EXECUTE.H"
      321                           .stag   .fake17,128
      322                           .member _prev,0,20,8,32
      323                           .member _next,32,20,8,32
      324                           .member _vect,64,20,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE    7

      325                           .member _priority,96,4,8,32
      326                           .eos
      327                           .sym    _EPKT,0,8,13,128,.fake17
      328                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\FLASH.H"
      329                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\LOG.H"
      330                           .stag   .fake18,384
      331                           .member _log_len,0,14,8,32
      332                           .member _log_n_sectors,32,14,8,32
      333                           .member _log_n_max_per_sector,64,14,8,32
      334                           .member _log_n,96,14,8,32
      335                           .member _log_current_sector,128,14,8,32
      336                           .member _log_absolute_index,160,14,8,32
      337                           .member _log_start,192,30,8,32
      338                           .member _log_sector_size,224,14,8,32
      339                           .member _log_record_size,256,14,8,32
      340                           .member _log_end,288,14,8,32
      341                           .member _LOG_ERASE,320,14,8,32
      342                           .member _erased_sector,352,14,8,32
      343                           .eos
      344                           .sym    _LOG,0,8,13,384,.fake18
      345                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\DEMO.H"
      346                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\SELFTEST.H"
      347                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\MENU.H"
      348                           .stag   .fake19,16064
      349                           .member _INIT,0,14,8,32
      350                           .member _FRESH,32,14,8,32
      351                           .member _MENU,64,14,8,32
      352                           .member _SELECT,96,14,8,32
      353                           .member _VALUE,128,14,8,32
      354                           .member _ENTER,160,14,8,32
      355                           .member _DIR,192,4,8,32
      356                           .member _DIR_CHANGE,224,14,8,32
      357                           .member _M,256,14,8,32
      358                           .member _S,288,14,8,32
      359                           .member _V,320,14,8,32
      360                           .member _E,352,14,8,32
      361                           .member _CURSOR_ENABLED,384,14,8,32
      362                           .member _CURSOR_ROW,416,4,8,32
      363                           .member _CURSOR_COL,448,4,8,32
      364                           .member _CNT,480,14,8,32
      365                           .member _MENU_CNT,512,14,8,32
      366                           .member _SELECT_CNT,544,14,8,32
      367                           .member _VALUE_CNT,576,14,8,32
      368                           .member _k,608,14,8,32
      369                           .member _MODE_LOCKDOWN,640,14,8,32
      370                           .member _MODE_WPROT,672,14,8,32
      371                           .member _MODE_DEFINE,704,14,8,32
      372                           .member _MODE_USER,736,14,8,32
      373                           .member _MODE_TECH,768,14,8,32
      374                           .member _MODE_NORMAL,800,14,8,32
      375                           .member _PAGE,832,14,8,32
      376                           .member _SUBPAGE,864,14,8,32
      377                           .member _MENU_TRAP,896,14,8,32
      378                           .member _DIP,928,62,8,128,,4
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE    8

      379                           .member _tmpf,1056,54,8,320,,10
      380                           .member _tmpi,1376,52,8,320,,10
      381                           .member _str,1696,242,8,12928,,4,101
      382                           .member _tmpv,14624,8,8,1376,.fake6
      383                           .member _ptmpv,16000,24,8,32,.fake6
      384                           .member _tbl,16032,20,8,32
      385                           .eos
      386                           .sym    _MENU_STRUCT,0,8,13,16064,.fake19
      387                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\FLOAT1.H"
      388                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\GLBLS.H"
      389                           .stag   .fake20,480
      390                           .member _i,0,4,8,32
      391                           .member _Watercut,32,6,8,32
      392                           .member _Temperature,64,6,8,32
      393                           .member _Salinity,96,6,8,32
      394                           .member _Frequency_Oil,128,6,8,32
      395                           .member _Frequency_Water,160,6,8,32
      396                           .member _RefPower_Oil,192,6,8,32
      397                           .member _RefPower_Water,224,6,8,32
      398                           .member _Dadj,256,6,8,32
      399                           .member _Time_HH,288,4,8,32
      400                           .member _Time_MM,320,4,8,32
      401                           .member _Time_MONTH,352,4,8,32
      402                           .member _Time_DAY,384,4,8,32
      403                           .member _Time_DAY_OF_WEEK,416,4,8,32
      404                           .member _Time_YEAR,448,4,8,32
      405                           .eos
      406                           .sym    _CAPDATA,0,8,13,480,.fake20
      407                           .stag   .fake21,640
      408                           .member _Watercut,0,54,8,64,,2
      409                           .member _Temperature,64,54,8,64,,2
      410                           .member _Salinity,128,54,8,64,,2
      411                           .member _Frequency_Oil,192,54,8,64,,2
      412                           .member _Frequency_Water,256,54,8,64,,2
      413                           .member _RefPower_Oil,320,54,8,64,,2
      414                           .member _RefPower_Water,384,54,8,64,,2
      415                           .member _Dadj,448,54,8,64,,2
      416                           .member _Time_MONTH_DAY_HH_MM,512,52,8,64,,2
      417                           .member _CLRSTAT_Time_YEAR,576,52,8,64,,2
      418                           .eos
      419                           .sym    _CAPRECORD,0,8,13,640,.fake21
      420                           .stag   .fake22,800
      421                           .member _Start_HH,0,4,8,32
      422                           .member _Start_MM,32,4,8,32
      423                           .member _Start_SS,64,4,8,32
      424                           .member _Start_MONTH,96,4,8,32
      425                           .member _Start_DAY,128,4,8,32
      426                           .member _Start_YEAR,160,4,8,32
      427                           .member _Stop_HH,192,4,8,32
      428                           .member _Stop_MM,224,4,8,32
      429                           .member _Stop_SS,256,4,8,32
      430                           .member _Stop_MONTH,288,4,8,32
      431                           .member _Stop_DAY,320,4,8,32
      432                           .member _Stop_YEAR,352,4,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE    9

      433                           .member _stream,384,6,8,32
      434                           .member _elapsed_s,416,6,8,32
      435                           .member _duration,448,6,8,32
      436                           .member _purge,480,6,8,32
      437                           .member _gross_gas,512,6,8,32
      438                           .member _gross_oil,544,6,8,32
      439                           .member _gross_water,576,6,8,32
      440                           .member _gross_total,608,6,8,32
      441                           .member _gas24,640,6,8,32
      442                           .member _oil24,672,6,8,32
      443                           .member _water24,704,6,8,32
      444                           .member _total24,736,6,8,32
      445                           .member _watercut,768,6,8,32
      446                           .eos
      447                           .sym    _CCMRECORD,0,8,13,800,.fake22
      448                           .stag   .fake23,224
      449                           .member _SNUM,0,4,8,32
      450                           .member _ADDR,32,4,8,32
      451                           .member _BNUM,64,4,8,32
      452                           .member _REV,96,4,8,32
      453                           .member _MONTH,128,4,8,32
      454                           .member _DAY,160,4,8,32
      455                           .member _YEAR,192,4,8,32
      456                           .eos
      457                           .sym    _BOARD,0,8,13,224,.fake23
      458                           .stag   .fake24,320
      459                           .member _MODE,0,4,8,32
      460                           .member _STATUS_MASK,32,4,8,32
      461                           .member _v,64,8,8,64,.fake8
      462                           .member _setpoint,128,6,8,32
      463                           .member _ON,160,8,8,96,.fake7
      464                           .member _class,256,4,8,32
      465                           .member _unit,288,4,8,32
      466                           .eos
      467                           .sym    _RELAYDATA,0,8,13,320,.fake24
      468                           .stag   .fake25,11968
      469                           .member _diag,0,6,8,32
      470                           .member _mfr,32,6,8,32
      471                           .member _u_mfr,64,4,8,32
      472                           .member _density,96,6,8,32
      473                           .member _u_density,128,4,8,32
      474                           .member _density_PDI_corrected,160,6,8,32
      475                           .member _density_corrected,192,6,8,32
      476                           .member _u_density_corrected,224,4,8,32
      477                           .member _T,256,6,8,32
      478                           .member _u_T,288,4,8,32
      479                           .member _vfr,320,6,8,32
      480                           .member _u_vfr,352,4,8,32
      481                           .member _visc,384,6,8,32
      482                           .member _u_visc,416,4,8,32
      483                           .member _press,448,6,8,32
      484                           .member _mass_total,480,6,8,32
      485                           .member _u_m,512,4,8,32
      486                           .member _volume_total,544,6,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   10

      487                           .member _u_v,576,4,8,32
      488                           .member _u_P,608,4,8,32
      489                           .member _P,640,6,8,32
      490                           .member _mass_inv,672,6,8,32
      491                           .member _volume_inv,704,6,8,32
      492                           .member _raw_tube_freq,736,6,8,32
      493                           .member _left_pickup_value,768,6,8,32
      494                           .member _right_pickup_value,800,6,8,32
      495                           .member _drive_gain,832,6,8,32
      496                           .member _damp_flow_rate,864,8,8,1376,.fake6
      497                           .member _damp_density,2240,8,8,1376,.fake6
      498                           .member _mfr_cutoff,3616,8,8,1376,.fake6
      499                           .member _vfr_cutoff,4992,8,8,1376,.fake6
      500                           .member _mcf,6368,8,8,1376,.fake6
      501                           .member _address,7744,8,8,1376,.fake6
      502                           .member _mass_unit,9120,8,8,1376,.fake6
      503                           .member _density_cutoff,10496,8,8,1376,.fake6
      504                           .member _Z,11872,8,8,96,.fake7
      505                           .eos
      506                           .sym    _CORIOLIS,0,8,13,11968,.fake25
      507                           .stag   .fake26,288
      508                           .member _p_delta,0,6,8,32
      509                           .member _p_static,32,6,8,32
      510                           .member _T,64,6,8,32
      511                           .member _diag0,96,6,8,32
      512                           .member _diag1,128,6,8,32
      513                           .member _diag2,160,6,8,32
      514                           .member _u_DP,192,4,8,32
      515                           .member _u_SP,224,4,8,32
      516                           .member _u_PT,256,4,8,32
      517                           .eos
      518                           .sym    _PRESSURE,0,8,13,288,.fake26
      519                           .stag   .fake27,192
      520                           .member _T,0,6,8,32
      521                           .member _etc0,32,6,8,32
      522                           .member _etc1,64,6,8,32
      523                           .member _etc2,96,6,8,32
      524                           .member _etc3,128,6,8,32
      525                           .member _etc4,160,6,8,32
      526                           .eos
      527                           .sym    _TMPT,0,8,13,192,.fake27
      528                           .stag   .fake28,37184
      529                           .member _watercut,0,8,8,1376,.fake6
      530                           .member _T,1376,8,8,1376,.fake6
      531                           .member _pressure,2752,8,8,1376,.fake6
      532                           .member _density,4128,8,8,1376,.fake6
      533                           .member _density_PDI_corrected,5504,6,8,32
      534                           .member _density_adj,5536,6,8,32
      535                           .member _density_oilST,5568,8,8,1376,.fake6
      536                           .member _density_oil,6944,8,8,1376,.fake6
      537                           .member _density_waterST,8320,8,8,1376,.fake6
      538                           .member _density_water,9696,8,8,1376,.fake6
      539                           .member _salinity,11072,8,8,1376,.fake6
      540                           .member _API_TABLE,12448,4,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   11

      541                           .member _a,12480,6,8,32
      542                           .member _Meter_Factor,12512,8,8,1376,.fake6
      543                           .member _Shrinkage,13888,8,8,1376,.fake6
      544                           .member _VCFo,15264,6,8,32
      545                           .member _VCFw,15296,6,8,32
      546                           .member _net_watercut,15328,6,8,32
      547                           .member _net_watercut_mass,15360,6,8,32
      548                           .member _Dadj,15392,6,8,32
      549                           .member _NET_FLOW_OIL,15424,8,8,1376,.fake6
      550                           .member _NET_FLOW_WATER,16800,8,8,1376,.fake6
      551                           .member _NET_FLOW_TOTAL,18176,8,8,1376,.fake6
      552                           .member _NET_OIL,19552,8,8,1376,.fake6
      553                           .member _NET_WATER,20928,8,8,1376,.fake6
      554                           .member _NET_TOTAL,22304,8,8,1376,.fake6
      555                           .member _GROSS_OIL,23680,8,8,1376,.fake6
      556                           .member _GROSS_WATER,25056,8,8,1376,.fake6
      557                           .member _GROSS_TOTAL,26432,8,8,1376,.fake6
      558                           .member _FLOW_OIL,27808,8,8,1376,.fake6
      559                           .member _FLOW_WATER,29184,8,8,1376,.fake6
      560                           .member _FLOW_TOTAL,30560,8,8,1376,.fake6
      561                           .member _PULSES_PER_ACCUM_UNIT,31936,14,8,32
      562                           .member _PULSE_TOTAL,31968,8,8,1376,.fake6
      563                           .member _PULSE_FLOW,33344,8,8,1376,.fake6
      564                           .member _PULSE_FREQ,34720,8,8,1376,.fake6
      565                           .member _PULSE_COUNTER,36096,14,8,32
      566                           .member _PULSE,36128,4,8,32
      567                           .member _CNT,36160,4,8,32
      568                           .member _PULSE_DELTA,36192,4,8,32
      569                           .member _PULSE_FACTOR,36224,6,8,32
      570                           .member _PULSE_STAT,36256,4,8,32
      571                           .member _enable_NET,36288,14,8,32
      572                           .member _enable_GROSS,36320,14,8,32
      573                           .member _enable_FLOW,36352,14,8,32
      574                           .member _enable_DENSITY,36384,14,8,32
      575                           .member _enable_PULSE,36416,14,8,32
      576                           .member _flow_class,36448,8,8,64,.fake8
      577                           .member _flow_unit,36512,8,8,64,.fake8
      578                           .member _accum_unit,36576,8,8,64,.fake8
      579                           .member _Z,36640,8,8,96,.fake7
      580                           .member _USE_PDI_TEMP,36736,14,8,32
      581                           .member _USE_PDI_SALINITY,36768,14,8,32
      582                           .member _USE_PDI_WATERCUT,36800,14,8,32
      583                           .member _CALC_WC_DENSITY,36832,14,8,32
      584                           .member _MAN_TEMP,36864,14,8,32
      585                           .member _MAN_SALINITY,36896,14,8,32
      586                           .member _MAN_WATERCUT,36928,14,8,32
      587                           .member _MAN_DENSITY,36960,14,8,32
      588                           .member _MAN_PRESSURE,36992,14,8,32
      589                           .member _MAN_FLOW,37024,14,8,32
      590                           .member _AUTHORIZATION_CODE1,37056,14,8,32
      591                           .member _AUTHORIZATION_CODE2,37088,14,8,32
      592                           .member _AUTHORIZATION_CODE3,37120,14,8,32
      593                           .member _AUTHORIZATION_CODE4,37152,14,8,32
      594                           .eos
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   12

      595                           .sym    _FLOW_COMP,0,8,13,37184,.fake28
      596                           .stag   .fake29,2144
      597                           .member _WATERCUT,0,6,8,32
      598                           .member _FLOW_RATE,32,6,8,32
      599                           .member _TEMPERATURE,64,6,8,32
      600                           .member _DENSITY,96,6,8,32
      601                           .member _VISCOSITY,128,6,8,32
      602                           .member _iWATERCUTz,160,4,8,32
      603                           .member _iWATERCUT,192,4,8,32
      604                           .member _iFLOW_RATE,224,4,8,32
      605                           .member _iTEMPERATURE,256,4,8,32
      606                           .member _iDENSITY,288,4,8,32
      607                           .member _iVISCOSITY,320,4,8,32
      608                           .member _maxWATERCUTz,352,6,8,32
      609                           .member _maxWATERCUT,384,6,8,32
      610                           .member _maxFLOW_RATE,416,6,8,32
      611                           .member _maxTEMPERATURE,448,6,8,32
      612                           .member _maxDENSITY,480,6,8,32
      613                           .member _maxVISCOSITY,512,6,8,32
      614                           .member _minWATERCUTz,544,6,8,32
      615                           .member _minWATERCUT,576,6,8,32
      616                           .member _minFLOW_RATE,608,6,8,32
      617                           .member _minTEMPERATURE,640,6,8,32
      618                           .member _minDENSITY,672,6,8,32
      619                           .member _minVISCOSITY,704,6,8,32
      620                           .member _ENABLED,736,14,8,32
      621                           .member _DESTINATION_ADDRESS,768,8,8,1376,.fake6
      622                           .eos
      623                           .sym    _ALYESKA_STRUCT,0,8,13,2144,.fake29
      624                           .stag   .fake30,3872
      625                           .member _ENABLED,0,8,8,96,.fake7
      626                           .member _flow_threshold,96,8,8,1376,.fake6
      627                           .member _span,1472,8,8,1376,.fake6
      628                           .member _S3,2848,6,8,32
      629                           .member _S2,2880,6,8,32
      630                           .member _S1,2912,6,8,32
      631                           .member _S0,2944,6,8,32
      632                           .member _Fmin,2976,6,8,32
      633                           .member _Fmax,3008,6,8,32
      634                           .member _Dmin,3040,6,8,32
      635                           .member _Dmax,3072,6,8,32
      636                           .member _new,3104,14,8,32
      637                           .member _CHANGED,3136,14,8,32
      638                           .member _PURGING,3168,14,8,32
      639                           .member _TEST_IN_PROGRESS,3200,14,8,32
      640                           .member _SP3A,3232,6,8,32
      641                           .member _SP2A,3264,6,8,32
      642                           .member _SP1A,3296,6,8,32
      643                           .member _SP0A,3328,6,8,32
      644                           .member _SPLOA,3360,6,8,32
      645                           .member _SPHIA,3392,6,8,32
      646                           .member _SP3B,3424,6,8,32
      647                           .member _SP2B,3456,6,8,32
      648                           .member _SP1B,3488,6,8,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   13

      649                           .member _SP0B,3520,6,8,32
      650                           .member _SPLOB,3552,6,8,32
      651                           .member _SPHIB,3584,6,8,32
      652                           .member _FBHI3,3616,6,8,32
      653                           .member _FBHI2,3648,6,8,32
      654                           .member _FBHI1,3680,6,8,32
      655                           .member _FBHI0,3712,6,8,32
      656                           .member _FBLO3,3744,6,8,32
      657                           .member _FBLO2,3776,6,8,32
      658                           .member _FBLO1,3808,6,8,32
      659                           .member _FBLO0,3840,6,8,32
      660                           .eos
      661                           .sym    _HS_STRUCT,0,8,13,3872,.fake30
      662                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\HART.H"
      663                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\MODBUSRTU.H"
      664                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\MISC.H"
      665                           .file   "D:\CCS\EEA_SA_V611beta\APP\SOURCE\INCLUDE\API.H"
      666                           .file   "i2c.c"
      667 00000000                  .sect    "internal_RAM"
      668                   
      669                           .global _I2C_TX_BYTE
      670                           .sym    _I2C_TX_BYTE,_I2C_TX_BYTE,46,2,0
      671                           .func   14
      672                   ;******************************************************************************
      673                   ;* FUNCTION NAME: _I2C_TX_BYTE                                                *
      674                   ;*                                                                            *
      675                   ;*   Architecture       : TMS320C33                                           *
      676                   ;*   Calling Convention : TI Standard Register Parameters                     *
      677                   ;*   Function Uses Regs : r0,ar0,ar2,st                                       *
      678                   ;*   Regs Saved         :                                                     *
      679                   ;*   Stack Frame        : Full (w/ debug)                                     *
      680                   ;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
      681                   ;******************************************************************************
      682 00000000          _I2C_TX_BYTE:
      683                   ;* ar2   assigned to _b
      684                           .sym    _b,10,12,17,32
      685                           .sym    _b,1,12,1,32
      686                           .sym    _i,2,4,1,32
      687                           .sym    _dat,3,12,1,32
      688                           .sym    _ack,4,14,1,32
      689                           .line   1
      690                   ;----------------------------------------------------------------------
      691                   ;  14 | BOOL I2C_TX_BYTE(unsigned char b)                                      
      692                   ;----------------------------------------------------------------------
      693 00000000 0f2b0000         push      fp
      694 00000001 500b0014         ldiu      sp,fp
      695 00000002 02740004         addi      4,sp
      696                           .line   2
      697                   ;----------------------------------------------------------------------
      698                   ;  16 | int i;                                                                 
      699                   ;  17 | unsigned char dat;                                                     
      700                   ;  18 | BOOL ack;                                                              
      701                   ;----------------------------------------------------------------------
      702 00000003 154a0301         sti       ar2,*+fp(1)           ; |15| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   14

      703                           .line   7
      704                   ;----------------------------------------------------------------------
      705                   ;  20 | dat = b;                                                               
      706                   ;----------------------------------------------------------------------
      707 00000004 5000000a         ldiu      ar2,r0
      708 00000005 15400303         sti       r0,*+fp(3)            ; |20| 
      709                           .line   9
      710                   ;----------------------------------------------------------------------
      711                   ;  22 | for (i=0;i<8;i++)                                                      
      712                   ;----------------------------------------------------------------------
      713 00000006 50600000         ldiu      0,r0                  ; |22| 
      714 00000007 15400302         sti       r0,*+fp(2)            ; |22| 
      715 00000008 04e00008         cmpi      8,r0                  ; |22| 
      716 00000009 6a0a0026         bge       L6                    ; |22| 
      717                   ;*      Branch Occurs to L6             ; |22| 
      718 0000000a          L2:        
      719                           .line   11
      720                   ;----------------------------------------------------------------------
      721                   ;  24 | if (dat&0x80)                                                          
      722                   ;----------------------------------------------------------------------
      723 0000000a 50600080         ldiu      128,r0                ; |24| 
      724 0000000b 1a400303         tstb      *+fp(3),r0            ; |24| 
      725 0000000c 6a050006         beq       L4                    ; |24| 
      726                   ;*      Branch Occurs to L4             ; |24| 
      727                           .line   13
      728                   ;----------------------------------------------------------------------
      729                   ;  26 | SDA_TX_HI;                                                             
      730                   ;  28 | else                                                                   
      731                   ;----------------------------------------------------------------------
      732 0000000d 08700000-        ldp       @CL1,DP
      733 0000000e 502801cc-        ldiu      @CL1,ar0              ; |26| 
      734 0000000f 50600001         ldiu      1,r0                  ; |26| 
      735 00000010 25a0c000         or3       r0,*ar0,r0            ; |26| 
      736 00000011 1540c000         sti       r0,*ar0               ; |26| 
      737 00000012 6a000005         bu        L5                    ; |13| 
      738                   ;*      Branch Occurs to L5             ; |13| 
      739 00000013          L4:        
      740                           .line   17
      741                   ;----------------------------------------------------------------------
      742                   ;  30 | SDA_TX_LO;                                                             
      743                   ;----------------------------------------------------------------------
      744 00000013 08700000-        ldp       @CL1,DP
      745 00000014 502801cc-        ldiu      @CL1,ar0              ; |30| 
      746 00000015 506000fe         ldiu      254,r0                ; |30| 
      747 00000016 21a0c000         and3      r0,*ar0,r0            ; |30| 
      748 00000017 1540c000         sti       r0,*ar0               ; |30| 
      749 00000018          L5:        
      750                           .line   20
      751                   ;----------------------------------------------------------------------
      752                   ;  33 | I2C_PULSE;                                                             
      753                   ;----------------------------------------------------------------------
      754 00000018 08700000-        ldp       @CL1,DP
      755 00000019 502801cc-        ldiu      @CL1,ar0              ; |33| 
      756 0000001a 50600004         ldiu      4,r0                  ; |33| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   15

      757 0000001b 25a0c000         or3       r0,*ar0,r0            ; |33| 
      758 0000001c 1540c000         sti       r0,*ar0               ; |33| 
      759 0000001d 0f290000                 PUSH    AR1                     
      760 0000001e 08690019                 LDI             25,AR1          
      761 0000001f 6e46ffff                 .word   6E46FFFFh       
      762 00000020 0e290000                 POP             AR1                     
      763 00000021 506000fb         ldiu      251,r0                ; |33| 
      764 00000022 21a0c000         and3      r0,*ar0,r0            ; |33| 
      765 00000023 1540c000         sti       r0,*ar0               ; |33| 
      766 00000024 0f290000                 PUSH    AR1                     
      767 00000025 08690019                 LDI             25,AR1          
      768 00000026 6e46ffff                 .word   6E46FFFFh       
      769 00000027 0e290000                 POP             AR1                     
      770                           .line   22
      771                   ;----------------------------------------------------------------------
      772                   ;  35 | dat = dat<<1;                                                          
      773                   ;----------------------------------------------------------------------
      774 00000028 50400303         ldiu      *+fp(3),r0            ; |35| 
      775 00000029 03e00001         ash       1,r0                  ; |35| 
      776 0000002a 15400303         sti       r0,*+fp(3)            ; |35| 
      777                           .line   9
      778 0000002b 50600001         ldiu      1,r0                  ; |22| 
      779 0000002c 02400302         addi      *+fp(2),r0            ; |22| 
      780 0000002d 15400302         sti       r0,*+fp(2)            ; |22| 
      781 0000002e 04e00008         cmpi      8,r0                  ; |22| 
      782 0000002f 6a07ffda         blt       L2                    ; |22| 
      783                   ;*      Branch Occurs to L2             ; |22| 
      784 00000030          L6:        
      785                           .line   25
      786                   ;----------------------------------------------------------------------
      787                   ;  38 | DISABLE_SDA_TX;                                                        
      788                   ;----------------------------------------------------------------------
      789 00000030 08700000-        ldp       @CL1,DP
      790 00000031 502801cc-        ldiu      @CL1,ar0              ; |38| 
      791 00000032 506000fd         ldiu      253,r0                ; |38| 
      792 00000033 21a0c000         and3      r0,*ar0,r0            ; |38| 
      793 00000034 1540c000         sti       r0,*ar0               ; |38| 
      794                           .line   26
      795                   ;----------------------------------------------------------------------
      796                   ;  39 | SDA_TX_HI;                                                             
      797                   ;----------------------------------------------------------------------
      798 00000035 50600001         ldiu      1,r0                  ; |39| 
      799 00000036 25a0c000         or3       r0,*ar0,r0            ; |39| 
      800 00000037 1540c000         sti       r0,*ar0               ; |39| 
      801                           .line   27
      802                   ;----------------------------------------------------------------------
      803                   ;  40 | I2C_WAITF;                                                             
      804                   ;----------------------------------------------------------------------
      805 00000038 0f290000                 PUSH    AR1                     
      806 00000039 08690019                 LDI             25,AR1          
      807 0000003a 6e46ffff                 .word   6E46FFFFh       
      808 0000003b 0e290000                 POP             AR1                     
      809                           .line   28
      810                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   16

      811                   ;  41 | SCL_HI;                                                                
      812                   ;----------------------------------------------------------------------
      813 0000003c 50600004         ldiu      4,r0                  ; |41| 
      814 0000003d 25a0c000         or3       r0,*ar0,r0            ; |41| 
      815 0000003e 1540c000         sti       r0,*ar0               ; |41| 
      816                           .line   29
      817                   ;----------------------------------------------------------------------
      818                   ;  42 | I2C_WAITF;                                                             
      819                   ;----------------------------------------------------------------------
      820 0000003f 0f290000                 PUSH    AR1                     
      821 00000040 08690019                 LDI             25,AR1          
      822 00000041 6e46ffff                 .word   6E46FFFFh       
      823 00000042 0e290000                 POP             AR1                     
      824                           .line   30
      825                   ;----------------------------------------------------------------------
      826                   ;  43 | if (SDA_RX) ack = FALSE;                                               
      827                   ;----------------------------------------------------------------------
      828 00000043 50600010         ldiu      16,r0                 ; |43| 
      829 00000044 27c000c0         tstb3     *ar0,r0               ; |43| 
      830 00000045 6a050003         beq       L8                    ; |43| 
      831                   ;*      Branch Occurs to L8             ; |43| 
      832 00000046 50600000         ldiu      0,r0                  ; |43| 
      833 00000047 15400304         sti       r0,*+fp(4)            ; |43| 
      834 00000048 6a000002         bu        L9                    ; |13| 
      835                   ;*      Branch Occurs to L9             ; |13| 
      836 00000049          L8:        
      837                           .line   31
      838                   ;----------------------------------------------------------------------
      839                   ;  44 | else ack = TRUE;                                                       
      840                   ;----------------------------------------------------------------------
      841 00000049 50600001         ldiu      1,r0                  ; |44| 
      842 0000004a 15400304         sti       r0,*+fp(4)            ; |44| 
      843 0000004b          L9:        
      844                           .line   32
      845                   ;----------------------------------------------------------------------
      846                   ;  45 | SCL_LO;                                                                
      847                   ;----------------------------------------------------------------------
      848 0000004b 08700000-        ldp       @CL1,DP
      849 0000004c 502801cc-        ldiu      @CL1,ar0              ; |45| 
      850 0000004d 506000fb         ldiu      251,r0                ; |45| 
      851 0000004e 21a0c000         and3      r0,*ar0,r0            ; |45| 
      852 0000004f 1540c000         sti       r0,*ar0               ; |45| 
      853                           .line   33
      854                   ;----------------------------------------------------------------------
      855                   ;  46 | I2C_WAITF;                                                             
      856                   ;----------------------------------------------------------------------
      857 00000050 0f290000                 PUSH    AR1                     
      858 00000051 08690019                 LDI             25,AR1          
      859 00000052 6e46ffff                 .word   6E46FFFFh       
      860 00000053 0e290000                 POP             AR1                     
      861                           .line   34
      862                   ;----------------------------------------------------------------------
      863                   ;  47 | ENABLE_SDA_TX;                                                         
      864                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   17

      865 00000054 50600002         ldiu      2,r0                  ; |47| 
      866 00000055 25a0c000         or3       r0,*ar0,r0            ; |47| 
      867 00000056 1540c000         sti       r0,*ar0               ; |47| 
      868                           .line   36
      869                   ;----------------------------------------------------------------------
      870                   ;  49 | return ack;                                                            
      871                   ;----------------------------------------------------------------------
      872 00000057 50400304         ldiu      *+fp(4),r0            ; |49| 
      873                           .line   37
      874                                                           ; Begin Epilog Code
      875 00000058 50410b01         ldiu      *-fp(1),r1            ; |50| 
      876 00000059 504bc300         ldiu      *fp,fp                ; |50| 
      877                                                           ; Unallocate the Frame
      878 0000005a 18740006         subi      6,sp                  ; |50| 
      879 0000005b 68000001         bu        r1
      880                   ;*      Branch Occurs to r1 
      881                           .endfunc        50,000000000h,4
      882                   
      883                   
      884 0000005c                  .sect    "internal_RAM"
      885                   
      886                           .global _I2C_RX_BYTE
      887                           .sym    _I2C_RX_BYTE,_I2C_RX_BYTE,32,2,0
      888                           .func   52
      889                   ;******************************************************************************
      890                   ;* FUNCTION NAME: _I2C_RX_BYTE                                                *
      891                   ;*                                                                            *
      892                   ;*   Architecture       : TMS320C33                                           *
      893                   ;*   Calling Convention : TI Standard Register Parameters                     *
      894                   ;*   Function Uses Regs : r0,r2,ar0,ar2,st                                    *
      895                   ;*   Regs Saved         :                                                     *
      896                   ;*   Stack Frame        : Full (w/ debug)                                     *
      897                   ;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
      898                   ;******************************************************************************
      899 0000005c          _I2C_RX_BYTE:
      900                   ;* ar2   assigned to _b
      901                           .sym    _b,10,28,17,32
      902                   ;* r2    assigned to _ack
      903                           .sym    _ack,2,14,17,32
      904                           .sym    _b,1,28,1,32
      905                           .sym    _ack,2,14,1,32
      906                           .sym    _i,3,4,1,32
      907                           .sym    _dat,4,12,1,32
      908                           .line   1
      909                   ;----------------------------------------------------------------------
      910                   ;  52 | void I2C_RX_BYTE(unsigned char* b, BOOL ack)                           
      911                   ;----------------------------------------------------------------------
      912 0000005c 0f2b0000         push      fp
      913 0000005d 500b0014         ldiu      sp,fp
      914 0000005e 02740004         addi      4,sp
      915                           .line   2
      916                   ;----------------------------------------------------------------------
      917                   ;  54 | int i;                                                                 
      918                   ;  55 | unsigned char dat;                                                     
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   18

      919                   ;----------------------------------------------------------------------
      920 0000005f 15420302         sti       r2,*+fp(2)            ; |53| 
      921 00000060 154a0301         sti       ar2,*+fp(1)           ; |53| 
      922                           .line   6
      923                   ;----------------------------------------------------------------------
      924                   ;  57 | dat = 0;                                                               
      925                   ;----------------------------------------------------------------------
      926 00000061 50600000         ldiu      0,r0                  ; |57| 
      927 00000062 15400304         sti       r0,*+fp(4)            ; |57| 
      928                           .line   8
      929                   ;----------------------------------------------------------------------
      930                   ;  59 | DISABLE_SDA_TX;                                                        
      931                   ;----------------------------------------------------------------------
      932 00000063 08700000-        ldp       @CL1,DP
      933 00000064 502801cc-        ldiu      @CL1,ar0              ; |59| 
      934 00000065 506000fd         ldiu      253,r0                ; |59| 
      935 00000066 21a0c000         and3      r0,*ar0,r0            ; |59| 
      936 00000067 1540c000         sti       r0,*ar0               ; |59| 
      937                           .line   9
      938                   ;----------------------------------------------------------------------
      939                   ;  60 | for (i=0;i<8;i++)                                                      
      940                   ;----------------------------------------------------------------------
      941 00000068 50600000         ldiu      0,r0                  ; |60| 
      942 00000069 15400303         sti       r0,*+fp(3)            ; |60| 
      943 0000006a 04e00008         cmpi      8,r0                  ; |60| 
      944 0000006b 6a0a0020         bge       L16                   ; |60| 
      945                   ;*      Branch Occurs to L16            ; |60| 
      946 0000006c          L13:        
      947                           .line   11
      948                   ;----------------------------------------------------------------------
      949                   ;  62 | SCL_HI;                                                                
      950                   ;----------------------------------------------------------------------
      951 0000006c 08700000-        ldp       @CL1,DP
      952 0000006d 502801cc-        ldiu      @CL1,ar0              ; |62| 
      953 0000006e 50600004         ldiu      4,r0                  ; |62| 
      954 0000006f 25a0c000         or3       r0,*ar0,r0            ; |62| 
      955 00000070 1540c000         sti       r0,*ar0               ; |62| 
      956                           .line   12
      957                   ;----------------------------------------------------------------------
      958                   ;  63 | I2C_WAITF;                                                             
      959                   ;----------------------------------------------------------------------
      960 00000071 0f290000                 PUSH    AR1                     
      961 00000072 08690019                 LDI             25,AR1          
      962 00000073 6e46ffff                 .word   6E46FFFFh       
      963 00000074 0e290000                 POP             AR1                     
      964                           .line   13
      965                   ;----------------------------------------------------------------------
      966                   ;  64 | if (SDA_RX)     dat |= 0x01;                                           
      967                   ;----------------------------------------------------------------------
      968 00000075 50600010         ldiu      16,r0                 ; |64| 
      969 00000076 27c000c0         tstb3     *ar0,r0               ; |64| 
      970 00000077 6a050003         beq       L15                   ; |64| 
      971                   ;*      Branch Occurs to L15            ; |64| 
      972 00000078 50600001         ldiu      1,r0                  ; |64| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   19

      973 00000079 10400304         or        *+fp(4),r0            ; |64| 
      974 0000007a 15400304         sti       r0,*+fp(4)            ; |64| 
      975 0000007b          L15:        
      976                           .line   14
      977                   ;----------------------------------------------------------------------
      978                   ;  65 | SCL_LO;                                                                
      979                   ;----------------------------------------------------------------------
      980 0000007b 08700000-        ldp       @CL1,DP
      981 0000007c 502801cc-        ldiu      @CL1,ar0              ; |65| 
      982 0000007d 506000fb         ldiu      251,r0                ; |65| 
      983 0000007e 21a0c000         and3      r0,*ar0,r0            ; |65| 
      984 0000007f 1540c000         sti       r0,*ar0               ; |65| 
      985                           .line   15
      986                   ;----------------------------------------------------------------------
      987                   ;  66 | I2C_WAITF;                                                             
      988                   ;----------------------------------------------------------------------
      989 00000080 0f290000                 PUSH    AR1                     
      990 00000081 08690019                 LDI             25,AR1          
      991 00000082 6e46ffff                 .word   6E46FFFFh       
      992 00000083 0e290000                 POP             AR1                     
      993                           .line   16
      994                   ;----------------------------------------------------------------------
      995                   ;  67 | dat = dat<<1;                                                          
      996                   ;----------------------------------------------------------------------
      997 00000084 50400304         ldiu      *+fp(4),r0            ; |67| 
      998 00000085 03e00001         ash       1,r0                  ; |67| 
      999 00000086 15400304         sti       r0,*+fp(4)            ; |67| 
     1000                           .line   9
     1001 00000087 50600001         ldiu      1,r0                  ; |60| 
     1002 00000088 02400303         addi      *+fp(3),r0            ; |60| 
     1003 00000089 15400303         sti       r0,*+fp(3)            ; |60| 
     1004 0000008a 04e00008         cmpi      8,r0                  ; |60| 
     1005 0000008b 6a07ffe0         blt       L13                   ; |60| 
     1006                   ;*      Branch Occurs to L13            ; |60| 
     1007 0000008c          L16:        
     1008                           .line   19
     1009                   ;----------------------------------------------------------------------
     1010                   ;  70 | dat = dat>>1;                                                          
     1011                   ;----------------------------------------------------------------------
     1012 0000008c 50400304         ldiu      *+fp(4),r0            ; |70| 
     1013 0000008d 09e0ffff         lsh       -1,r0                 ; |70| 
     1014 0000008e 15400304         sti       r0,*+fp(4)            ; |70| 
     1015                           .line   21
     1016                   ;----------------------------------------------------------------------
     1017                   ;  72 | ENABLE_SDA_TX;                                                         
     1018                   ;----------------------------------------------------------------------
     1019 0000008f 08700000-        ldp       @CL1,DP
     1020 00000090 502801cc-        ldiu      @CL1,ar0              ; |72| 
     1021 00000091 50600002         ldiu      2,r0                  ; |72| 
     1022 00000092 25a0c000         or3       r0,*ar0,r0            ; |72| 
     1023 00000093 1540c000         sti       r0,*ar0               ; |72| 
     1024                           .line   22
     1025                   ;----------------------------------------------------------------------
     1026                   ;  73 | if (ack)                                                               
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   20

     1027                   ;----------------------------------------------------------------------
     1028 00000094 50400302         ldiu      *+fp(2),r0            ; |73| 
     1029 00000095 04e00000         cmpi      0,r0                  ; |73| 
     1030 00000096 6a050006         beq       L18                   ; |73| 
     1031                   ;*      Branch Occurs to L18            ; |73| 
     1032                           .line   24
     1033                   ;----------------------------------------------------------------------
     1034                   ;  75 | SDA_TX_LO;                                                             
     1035                   ;  77 | else                                                                   
     1036                   ;----------------------------------------------------------------------
     1037 00000097 08700000-        ldp       @CL1,DP
     1038 00000098 502801cc-        ldiu      @CL1,ar0              ; |75| 
     1039 00000099 506000fe         ldiu      254,r0                ; |75| 
     1040 0000009a 21a0c000         and3      r0,*ar0,r0            ; |75| 
     1041 0000009b 1540c000         sti       r0,*ar0               ; |75| 
     1042 0000009c 6a000005         bu        L19                   ; |51| 
     1043                   ;*      Branch Occurs to L19            ; |51| 
     1044 0000009d          L18:        
     1045                           .line   28
     1046                   ;----------------------------------------------------------------------
     1047                   ;  79 | SDA_TX_HI;                                                             
     1048                   ;----------------------------------------------------------------------
     1049 0000009d 08700000-        ldp       @CL1,DP
     1050 0000009e 502801cc-        ldiu      @CL1,ar0              ; |79| 
     1051 0000009f 50600001         ldiu      1,r0                  ; |79| 
     1052 000000a0 25a0c000         or3       r0,*ar0,r0            ; |79| 
     1053 000000a1 1540c000         sti       r0,*ar0               ; |79| 
     1054 000000a2          L19:        
     1055                           .line   30
     1056                   ;----------------------------------------------------------------------
     1057                   ;  81 | I2C_PULSE;                                                             
     1058                   ;----------------------------------------------------------------------
     1059 000000a2 08700000-        ldp       @CL1,DP
     1060 000000a3 502801cc-        ldiu      @CL1,ar0              ; |81| 
     1061 000000a4 50600004         ldiu      4,r0                  ; |81| 
     1062 000000a5 25a0c000         or3       r0,*ar0,r0            ; |81| 
     1063 000000a6 1540c000         sti       r0,*ar0               ; |81| 
     1064 000000a7 0f290000                 PUSH    AR1                     
     1065 000000a8 08690019                 LDI             25,AR1          
     1066 000000a9 6e46ffff                 .word   6E46FFFFh       
     1067 000000aa 0e290000                 POP             AR1                     
     1068 000000ab 506000fb         ldiu      251,r0                ; |81| 
     1069 000000ac 21a0c000         and3      r0,*ar0,r0            ; |81| 
     1070 000000ad 1540c000         sti       r0,*ar0               ; |81| 
     1071 000000ae 0f290000                 PUSH    AR1                     
     1072 000000af 08690019                 LDI             25,AR1          
     1073 000000b0 6e46ffff                 .word   6E46FFFFh       
     1074 000000b1 0e290000                 POP             AR1                     
     1075                           .line   32
     1076                   ;----------------------------------------------------------------------
     1077                   ;  83 | b[0] = dat;                                                            
     1078                   ;----------------------------------------------------------------------
     1079 000000b2 50480301         ldiu      *+fp(1),ar0           ; |83| 
     1080 000000b3 50400304         ldiu      *+fp(4),r0            ; |83| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   21

     1081 000000b4 1540c000         sti       r0,*ar0               ; |83| 
     1082                           .line   33
     1083                                                           ; Begin Epilog Code
     1084 000000b5 50410b01         ldiu      *-fp(1),r1
     1085 000000b6 504bc300         ldiu      *fp,fp
     1086                                                           ; Unallocate the Frame
     1087 000000b7 18740006         subi      6,sp
     1088 000000b8 68000001         bu        r1
     1089                   ;*      Branch Occurs to r1 
     1090                           .endfunc        84,000000000h,4
     1091                   
     1092                   
     1093 000000b9                  .sect    "internal_RAM"
     1094                   
     1095                           .global _Write_I2C
     1096                           .sym    _Write_I2C,_Write_I2C,46,2,0
     1097                           .func   86
     1098                   ;******************************************************************************
     1099                   ;* FUNCTION NAME: _Write_I2C                                                  *
     1100                   ;*                                                                            *
     1101                   ;*   Architecture       : TMS320C33                                           *
     1102                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1103                   ;*   Function Uses Regs : r0,r2,r3,ar0,ar2,ir0,st                             *
     1104                   ;*   Regs Saved         :                                                     *
     1105                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1106                   ;*   Total Frame Size   : 2 Call + 0 Parm + 7 Auto + 0 SOE = 9 words          *
     1107                   ;******************************************************************************
     1108 000000b9          _Write_I2C:
     1109                   ;* ar2   assigned to _addr
     1110                           .sym    _addr,10,4,17,32
     1111                   ;* r2    assigned to _n
     1112                           .sym    _n,2,4,17,32
     1113                   ;* r3    assigned to _p
     1114                           .sym    _p,3,28,17,32
     1115                           .sym    _addr,1,4,1,32
     1116                           .sym    _n,2,4,1,32
     1117                           .sym    _p,3,28,1,32
     1118                           .sym    _i,4,4,1,32
     1119                           .sym    _dat,5,12,1,32
     1120                           .sym    _ack,6,14,1,32
     1121                           .sym    _r,7,14,1,32
     1122                           .line   1
     1123                   ;----------------------------------------------------------------------
     1124                   ;  86 | BOOL Write_I2C(int addr, int n, unsigned char* p)                      
     1125                   ;----------------------------------------------------------------------
     1126 000000b9 0f2b0000         push      fp
     1127 000000ba 500b0014         ldiu      sp,fp
     1128 000000bb 02740007         addi      7,sp
     1129                           .line   2
     1130                   ;----------------------------------------------------------------------
     1131                   ;  88 | int i;                                                                 
     1132                   ;  89 | unsigned char dat;                                                     
     1133                   ;  90 | BOOL ack;                                                              
     1134                   ;  91 | BOOL r;                                                                
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   22

     1135                   ;----------------------------------------------------------------------
     1136 000000bc 15430303         sti       r3,*+fp(3)            ; |87| 
     1137 000000bd 15420302         sti       r2,*+fp(2)            ; |87| 
     1138 000000be 154a0301         sti       ar2,*+fp(1)           ; |87| 
     1139                           .line   8
     1140                   ;----------------------------------------------------------------------
     1141                   ;  93 | r = TRUE;                                                              
     1142                   ;----------------------------------------------------------------------
     1143 000000bf 50600001         ldiu      1,r0                  ; |93| 
     1144 000000c0 15400307         sti       r0,*+fp(7)            ; |93| 
     1145                           .line   10
     1146                   ;----------------------------------------------------------------------
     1147                   ;  95 | I2C_START;                                                             
     1148                   ;  97 | while(TRUE)                                                            
     1149                   ;----------------------------------------------------------------------
     1150 000000c1 08700000-        ldp       @CL1,DP
     1151 000000c2 502801cc-        ldiu      @CL1,ar0              ; |95| 
     1152 000000c3 50600004         ldiu      4,r0                  ; |95| 
     1153 000000c4 25a0c000         or3       r0,*ar0,r0            ; |95| 
     1154 000000c5 1540c000         sti       r0,*ar0               ; |95| 
     1155 000000c6 50600001         ldiu      1,r0                  ; |95| 
     1156 000000c7 25a0c000         or3       r0,*ar0,r0            ; |95| 
     1157 000000c8 1540c000         sti       r0,*ar0               ; |95| 
     1158 000000c9 50600008         ldiu      8,r0                  ; |95| 
     1159 000000ca 25a0c000         or3       r0,*ar0,r0            ; |95| 
     1160 000000cb 1540c000         sti       r0,*ar0               ; |95| 
     1161 000000cc 50600002         ldiu      2,r0                  ; |95| 
     1162 000000cd 25a0c000         or3       r0,*ar0,r0            ; |95| 
     1163 000000ce 1540c000         sti       r0,*ar0               ; |95| 
     1164 000000cf 0f290000                 PUSH    AR1                     
     1165 000000d0 08690032                 LDI             50,AR1          
     1166 000000d1 6e46ffff                 .word   6E46FFFFh       
     1167 000000d2 0e290000                 POP             AR1                     
     1168 000000d3 506000fe         ldiu      254,r0                ; |95| 
     1169 000000d4 21a0c000         and3      r0,*ar0,r0            ; |95| 
     1170 000000d5 1540c000         sti       r0,*ar0               ; |95| 
     1171 000000d6 0f290000                 PUSH    AR1                     
     1172 000000d7 08690032                 LDI             50,AR1          
     1173 000000d8 6e46ffff                 .word   6E46FFFFh       
     1174 000000d9 0e290000                 POP             AR1                     
     1175 000000da 506000fb         ldiu      251,r0                ; |95| 
     1176 000000db 21a0c000         and3      r0,*ar0,r0            ; |95| 
     1177 000000dc 1540c000         sti       r0,*ar0               ; |95| 
     1178 000000dd 0f290000                 PUSH    AR1                     
     1179 000000de 08690032                 LDI             50,AR1          
     1180 000000df 6e46ffff                 .word   6E46FFFFh       
     1181 000000e0 0e290000                 POP             AR1                     
     1182                           .line   14
     1183                   ;----------------------------------------------------------------------
     1184                   ;  99 | dat = addr;                                             /* address with
     1185                   ;     | out read bit set */                                                    
     1186                   ;----------------------------------------------------------------------
     1187 000000e1 50400301         ldiu      *+fp(1),r0            ; |99| 
     1188 000000e2 15400305         sti       r0,*+fp(5)            ; |99| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   23

     1189                           .line   15
     1190                   ;----------------------------------------------------------------------
     1191                   ; 100 | ack = I2C_TX_BYTE(dat);                                                
     1192                   ;----------------------------------------------------------------------
     1193 000000e3 08700000-        ldp       @CL2,DP
     1194 000000e4 500a0000         ldiu      r0,ar2
     1195 000000e5 502001cd-        ldiu      @CL2,r0               ; |100| 
     1196 000000e6 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |100| 
     1197                                                           ; |100| Far Call Occurs
     1198 000000e7 15400306         sti       r0,*+fp(6)            ; |100| 
     1199                           .line   16
     1200                   ;----------------------------------------------------------------------
     1201                   ; 101 | if (!ack)                                                              
     1202                   ;----------------------------------------------------------------------
     1203 000000e8 04e00000         cmpi      0,r0                  ; |101| 
     1204 000000e9 6a060003         bne       L24                   ; |101| 
     1205                   ;*      Branch Occurs to L24            ; |101| 
     1206                           .line   18
     1207                   ;----------------------------------------------------------------------
     1208                   ; 103 | r = FALSE;                                                             
     1209                   ;----------------------------------------------------------------------
     1210 000000ea 50600000         ldiu      0,r0                  ; |103| 
     1211 000000eb 15400307         sti       r0,*+fp(7)            ; |103| 
     1212                           .line   19
     1213                   ;----------------------------------------------------------------------
     1214                   ; 104 | break;                                                                 
     1215                   ;----------------------------------------------------------------------
     1216 000000ec 6a000020         bu        L32                   ; |104| 
     1217                   ;*      Branch Occurs to L32            ; |104| 
     1218 000000ed          L24:        
     1219                           .line   22
     1220                   ;----------------------------------------------------------------------
     1221                   ; 107 | ack = I2C_TX_BYTE(n);                   /* the number of bytes to write
     1222                   ;     |  */                                                                    
     1223                   ;----------------------------------------------------------------------
     1224 000000ed 08700000-        ldp       @CL2,DP
     1225 000000ee 504a0302         ldiu      *+fp(2),ar2           ; |107| 
     1226 000000ef 502001cd-        ldiu      @CL2,r0               ; |107| 
     1227 000000f0 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |107| 
     1228                                                           ; |107| Far Call Occurs
     1229 000000f1 15400306         sti       r0,*+fp(6)            ; |107| 
     1230                           .line   23
     1231                   ;----------------------------------------------------------------------
     1232                   ; 108 | if (!ack)                                                              
     1233                   ;----------------------------------------------------------------------
     1234 000000f2 04e00000         cmpi      0,r0                  ; |108| 
     1235 000000f3 6a060003         bne       L26                   ; |108| 
     1236                   ;*      Branch Occurs to L26            ; |108| 
     1237                           .line   25
     1238                   ;----------------------------------------------------------------------
     1239                   ; 110 | r = FALSE;                                                             
     1240                   ;----------------------------------------------------------------------
     1241 000000f4 50600000         ldiu      0,r0                  ; |110| 
     1242 000000f5 15400307         sti       r0,*+fp(7)            ; |110| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   24

     1243                           .line   26
     1244                   ;----------------------------------------------------------------------
     1245                   ; 111 | break;                                                                 
     1246                   ;----------------------------------------------------------------------
     1247 000000f6 6a000016         bu        L32                   ; |111| 
     1248                   ;*      Branch Occurs to L32            ; |111| 
     1249 000000f7          L26:        
     1250                           .line   29
     1251                   ;----------------------------------------------------------------------
     1252                   ; 114 | for (i=0;i<n;i++)                                                      
     1253                   ;----------------------------------------------------------------------
     1254 000000f7 50600000         ldiu      0,r0                  ; |114| 
     1255 000000f8 15400304         sti       r0,*+fp(4)            ; |114| 
     1256 000000f9 04c00302         cmpi      *+fp(2),r0            ; |114| 
     1257 000000fa 6a0a0012         bge       L32                   ; |114| 
     1258                   ;*      Branch Occurs to L32            ; |114| 
     1259 000000fb          L27:        
     1260                           .line   31
     1261                   ;----------------------------------------------------------------------
     1262                   ; 116 | ack = I2C_TX_BYTE(p[i]);        /* write the bytes */                  
     1263                   ;----------------------------------------------------------------------
     1264 000000fb 08700000-        ldp       @CL2,DP
     1265 000000fc 50510303         ldiu      *+fp(3),ir0           ; |116| 
     1266 000000fd 50480304         ldiu      *+fp(4),ar0           ; |116| 
     1267 000000fe 502001cd-        ldiu      @CL2,r0               ; |116| 
     1268 000000ff 504a4000         ldiu      *+ar0(ir0),ar2        ; |116| 
     1269 00000100 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |116| 
     1270                                                           ; |116| Far Call Occurs
     1271 00000101 15400306         sti       r0,*+fp(6)            ; |116| 
     1272                           .line   32
     1273                   ;----------------------------------------------------------------------
     1274                   ; 117 | if (!ack)                                                              
     1275                   ;----------------------------------------------------------------------
     1276 00000102 04e00000         cmpi      0,r0                  ; |117| 
     1277 00000103 6a060003         bne       L29                   ; |117| 
     1278                   ;*      Branch Occurs to L29            ; |117| 
     1279                           .line   34
     1280                   ;----------------------------------------------------------------------
     1281                   ; 119 | r = FALSE;                                                             
     1282                   ;----------------------------------------------------------------------
     1283 00000104 50600000         ldiu      0,r0                  ; |119| 
     1284 00000105 15400307         sti       r0,*+fp(7)            ; |119| 
     1285                           .line   35
     1286                   ;----------------------------------------------------------------------
     1287                   ; 120 | break;                                                                 
     1288                   ;----------------------------------------------------------------------
     1289 00000106 6a000006         bu        L32                   ; |120| 
     1290                   ;*      Branch Occurs to L32            ; |120| 
     1291 00000107          L29:        
     1292                           .line   29
     1293 00000107 50600001         ldiu      1,r0                  ; |114| 
     1294 00000108 02400304         addi      *+fp(4),r0            ; |114| 
     1295 00000109 15400304         sti       r0,*+fp(4)            ; |114| 
     1296 0000010a 04c00302         cmpi      *+fp(2),r0            ; |114| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   25

     1297 0000010b 6a07ffef         blt       L27                   ; |114| 
     1298                   ;*      Branch Occurs to L27            ; |114| 
     1299                           .line   39
     1300                   ;----------------------------------------------------------------------
     1301                   ; 124 | break;                                                                 
     1302                   ;----------------------------------------------------------------------
     1303 0000010c 6a000000         bu        L32                   ; |124| 
     1304                   ;*      Branch Occurs to L32            ; |124| 
     1305                           .line   40
     1306 0000010d          L32:        
     1307                           .line   42
     1308                   ;----------------------------------------------------------------------
     1309                   ; 127 | I2C_STOP;                                                              
     1310                   ;----------------------------------------------------------------------
     1311 0000010d 08700000-        ldp       @CL1,DP
     1312 0000010e 502801cc-        ldiu      @CL1,ar0              ; |127| 
     1313 0000010f 50600002         ldiu      2,r0                  ; |127| 
     1314 00000110 25a0c000         or3       r0,*ar0,r0            ; |127| 
     1315 00000111 1540c000         sti       r0,*ar0               ; |127| 
     1316 00000112 506000fe         ldiu      254,r0                ; |127| 
     1317 00000113 21a0c000         and3      r0,*ar0,r0            ; |127| 
     1318 00000114 1540c000         sti       r0,*ar0               ; |127| 
     1319 00000115 0f290000                 PUSH    AR1                     
     1320 00000116 08690032                 LDI             50,AR1          
     1321 00000117 6e46ffff                 .word   6E46FFFFh       
     1322 00000118 0e290000                 POP             AR1                     
     1323 00000119 50600004         ldiu      4,r0                  ; |127| 
     1324 0000011a 25a0c000         or3       r0,*ar0,r0            ; |127| 
     1325 0000011b 1540c000         sti       r0,*ar0               ; |127| 
     1326 0000011c 506000f7         ldiu      247,r0                ; |127| 
     1327 0000011d 21a0c000         and3      r0,*ar0,r0            ; |127| 
     1328 0000011e 1540c000         sti       r0,*ar0               ; |127| 
     1329 0000011f 0f290000                 PUSH    AR1                     
     1330 00000120 08690032                 LDI             50,AR1          
     1331 00000121 6e46ffff                 .word   6E46FFFFh       
     1332 00000122 0e290000                 POP             AR1                     
     1333 00000123 50600001         ldiu      1,r0                  ; |127| 
     1334 00000124 25a0c000         or3       r0,*ar0,r0            ; |127| 
     1335 00000125 1540c000         sti       r0,*ar0               ; |127| 
     1336 00000126 506000fd         ldiu      253,r0                ; |127| 
     1337 00000127 21a0c000         and3      r0,*ar0,r0            ; |127| 
     1338 00000128 1540c000         sti       r0,*ar0               ; |127| 
     1339 00000129 0f290000                 PUSH    AR1                     
     1340 0000012a 08690032                 LDI             50,AR1          
     1341 0000012b 6e46ffff                 .word   6E46FFFFh       
     1342 0000012c 0e290000                 POP             AR1                     
     1343                           .line   44
     1344                   ;----------------------------------------------------------------------
     1345                   ; 129 | return r;                                                              
     1346                   ;----------------------------------------------------------------------
     1347 0000012d 50400307         ldiu      *+fp(7),r0            ; |129| 
     1348                           .line   45
     1349                                                           ; Begin Epilog Code
     1350 0000012e 50410b01         ldiu      *-fp(1),r1            ; |130| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   26

     1351 0000012f 504bc300         ldiu      *fp,fp                ; |130| 
     1352                                                           ; Unallocate the Frame
     1353 00000130 18740009         subi      9,sp                  ; |130| 
     1354 00000131 68000001         bu        r1
     1355                   ;*      Branch Occurs to r1 
     1356                           .endfunc        130,000000000h,7
     1357                   
     1358                   
     1359 00000132                  .sect    "internal_RAM"
     1360                   
     1361                           .global _Read_I2C
     1362                           .sym    _Read_I2C,_Read_I2C,46,2,0
     1363                           .func   132
     1364                   ;******************************************************************************
     1365                   ;* FUNCTION NAME: _Read_I2C                                                   *
     1366                   ;*                                                                            *
     1367                   ;*   Architecture       : TMS320C33                                           *
     1368                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1369                   ;*   Function Uses Regs : r0,r1,r2,r3,ar0,ar2,st                              *
     1370                   ;*   Regs Saved         :                                                     *
     1371                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1372                   ;*   Total Frame Size   : 2 Call + 0 Parm + 8 Auto + 0 SOE = 10 words         *
     1373                   ;******************************************************************************
     1374 00000132          _Read_I2C:
     1375                   ;* ar2   assigned to _addr
     1376                           .sym    _addr,10,4,17,32
     1377                   ;* r2    assigned to _n
     1378                           .sym    _n,2,4,17,32
     1379                   ;* r3    assigned to _p
     1380                           .sym    _p,3,28,17,32
     1381                           .sym    _addr,1,4,1,32
     1382                           .sym    _n,2,4,1,32
     1383                           .sym    _p,3,28,1,32
     1384                           .sym    _i,4,4,1,32
     1385                           .sym    _j,5,4,1,32
     1386                           .sym    _dat,6,12,1,32
     1387                           .sym    _ack,7,14,1,32
     1388                           .sym    _r,8,14,1,32
     1389                           .line   1
     1390                   ;----------------------------------------------------------------------
     1391                   ; 132 | BOOL Read_I2C(int addr, int n, unsigned char* p)                       
     1392                   ;----------------------------------------------------------------------
     1393 00000132 0f2b0000         push      fp
     1394 00000133 500b0014         ldiu      sp,fp
     1395 00000134 02740008         addi      8,sp
     1396                           .line   2
     1397                   ;----------------------------------------------------------------------
     1398                   ; 134 | int i,j;                                                               
     1399                   ; 135 | unsigned char dat;                                                     
     1400                   ; 136 | BOOL ack;                                                              
     1401                   ; 137 | BOOL r;                                                                
     1402                   ;----------------------------------------------------------------------
     1403 00000135 15430303         sti       r3,*+fp(3)            ; |133| 
     1404 00000136 15420302         sti       r2,*+fp(2)            ; |133| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   27

     1405 00000137 154a0301         sti       ar2,*+fp(1)           ; |133| 
     1406                           .line   8
     1407                   ;----------------------------------------------------------------------
     1408                   ; 139 | r = TRUE;                                                              
     1409                   ;----------------------------------------------------------------------
     1410 00000138 50600001         ldiu      1,r0                  ; |139| 
     1411 00000139 15400308         sti       r0,*+fp(8)            ; |139| 
     1412                           .line   10
     1413                   ;----------------------------------------------------------------------
     1414                   ; 141 | I2C_START;                                                             
     1415                   ; 143 | while(TRUE)                                                            
     1416                   ;----------------------------------------------------------------------
     1417 0000013a 08700000-        ldp       @CL1,DP
     1418 0000013b 502801cc-        ldiu      @CL1,ar0              ; |141| 
     1419 0000013c 50600004         ldiu      4,r0                  ; |141| 
     1420 0000013d 25a0c000         or3       r0,*ar0,r0            ; |141| 
     1421 0000013e 1540c000         sti       r0,*ar0               ; |141| 
     1422 0000013f 50600001         ldiu      1,r0                  ; |141| 
     1423 00000140 25a0c000         or3       r0,*ar0,r0            ; |141| 
     1424 00000141 1540c000         sti       r0,*ar0               ; |141| 
     1425 00000142 50600008         ldiu      8,r0                  ; |141| 
     1426 00000143 25a0c000         or3       r0,*ar0,r0            ; |141| 
     1427 00000144 1540c000         sti       r0,*ar0               ; |141| 
     1428 00000145 50600002         ldiu      2,r0                  ; |141| 
     1429 00000146 25a0c000         or3       r0,*ar0,r0            ; |141| 
     1430 00000147 1540c000         sti       r0,*ar0               ; |141| 
     1431 00000148 0f290000                 PUSH    AR1                     
     1432 00000149 08690032                 LDI             50,AR1          
     1433 0000014a 6e46ffff                 .word   6E46FFFFh       
     1434 0000014b 0e290000                 POP             AR1                     
     1435 0000014c 506000fe         ldiu      254,r0                ; |141| 
     1436 0000014d 21a0c000         and3      r0,*ar0,r0            ; |141| 
     1437 0000014e 1540c000         sti       r0,*ar0               ; |141| 
     1438 0000014f 0f290000                 PUSH    AR1                     
     1439 00000150 08690032                 LDI             50,AR1          
     1440 00000151 6e46ffff                 .word   6E46FFFFh       
     1441 00000152 0e290000                 POP             AR1                     
     1442 00000153 506000fb         ldiu      251,r0                ; |141| 
     1443 00000154 21a0c000         and3      r0,*ar0,r0            ; |141| 
     1444 00000155 1540c000         sti       r0,*ar0               ; |141| 
     1445 00000156 0f290000                 PUSH    AR1                     
     1446 00000157 08690032                 LDI             50,AR1          
     1447 00000158 6e46ffff                 .word   6E46FFFFh       
     1448 00000159 0e290000                 POP             AR1                     
     1449                           .line   14
     1450                   ;----------------------------------------------------------------------
     1451                   ; 145 | dat = addr | 0x01;                              /* address with read bi
     1452                   ;     | t set */                                                               
     1453                   ;----------------------------------------------------------------------
     1454 0000015a 50600001         ldiu      1,r0                  ; |145| 
     1455 0000015b 10400301         or        *+fp(1),r0            ; |145| 
     1456 0000015c 15400306         sti       r0,*+fp(6)            ; |145| 
     1457                           .line   15
     1458                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   28

     1459                   ; 146 | ack = I2C_TX_BYTE(dat);                                                
     1460                   ;----------------------------------------------------------------------
     1461 0000015d 08700000-        ldp       @CL2,DP
     1462 0000015e 500a0000         ldiu      r0,ar2
     1463 0000015f 502001cd-        ldiu      @CL2,r0               ; |146| 
     1464 00000160 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |146| 
     1465                                                           ; |146| Far Call Occurs
     1466 00000161 15400307         sti       r0,*+fp(7)            ; |146| 
     1467                           .line   16
     1468                   ;----------------------------------------------------------------------
     1469                   ; 147 | if (!ack)                                                              
     1470                   ;----------------------------------------------------------------------
     1471 00000162 04e00000         cmpi      0,r0                  ; |147| 
     1472 00000163 6a060003         bne       L37                   ; |147| 
     1473                   ;*      Branch Occurs to L37            ; |147| 
     1474                           .line   18
     1475                   ;----------------------------------------------------------------------
     1476                   ; 149 | r = FALSE;                                                             
     1477                   ;----------------------------------------------------------------------
     1478 00000164 50600000         ldiu      0,r0                  ; |149| 
     1479 00000165 15400308         sti       r0,*+fp(8)            ; |149| 
     1480                           .line   19
     1481                   ;----------------------------------------------------------------------
     1482                   ; 150 | break;                                                                 
     1483                   ;----------------------------------------------------------------------
     1484 00000166 6a000027         bu        L43                   ; |150| 
     1485                   ;*      Branch Occurs to L43            ; |150| 
     1486 00000167          L37:        
     1487                           .line   22
     1488                   ;----------------------------------------------------------------------
     1489                   ; 153 | ack = I2C_TX_BYTE(n);                   /* the number of bytes to read
     1490                   ;     | */                                                                     
     1491                   ;----------------------------------------------------------------------
     1492 00000167 08700000-        ldp       @CL2,DP
     1493 00000168 504a0302         ldiu      *+fp(2),ar2           ; |153| 
     1494 00000169 502001cd-        ldiu      @CL2,r0               ; |153| 
     1495 0000016a 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |153| 
     1496                                                           ; |153| Far Call Occurs
     1497 0000016b 15400307         sti       r0,*+fp(7)            ; |153| 
     1498                           .line   23
     1499                   ;----------------------------------------------------------------------
     1500                   ; 154 | if (!ack)                                                              
     1501                   ;----------------------------------------------------------------------
     1502 0000016c 04e00000         cmpi      0,r0                  ; |154| 
     1503 0000016d 6a060003         bne       L39                   ; |154| 
     1504                   ;*      Branch Occurs to L39            ; |154| 
     1505                           .line   25
     1506                   ;----------------------------------------------------------------------
     1507                   ; 156 | r = FALSE;                                                             
     1508                   ;----------------------------------------------------------------------
     1509 0000016e 50600000         ldiu      0,r0                  ; |156| 
     1510 0000016f 15400308         sti       r0,*+fp(8)            ; |156| 
     1511                           .line   26
     1512                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   29

     1513                   ; 157 | break;                                                                 
     1514                   ;----------------------------------------------------------------------
     1515 00000170 6a00001d         bu        L43                   ; |157| 
     1516                   ;*      Branch Occurs to L43            ; |157| 
     1517 00000171          L39:        
     1518                           .line   29
     1519                   ;----------------------------------------------------------------------
     1520                   ; 160 | for (i=0;i<(n-1);i++)                                                  
     1521                   ;----------------------------------------------------------------------
     1522 00000171 50600000         ldiu      0,r0                  ; |160| 
     1523 00000172 15400304         sti       r0,*+fp(4)            ; |160| 
     1524 00000173 50600001         ldiu      1,r0                  ; |160| 
     1525 00000174 50410304         ldiu      *+fp(4),r1            ; |160| 
     1526 00000175 19c00302         subri     *+fp(2),r0            ; |160| 
     1527 00000176 23800100         cmpi3     r0,r1                 ; |160| 
     1528 00000177 6a0a000e         bge       L41                   ; |160| 
     1529                   ;*      Branch Occurs to L41            ; |160| 
     1530 00000178          L40:        
     1531                           .line   31
     1532                   ;----------------------------------------------------------------------
     1533                   ; 162 | I2C_RX_BYTE(&p[i],1);           /* read the bytes */                   
     1534                   ;----------------------------------------------------------------------
     1535 00000178 504a0304         ldiu      *+fp(4),ar2           ; |162| 
     1536 00000179 08700000-        ldp       @CL3,DP
     1537 0000017a 024a0303         addi      *+fp(3),ar2           ; |162| Unsigned
     1538 0000017b 502001ce-        ldiu      @CL3,r0               ; |162| 
     1539 0000017c 50620001         ldiu      1,r2                  ; |162| 
     1540 0000017d 70000000         callu     r0                    ; far call to _I2C_RX_BYTE      ; |162| 
     1541                                                           ; |162| Far Call Occurs
     1542                           .line   29
     1543 0000017e 50600001         ldiu      1,r0                  ; |160| 
     1544 0000017f 02400304         addi      *+fp(4),r0            ; |160| 
     1545 00000180 15400304         sti       r0,*+fp(4)            ; |160| 
     1546 00000181 50600001         ldiu      1,r0                  ; |160| 
     1547 00000182 50410304         ldiu      *+fp(4),r1            ; |160| 
     1548 00000183 19c00302         subri     *+fp(2),r0            ; |160| 
     1549 00000184 23800100         cmpi3     r0,r1                 ; |160| 
     1550 00000185 6a07fff2         blt       L40                   ; |160| 
     1551                   ;*      Branch Occurs to L40            ; |160| 
     1552 00000186          L41:        
     1553                           .line   34
     1554                   ;----------------------------------------------------------------------
     1555                   ; 165 | I2C_RX_BYTE(&p[n-1],0);                 /* the final byte to read */   
     1556                   ;----------------------------------------------------------------------
     1557 00000186 504a0302         ldiu      *+fp(2),ar2           ; |165| 
     1558 00000187 08700000-        ldp       @CL3,DP
     1559 00000188 024a0303         addi      *+fp(3),ar2           ; |165| Unsigned
     1560 00000189 502001ce-        ldiu      @CL3,r0               ; |165| 
     1561 0000018a 186a0001         subi      1,ar2                 ; |165| Unsigned
     1562 0000018b 50620000         ldiu      0,r2                  ; |165| 
     1563 0000018c 70000000         callu     r0                    ; far call to _I2C_RX_BYTE      ; |165| 
     1564                                                           ; |165| Far Call Occurs
     1565                           .line   36
     1566                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   30

     1567                   ; 167 | break;                                                                 
     1568                   ;----------------------------------------------------------------------
     1569 0000018d 6a000000         bu        L43                   ; |167| 
     1570                   ;*      Branch Occurs to L43            ; |167| 
     1571                           .line   37
     1572 0000018e          L43:        
     1573                           .line   39
     1574                   ;----------------------------------------------------------------------
     1575                   ; 170 | I2C_STOP;                                                              
     1576                   ;----------------------------------------------------------------------
     1577 0000018e 08700000-        ldp       @CL1,DP
     1578 0000018f 502801cc-        ldiu      @CL1,ar0              ; |170| 
     1579 00000190 50600002         ldiu      2,r0                  ; |170| 
     1580 00000191 25a0c000         or3       r0,*ar0,r0            ; |170| 
     1581 00000192 1540c000         sti       r0,*ar0               ; |170| 
     1582 00000193 506000fe         ldiu      254,r0                ; |170| 
     1583 00000194 21a0c000         and3      r0,*ar0,r0            ; |170| 
     1584 00000195 1540c000         sti       r0,*ar0               ; |170| 
     1585 00000196 0f290000                 PUSH    AR1                     
     1586 00000197 08690032                 LDI             50,AR1          
     1587 00000198 6e46ffff                 .word   6E46FFFFh       
     1588 00000199 0e290000                 POP             AR1                     
     1589 0000019a 50600004         ldiu      4,r0                  ; |170| 
     1590 0000019b 25a0c000         or3       r0,*ar0,r0            ; |170| 
     1591 0000019c 1540c000         sti       r0,*ar0               ; |170| 
     1592 0000019d 506000f7         ldiu      247,r0                ; |170| 
     1593 0000019e 21a0c000         and3      r0,*ar0,r0            ; |170| 
     1594 0000019f 1540c000         sti       r0,*ar0               ; |170| 
     1595 000001a0 0f290000                 PUSH    AR1                     
     1596 000001a1 08690032                 LDI             50,AR1          
     1597 000001a2 6e46ffff                 .word   6E46FFFFh       
     1598 000001a3 0e290000                 POP             AR1                     
     1599 000001a4 50600001         ldiu      1,r0                  ; |170| 
     1600 000001a5 25a0c000         or3       r0,*ar0,r0            ; |170| 
     1601 000001a6 1540c000         sti       r0,*ar0               ; |170| 
     1602 000001a7 506000fd         ldiu      253,r0                ; |170| 
     1603 000001a8 21a0c000         and3      r0,*ar0,r0            ; |170| 
     1604 000001a9 1540c000         sti       r0,*ar0               ; |170| 
     1605 000001aa 0f290000                 PUSH    AR1                     
     1606 000001ab 08690032                 LDI             50,AR1          
     1607 000001ac 6e46ffff                 .word   6E46FFFFh       
     1608 000001ad 0e290000                 POP             AR1                     
     1609                           .line   41
     1610                   ;----------------------------------------------------------------------
     1611                   ; 172 | return r;                                                              
     1612                   ;----------------------------------------------------------------------
     1613 000001ae 50400308         ldiu      *+fp(8),r0            ; |172| 
     1614                           .line   42
     1615                                                           ; Begin Epilog Code
     1616 000001af 50410b01         ldiu      *-fp(1),r1            ; |173| 
     1617 000001b0 504bc300         ldiu      *fp,fp                ; |173| 
     1618                                                           ; Unallocate the Frame
     1619 000001b1 1874000a         subi      10,sp                 ; |173| 
     1620 000001b2 68000001         bu        r1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   31

     1621                   ;*      Branch Occurs to r1 
     1622                           .endfunc        173,000000000h,8
     1623                   
     1624                   
     1625 00000000                  .sect    ".text"
     1626                   
     1627                           .global _Write_DS1340
     1628                           .sym    _Write_DS1340,_Write_DS1340,46,2,0
     1629                           .func   175
     1630                   ;******************************************************************************
     1631                   ;* FUNCTION NAME: _Write_DS1340                                               *
     1632                   ;*                                                                            *
     1633                   ;*   Architecture       : TMS320C33                                           *
     1634                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1635                   ;*   Function Uses Regs : r0,r2,r3,ar0,ar2,ir0,st                             *
     1636                   ;*   Regs Saved         :                                                     *
     1637                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1638                   ;*   Total Frame Size   : 2 Call + 0 Parm + 7 Auto + 0 SOE = 9 words          *
     1639                   ;******************************************************************************
     1640 00000000          _Write_DS1340:
     1641                   ;* ar2   assigned to _addr
     1642                           .sym    _addr,10,4,17,32
     1643                   ;* r2    assigned to _n
     1644                           .sym    _n,2,4,17,32
     1645                   ;* r3    assigned to _p
     1646                           .sym    _p,3,28,17,32
     1647                           .sym    _addr,1,4,1,32
     1648                           .sym    _n,2,4,1,32
     1649                           .sym    _p,3,28,1,32
     1650                           .sym    _i,4,4,1,32
     1651                           .sym    _dat,5,12,1,32
     1652                           .sym    _ack,6,14,1,32
     1653                           .sym    _r,7,14,1,32
     1654                           .line   1
     1655                   ;----------------------------------------------------------------------
     1656                   ; 175 | BOOL Write_DS1340(int addr, int n, unsigned char* p)                   
     1657                   ;----------------------------------------------------------------------
     1658 00000000 0f2b0000         push      fp
     1659 00000001 500b0014         ldiu      sp,fp
     1660 00000002 02740007         addi      7,sp
     1661                           .line   2
     1662                   ;----------------------------------------------------------------------
     1663                   ; 177 | int i;                                                                 
     1664                   ; 178 | unsigned char dat;                                                     
     1665                   ; 179 | BOOL ack;                                                              
     1666                   ; 180 | BOOL r;                                                                
     1667                   ;----------------------------------------------------------------------
     1668 00000003 15430303         sti       r3,*+fp(3)            ; |176| 
     1669 00000004 15420302         sti       r2,*+fp(2)            ; |176| 
     1670 00000005 154a0301         sti       ar2,*+fp(1)           ; |176| 
     1671                           .line   8
     1672                   ;----------------------------------------------------------------------
     1673                   ; 182 | _GIEP;                                                                 
     1674                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   32

     1675 00000006 0f350000         push    ST                      
     1676 00000007 03752000         andn    2000h, ST       
     1677                           .line   10
     1678                   ;----------------------------------------------------------------------
     1679                   ; 184 | r = TRUE;                                                              
     1680                   ;----------------------------------------------------------------------
     1681 00000008 50600001         ldiu      1,r0                  ; |184| 
     1682 00000009 15400307         sti       r0,*+fp(7)            ; |184| 
     1683                           .line   12
     1684                   ;----------------------------------------------------------------------
     1685                   ; 186 | I2C_START;                                                             
     1686                   ; 188 | while(TRUE)                                                            
     1687                   ;----------------------------------------------------------------------
     1688 0000000a 08700000-        ldp       @CL1,DP
     1689 0000000b 502801cc-        ldiu      @CL1,ar0              ; |186| 
     1690 0000000c 50600004         ldiu      4,r0                  ; |186| 
     1691 0000000d 25a0c000         or3       r0,*ar0,r0            ; |186| 
     1692 0000000e 1540c000         sti       r0,*ar0               ; |186| 
     1693 0000000f 50600001         ldiu      1,r0                  ; |186| 
     1694 00000010 25a0c000         or3       r0,*ar0,r0            ; |186| 
     1695 00000011 1540c000         sti       r0,*ar0               ; |186| 
     1696 00000012 50600008         ldiu      8,r0                  ; |186| 
     1697 00000013 25a0c000         or3       r0,*ar0,r0            ; |186| 
     1698 00000014 1540c000         sti       r0,*ar0               ; |186| 
     1699 00000015 50600002         ldiu      2,r0                  ; |186| 
     1700 00000016 25a0c000         or3       r0,*ar0,r0            ; |186| 
     1701 00000017 1540c000         sti       r0,*ar0               ; |186| 
     1702 00000018 0f290000                 PUSH    AR1                     
     1703 00000019 08690032                 LDI             50,AR1          
     1704 0000001a 6e46ffff                 .word   6E46FFFFh       
     1705 0000001b 0e290000                 POP             AR1                     
     1706 0000001c 506000fe         ldiu      254,r0                ; |186| 
     1707 0000001d 21a0c000         and3      r0,*ar0,r0            ; |186| 
     1708 0000001e 1540c000         sti       r0,*ar0               ; |186| 
     1709 0000001f 0f290000                 PUSH    AR1                     
     1710 00000020 08690032                 LDI             50,AR1          
     1711 00000021 6e46ffff                 .word   6E46FFFFh       
     1712 00000022 0e290000                 POP             AR1                     
     1713 00000023 506000fb         ldiu      251,r0                ; |186| 
     1714 00000024 21a0c000         and3      r0,*ar0,r0            ; |186| 
     1715 00000025 1540c000         sti       r0,*ar0               ; |186| 
     1716 00000026 0f290000                 PUSH    AR1                     
     1717 00000027 08690032                 LDI             50,AR1          
     1718 00000028 6e46ffff                 .word   6E46FFFFh       
     1719 00000029 0e290000                 POP             AR1                     
     1720                           .line   16
     1721                   ;----------------------------------------------------------------------
     1722                   ; 190 | dat = RTC_ADDR;                                         /* address with
     1723                   ;     | out read bit set */                                                    
     1724                   ;----------------------------------------------------------------------
     1725 0000002a 506000d0         ldiu      208,r0                ; |190| 
     1726 0000002b 15400305         sti       r0,*+fp(5)            ; |190| 
     1727                           .line   17
     1728                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   33

     1729                   ; 191 | ack = I2C_TX_BYTE(dat);                                                
     1730                   ;----------------------------------------------------------------------
     1731 0000002c 08700000-        ldp       @CL2,DP
     1732 0000002d 500a0000         ldiu      r0,ar2
     1733 0000002e 502001cd-        ldiu      @CL2,r0               ; |191| 
     1734 0000002f 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |191| 
     1735                                                           ; |191| Far Call Occurs
     1736 00000030 15400306         sti       r0,*+fp(6)            ; |191| 
     1737                           .line   18
     1738                   ;----------------------------------------------------------------------
     1739                   ; 192 | if (!ack)                                                              
     1740                   ;----------------------------------------------------------------------
     1741 00000031 04e00000         cmpi      0,r0                  ; |192| 
     1742 00000032 6a060003         bne       L48                   ; |192| 
     1743                   ;*      Branch Occurs to L48            ; |192| 
     1744                           .line   20
     1745                   ;----------------------------------------------------------------------
     1746                   ; 194 | r = FALSE;                                                             
     1747                   ;----------------------------------------------------------------------
     1748 00000033 50600000         ldiu      0,r0                  ; |194| 
     1749 00000034 15400307         sti       r0,*+fp(7)            ; |194| 
     1750                           .line   21
     1751                   ;----------------------------------------------------------------------
     1752                   ; 195 | break;                                                                 
     1753                   ;----------------------------------------------------------------------
     1754 00000035 6a000020         bu        L56                   ; |195| 
     1755                   ;*      Branch Occurs to L56            ; |195| 
     1756 00000036          L48:        
     1757                           .line   24
     1758                   ;----------------------------------------------------------------------
     1759                   ; 198 | ack = I2C_TX_BYTE(addr);                        /* set the pointer */  
     1760                   ;----------------------------------------------------------------------
     1761 00000036 08700000-        ldp       @CL2,DP
     1762 00000037 504a0301         ldiu      *+fp(1),ar2           ; |198| 
     1763 00000038 502001cd-        ldiu      @CL2,r0               ; |198| 
     1764 00000039 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |198| 
     1765                                                           ; |198| Far Call Occurs
     1766 0000003a 15400306         sti       r0,*+fp(6)            ; |198| 
     1767                           .line   25
     1768                   ;----------------------------------------------------------------------
     1769                   ; 199 | if (!ack)                                                              
     1770                   ;----------------------------------------------------------------------
     1771 0000003b 04e00000         cmpi      0,r0                  ; |199| 
     1772 0000003c 6a060003         bne       L50                   ; |199| 
     1773                   ;*      Branch Occurs to L50            ; |199| 
     1774                           .line   27
     1775                   ;----------------------------------------------------------------------
     1776                   ; 201 | r = FALSE;                                                             
     1777                   ;----------------------------------------------------------------------
     1778 0000003d 50600000         ldiu      0,r0                  ; |201| 
     1779 0000003e 15400307         sti       r0,*+fp(7)            ; |201| 
     1780                           .line   28
     1781                   ;----------------------------------------------------------------------
     1782                   ; 202 | break;                                                                 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   34

     1783                   ;----------------------------------------------------------------------
     1784 0000003f 6a000016         bu        L56                   ; |202| 
     1785                   ;*      Branch Occurs to L56            ; |202| 
     1786 00000040          L50:        
     1787                           .line   31
     1788                   ;----------------------------------------------------------------------
     1789                   ; 205 | for (i=0;i<n;i++)                                                      
     1790                   ;----------------------------------------------------------------------
     1791 00000040 50600000         ldiu      0,r0                  ; |205| 
     1792 00000041 15400304         sti       r0,*+fp(4)            ; |205| 
     1793 00000042 04c00302         cmpi      *+fp(2),r0            ; |205| 
     1794 00000043 6a0a0012         bge       L56                   ; |205| 
     1795                   ;*      Branch Occurs to L56            ; |205| 
     1796 00000044          L51:        
     1797                           .line   33
     1798                   ;----------------------------------------------------------------------
     1799                   ; 207 | ack = I2C_TX_BYTE(p[i]);                /* write the bytes */          
     1800                   ;----------------------------------------------------------------------
     1801 00000044 08700000-        ldp       @CL2,DP
     1802 00000045 50510303         ldiu      *+fp(3),ir0           ; |207| 
     1803 00000046 50480304         ldiu      *+fp(4),ar0           ; |207| 
     1804 00000047 502001cd-        ldiu      @CL2,r0               ; |207| 
     1805 00000048 504a4000         ldiu      *+ar0(ir0),ar2        ; |207| 
     1806 00000049 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |207| 
     1807                                                           ; |207| Far Call Occurs
     1808 0000004a 15400306         sti       r0,*+fp(6)            ; |207| 
     1809                           .line   34
     1810                   ;----------------------------------------------------------------------
     1811                   ; 208 | if (!ack)                                                              
     1812                   ;----------------------------------------------------------------------
     1813 0000004b 04e00000         cmpi      0,r0                  ; |208| 
     1814 0000004c 6a060003         bne       L53                   ; |208| 
     1815                   ;*      Branch Occurs to L53            ; |208| 
     1816                           .line   36
     1817                   ;----------------------------------------------------------------------
     1818                   ; 210 | r = FALSE;                                                             
     1819                   ;----------------------------------------------------------------------
     1820 0000004d 50600000         ldiu      0,r0                  ; |210| 
     1821 0000004e 15400307         sti       r0,*+fp(7)            ; |210| 
     1822                           .line   37
     1823                   ;----------------------------------------------------------------------
     1824                   ; 211 | break;                                                                 
     1825                   ;----------------------------------------------------------------------
     1826 0000004f 6a000006         bu        L56                   ; |211| 
     1827                   ;*      Branch Occurs to L56            ; |211| 
     1828 00000050          L53:        
     1829                           .line   31
     1830 00000050 50600001         ldiu      1,r0                  ; |205| 
     1831 00000051 02400304         addi      *+fp(4),r0            ; |205| 
     1832 00000052 15400304         sti       r0,*+fp(4)            ; |205| 
     1833 00000053 04c00302         cmpi      *+fp(2),r0            ; |205| 
     1834 00000054 6a07ffef         blt       L51                   ; |205| 
     1835                   ;*      Branch Occurs to L51            ; |205| 
     1836                           .line   41
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   35

     1837                   ;----------------------------------------------------------------------
     1838                   ; 215 | break;                                                                 
     1839                   ;----------------------------------------------------------------------
     1840 00000055 6a000000         bu        L56                   ; |215| 
     1841                   ;*      Branch Occurs to L56            ; |215| 
     1842                           .line   42
     1843 00000056          L56:        
     1844                           .line   44
     1845                   ;----------------------------------------------------------------------
     1846                   ; 218 | I2C_STOP;                                                              
     1847                   ;----------------------------------------------------------------------
     1848 00000056 08700000-        ldp       @CL1,DP
     1849 00000057 502801cc-        ldiu      @CL1,ar0              ; |218| 
     1850 00000058 50600002         ldiu      2,r0                  ; |218| 
     1851 00000059 25a0c000         or3       r0,*ar0,r0            ; |218| 
     1852 0000005a 1540c000         sti       r0,*ar0               ; |218| 
     1853 0000005b 506000fe         ldiu      254,r0                ; |218| 
     1854 0000005c 21a0c000         and3      r0,*ar0,r0            ; |218| 
     1855 0000005d 1540c000         sti       r0,*ar0               ; |218| 
     1856 0000005e 0f290000                 PUSH    AR1                     
     1857 0000005f 08690032                 LDI             50,AR1          
     1858 00000060 6e46ffff                 .word   6E46FFFFh       
     1859 00000061 0e290000                 POP             AR1                     
     1860 00000062 50600004         ldiu      4,r0                  ; |218| 
     1861 00000063 25a0c000         or3       r0,*ar0,r0            ; |218| 
     1862 00000064 1540c000         sti       r0,*ar0               ; |218| 
     1863 00000065 506000f7         ldiu      247,r0                ; |218| 
     1864 00000066 21a0c000         and3      r0,*ar0,r0            ; |218| 
     1865 00000067 1540c000         sti       r0,*ar0               ; |218| 
     1866 00000068 0f290000                 PUSH    AR1                     
     1867 00000069 08690032                 LDI             50,AR1          
     1868 0000006a 6e46ffff                 .word   6E46FFFFh       
     1869 0000006b 0e290000                 POP             AR1                     
     1870 0000006c 50600001         ldiu      1,r0                  ; |218| 
     1871 0000006d 25a0c000         or3       r0,*ar0,r0            ; |218| 
     1872 0000006e 1540c000         sti       r0,*ar0               ; |218| 
     1873 0000006f 506000fd         ldiu      253,r0                ; |218| 
     1874 00000070 21a0c000         and3      r0,*ar0,r0            ; |218| 
     1875 00000071 1540c000         sti       r0,*ar0               ; |218| 
     1876 00000072 0f290000                 PUSH    AR1                     
     1877 00000073 08690032                 LDI             50,AR1          
     1878 00000074 6e46ffff                 .word   6E46FFFFh       
     1879 00000075 0e290000                 POP             AR1                     
     1880                           .line   46
     1881                   ;----------------------------------------------------------------------
     1882                   ; 220 | GIEP;                                                                  
     1883                   ;----------------------------------------------------------------------
     1884 00000076 0e350000         pop             ST                      
     1885                           .line   47
     1886                   ;----------------------------------------------------------------------
     1887                   ; 221 | return r;                                                              
     1888                   ;----------------------------------------------------------------------
     1889 00000077 50400307         ldiu      *+fp(7),r0            ; |221| 
     1890                           .line   48
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   36

     1891                                                           ; Begin Epilog Code
     1892 00000078 50410b01         ldiu      *-fp(1),r1            ; |222| 
     1893 00000079 504bc300         ldiu      *fp,fp                ; |222| 
     1894                                                           ; Unallocate the Frame
     1895 0000007a 18740009         subi      9,sp                  ; |222| 
     1896 0000007b 68000001         bu        r1
     1897                   ;*      Branch Occurs to r1 
     1898                           .endfunc        222,000000000h,7
     1899                   
     1900                   
     1901 0000007c                  .sect    ".text"
     1902                   
     1903                           .global _Read_DS1340
     1904                           .sym    _Read_DS1340,_Read_DS1340,46,2,0
     1905                           .func   224
     1906                   ;******************************************************************************
     1907                   ;* FUNCTION NAME: _Read_DS1340                                                *
     1908                   ;*                                                                            *
     1909                   ;*   Architecture       : TMS320C33                                           *
     1910                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1911                   ;*   Function Uses Regs : r0,r1,r2,r3,ar0,ar2,st                              *
     1912                   ;*   Regs Saved         :                                                     *
     1913                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1914                   ;*   Total Frame Size   : 2 Call + 0 Parm + 8 Auto + 0 SOE = 10 words         *
     1915                   ;******************************************************************************
     1916 0000007c          _Read_DS1340:
     1917                   ;* ar2   assigned to _addr
     1918                           .sym    _addr,10,4,17,32
     1919                   ;* r2    assigned to _n
     1920                           .sym    _n,2,4,17,32
     1921                   ;* r3    assigned to _p
     1922                           .sym    _p,3,28,17,32
     1923                           .sym    _addr,1,4,1,32
     1924                           .sym    _n,2,4,1,32
     1925                           .sym    _p,3,28,1,32
     1926                           .sym    _i,4,4,1,32
     1927                           .sym    _j,5,4,1,32
     1928                           .sym    _dat,6,12,1,32
     1929                           .sym    _ack,7,14,1,32
     1930                           .sym    _r,8,14,1,32
     1931                           .line   1
     1932                   ;----------------------------------------------------------------------
     1933                   ; 224 | BOOL Read_DS1340(int addr, int n, unsigned char* p)                    
     1934                   ;----------------------------------------------------------------------
     1935 0000007c 0f2b0000         push      fp
     1936 0000007d 500b0014         ldiu      sp,fp
     1937 0000007e 02740008         addi      8,sp
     1938                           .line   2
     1939                   ;----------------------------------------------------------------------
     1940                   ; 226 | int i,j;                                                               
     1941                   ; 227 | unsigned char dat;                                                     
     1942                   ; 228 | BOOL ack;                                                              
     1943                   ; 229 | BOOL r;                                                                
     1944                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   37

     1945 0000007f 15430303         sti       r3,*+fp(3)            ; |225| 
     1946 00000080 15420302         sti       r2,*+fp(2)            ; |225| 
     1947 00000081 154a0301         sti       ar2,*+fp(1)           ; |225| 
     1948                           .line   8
     1949                   ;----------------------------------------------------------------------
     1950                   ; 231 | _GIEP;                                                                 
     1951                   ;----------------------------------------------------------------------
     1952 00000082 0f350000         push    ST                      
     1953 00000083 03752000         andn    2000h, ST       
     1954                           .line   10
     1955                   ;----------------------------------------------------------------------
     1956                   ; 233 | r = TRUE;                                                              
     1957                   ;----------------------------------------------------------------------
     1958 00000084 50600001         ldiu      1,r0                  ; |233| 
     1959 00000085 15400308         sti       r0,*+fp(8)            ; |233| 
     1960                           .line   12
     1961                   ;----------------------------------------------------------------------
     1962                   ; 235 | if (!Write_DS1340(addr, 0, p))                                         
     1963                   ;----------------------------------------------------------------------
     1964 00000086 08700000-        ldp       @CL4,DP
     1965 00000087 502001cf-        ldiu      @CL4,r0               ; |235| 
     1966 00000088 50620000         ldiu      0,r2                  ; |235| 
     1967 00000089 70000000         callu     r0                    ; far call to _Write_DS1340     ; |235| 
     1968                                                           ; |235| Far Call Occurs
     1969 0000008a 04e00000         cmpi      0,r0                  ; |235| 
     1970 0000008b 6a060005         bne       L61                   ; |235| 
     1971                   ;*      Branch Occurs to L61            ; |235| 
     1972                           .line   14
     1973                   ;----------------------------------------------------------------------
     1974                   ; 237 | GIEP;                                                                  
     1975                   ;----------------------------------------------------------------------
     1976 0000008c 0e350000         pop             ST                      
     1977                           .line   15
     1978                   ;----------------------------------------------------------------------
     1979                   ; 238 | return FALSE;                                                          
     1980                   ;----------------------------------------------------------------------
     1981 0000008d 6a200068         bud       L70                   ; |238| 
     1982 0000008e 0c800000         nop
     1983 0000008f 0c800000         nop
     1984 00000090 50600000         ldiu      0,r0                  ; |238| 
     1985                   ;*      Branch Occurs to L70            ; |238| 
     1986 00000091          L61:        
     1987                           .line   18
     1988                   ;----------------------------------------------------------------------
     1989                   ; 241 | I2C_START;                                                             
     1990                   ; 243 | while(TRUE)                                                            
     1991                   ;----------------------------------------------------------------------
     1992 00000091 08700000-        ldp       @CL1,DP
     1993 00000092 502801cc-        ldiu      @CL1,ar0              ; |241| 
     1994 00000093 50600004         ldiu      4,r0                  ; |241| 
     1995 00000094 25a0c000         or3       r0,*ar0,r0            ; |241| 
     1996 00000095 1540c000         sti       r0,*ar0               ; |241| 
     1997 00000096 50600001         ldiu      1,r0                  ; |241| 
     1998 00000097 25a0c000         or3       r0,*ar0,r0            ; |241| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   38

     1999 00000098 1540c000         sti       r0,*ar0               ; |241| 
     2000 00000099 50600008         ldiu      8,r0                  ; |241| 
     2001 0000009a 25a0c000         or3       r0,*ar0,r0            ; |241| 
     2002 0000009b 1540c000         sti       r0,*ar0               ; |241| 
     2003 0000009c 50600002         ldiu      2,r0                  ; |241| 
     2004 0000009d 25a0c000         or3       r0,*ar0,r0            ; |241| 
     2005 0000009e 1540c000         sti       r0,*ar0               ; |241| 
     2006 0000009f 0f290000                 PUSH    AR1                     
     2007 000000a0 08690032                 LDI             50,AR1          
     2008 000000a1 6e46ffff                 .word   6E46FFFFh       
     2009 000000a2 0e290000                 POP             AR1                     
     2010 000000a3 506000fe         ldiu      254,r0                ; |241| 
     2011 000000a4 21a0c000         and3      r0,*ar0,r0            ; |241| 
     2012 000000a5 1540c000         sti       r0,*ar0               ; |241| 
     2013 000000a6 0f290000                 PUSH    AR1                     
     2014 000000a7 08690032                 LDI             50,AR1          
     2015 000000a8 6e46ffff                 .word   6E46FFFFh       
     2016 000000a9 0e290000                 POP             AR1                     
     2017 000000aa 506000fb         ldiu      251,r0                ; |241| 
     2018 000000ab 21a0c000         and3      r0,*ar0,r0            ; |241| 
     2019 000000ac 1540c000         sti       r0,*ar0               ; |241| 
     2020 000000ad 0f290000                 PUSH    AR1                     
     2021 000000ae 08690032                 LDI             50,AR1          
     2022 000000af 6e46ffff                 .word   6E46FFFFh       
     2023 000000b0 0e290000                 POP             AR1                     
     2024                           .line   22
     2025                   ;----------------------------------------------------------------------
     2026                   ; 245 | dat = RTC_ADDR | 0x01;                          /* address with read bi
     2027                   ;     | t set */                                                               
     2028                   ;----------------------------------------------------------------------
     2029 000000b1 506000d1         ldiu      209,r0                ; |245| 
     2030 000000b2 15400306         sti       r0,*+fp(6)            ; |245| 
     2031                           .line   23
     2032                   ;----------------------------------------------------------------------
     2033                   ; 246 | ack = I2C_TX_BYTE(dat);                                                
     2034                   ;----------------------------------------------------------------------
     2035 000000b3 08700000-        ldp       @CL2,DP
     2036 000000b4 500a0000         ldiu      r0,ar2
     2037 000000b5 502001cd-        ldiu      @CL2,r0               ; |246| 
     2038 000000b6 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |246| 
     2039                                                           ; |246| Far Call Occurs
     2040 000000b7 15400307         sti       r0,*+fp(7)            ; |246| 
     2041                           .line   24
     2042                   ;----------------------------------------------------------------------
     2043                   ; 247 | if (!ack)                                                              
     2044                   ;----------------------------------------------------------------------
     2045 000000b8 04e00000         cmpi      0,r0                  ; |247| 
     2046 000000b9 6a060003         bne       L63                   ; |247| 
     2047                   ;*      Branch Occurs to L63            ; |247| 
     2048                           .line   26
     2049                   ;----------------------------------------------------------------------
     2050                   ; 249 | r = FALSE;                                                             
     2051                   ;----------------------------------------------------------------------
     2052 000000ba 50600000         ldiu      0,r0                  ; |249| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   39

     2053 000000bb 15400308         sti       r0,*+fp(8)            ; |249| 
     2054                           .line   27
     2055                   ;----------------------------------------------------------------------
     2056                   ; 250 | break;                                                                 
     2057                   ;----------------------------------------------------------------------
     2058 000000bc 6a000019         bu        L69                   ; |250| 
     2059                   ;*      Branch Occurs to L69            ; |250| 
     2060 000000bd          L63:        
     2061                           .line   30
     2062                   ;----------------------------------------------------------------------
     2063                   ; 253 | ack = TRUE;                                                            
     2064                   ;----------------------------------------------------------------------
     2065 000000bd 50600001         ldiu      1,r0                  ; |253| 
     2066 000000be 15400307         sti       r0,*+fp(7)            ; |253| 
     2067                           .line   31
     2068                   ;----------------------------------------------------------------------
     2069                   ; 254 | for (i=0;i<n;i++)                                                      
     2070                   ;----------------------------------------------------------------------
     2071 000000bf 50600000         ldiu      0,r0                  ; |254| 
     2072 000000c0 15400304         sti       r0,*+fp(4)            ; |254| 
     2073 000000c1 04c00302         cmpi      *+fp(2),r0            ; |254| 
     2074 000000c2 6a0a0013         bge       L69                   ; |254| 
     2075                   ;*      Branch Occurs to L69            ; |254| 
     2076 000000c3          L64:        
     2077                           .line   33
     2078                   ;----------------------------------------------------------------------
     2079                   ; 256 | if (i==(n-1)) ack = FALSE;                                             
     2080                   ;----------------------------------------------------------------------
     2081 000000c3 50600001         ldiu      1,r0                  ; |256| 
     2082 000000c4 50410304         ldiu      *+fp(4),r1            ; |256| 
     2083 000000c5 19c00302         subri     *+fp(2),r0            ; |256| 
     2084 000000c6 23800100         cmpi3     r0,r1                 ; |256| 
     2085 000000c7 6a060002         bne       L66                   ; |256| 
     2086                   ;*      Branch Occurs to L66            ; |256| 
     2087 000000c8 50600000         ldiu      0,r0                  ; |256| 
     2088 000000c9 15400307         sti       r0,*+fp(7)            ; |256| 
     2089 000000ca          L66:        
     2090                           .line   34
     2091                   ;----------------------------------------------------------------------
     2092                   ; 257 | I2C_RX_BYTE(&p[i],ack);         /* read the bytes */                   
     2093                   ;----------------------------------------------------------------------
     2094 000000ca 504a0304         ldiu      *+fp(4),ar2           ; |257| 
     2095 000000cb 08700000-        ldp       @CL3,DP
     2096 000000cc 50420307         ldiu      *+fp(7),r2            ; |257| 
     2097 000000cd 024a0303         addi      *+fp(3),ar2           ; |257| Unsigned
     2098 000000ce 502001ce-        ldiu      @CL3,r0               ; |257| 
     2099 000000cf 70000000         callu     r0                    ; far call to _I2C_RX_BYTE      ; |257| 
     2100                                                           ; |257| Far Call Occurs
     2101                           .line   31
     2102 000000d0 50600001         ldiu      1,r0                  ; |254| 
     2103 000000d1 02400304         addi      *+fp(4),r0            ; |254| 
     2104 000000d2 15400304         sti       r0,*+fp(4)            ; |254| 
     2105 000000d3 04c00302         cmpi      *+fp(2),r0            ; |254| 
     2106 000000d4 6a07ffee         blt       L64                   ; |254| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   40

     2107                   ;*      Branch Occurs to L64            ; |254| 
     2108                           .line   37
     2109                   ;----------------------------------------------------------------------
     2110                   ; 260 | break;                                                                 
     2111                   ;----------------------------------------------------------------------
     2112 000000d5 6a000000         bu        L69                   ; |260| 
     2113                   ;*      Branch Occurs to L69            ; |260| 
     2114                           .line   38
     2115 000000d6          L69:        
     2116                           .line   40
     2117                   ;----------------------------------------------------------------------
     2118                   ; 263 | I2C_STOP;                                                              
     2119                   ;----------------------------------------------------------------------
     2120 000000d6 08700000-        ldp       @CL1,DP
     2121 000000d7 502801cc-        ldiu      @CL1,ar0              ; |263| 
     2122 000000d8 50600002         ldiu      2,r0                  ; |263| 
     2123 000000d9 25a0c000         or3       r0,*ar0,r0            ; |263| 
     2124 000000da 1540c000         sti       r0,*ar0               ; |263| 
     2125 000000db 506000fe         ldiu      254,r0                ; |263| 
     2126 000000dc 21a0c000         and3      r0,*ar0,r0            ; |263| 
     2127 000000dd 1540c000         sti       r0,*ar0               ; |263| 
     2128 000000de 0f290000                 PUSH    AR1                     
     2129 000000df 08690032                 LDI             50,AR1          
     2130 000000e0 6e46ffff                 .word   6E46FFFFh       
     2131 000000e1 0e290000                 POP             AR1                     
     2132 000000e2 50600004         ldiu      4,r0                  ; |263| 
     2133 000000e3 25a0c000         or3       r0,*ar0,r0            ; |263| 
     2134 000000e4 1540c000         sti       r0,*ar0               ; |263| 
     2135 000000e5 506000f7         ldiu      247,r0                ; |263| 
     2136 000000e6 21a0c000         and3      r0,*ar0,r0            ; |263| 
     2137 000000e7 1540c000         sti       r0,*ar0               ; |263| 
     2138 000000e8 0f290000                 PUSH    AR1                     
     2139 000000e9 08690032                 LDI             50,AR1          
     2140 000000ea 6e46ffff                 .word   6E46FFFFh       
     2141 000000eb 0e290000                 POP             AR1                     
     2142 000000ec 50600001         ldiu      1,r0                  ; |263| 
     2143 000000ed 25a0c000         or3       r0,*ar0,r0            ; |263| 
     2144 000000ee 1540c000         sti       r0,*ar0               ; |263| 
     2145 000000ef 506000fd         ldiu      253,r0                ; |263| 
     2146 000000f0 21a0c000         and3      r0,*ar0,r0            ; |263| 
     2147 000000f1 1540c000         sti       r0,*ar0               ; |263| 
     2148 000000f2 0f290000                 PUSH    AR1                     
     2149 000000f3 08690032                 LDI             50,AR1          
     2150 000000f4 6e46ffff                 .word   6E46FFFFh       
     2151 000000f5 0e290000                 POP             AR1                     
     2152                           .line   42
     2153                   ;----------------------------------------------------------------------
     2154                   ; 265 | GIEP;                                                                  
     2155                   ;----------------------------------------------------------------------
     2156 000000f6 0e350000         pop             ST                      
     2157                           .line   43
     2158                   ;----------------------------------------------------------------------
     2159                   ; 266 | return r;                                                              
     2160                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   41

     2161 000000f7 50400308         ldiu      *+fp(8),r0            ; |266| 
     2162 000000f8          L70:        
     2163                           .line   44
     2164                                                           ; Begin Epilog Code
     2165 000000f8 50410b01         ldiu      *-fp(1),r1            ; |267| 
     2166 000000f9 504bc300         ldiu      *fp,fp                ; |267| 
     2167                                                           ; Unallocate the Frame
     2168 000000fa 1874000a         subi      10,sp                 ; |267| 
     2169 000000fb 68000001         bu        r1
     2170                   ;*      Branch Occurs to r1 
     2171                           .endfunc        267,000000000h,8
     2172                   
     2173                   
     2174 00000000                  .sect    "initialization"
     2175                   
     2176                           .global _RTC_setup
     2177                           .sym    _RTC_setup,_RTC_setup,46,2,0
     2178                           .func   269
     2179                   ;******************************************************************************
     2180                   ;* FUNCTION NAME: _RTC_setup                                                  *
     2181                   ;*                                                                            *
     2182                   ;*   Architecture       : TMS320C33                                           *
     2183                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2184                   ;*   Function Uses Regs : r0,r2,r3,ar0,ar2,st                                 *
     2185                   ;*   Regs Saved         :                                                     *
     2186                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2187                   ;*   Total Frame Size   : 2 Call + 0 Parm + 1 Auto + 0 SOE = 3 words          *
     2188                   ;******************************************************************************
     2189 00000000          _RTC_setup:
     2190                           .sym    _r,1,14,1,32
     2191                           .line   1
     2192                   ;----------------------------------------------------------------------
     2193                   ; 269 | BOOL RTC_setup(void)                                                   
     2194                   ; 271 | BOOL r;                                                                
     2195                   ;----------------------------------------------------------------------
     2196 00000000 0f2b0000         push      fp
     2197 00000001 500b0014         ldiu      sp,fp
     2198 00000002 02740001         addi      1,sp
     2199                           .line   5
     2200                   ;----------------------------------------------------------------------
     2201                   ; 273 | _GIEP;                                                                 
     2202                   ;----------------------------------------------------------------------
     2203 00000003 0f350000         push    ST                      
     2204 00000004 03752000         andn    2000h, ST       
     2205                           .line   7
     2206                   ;----------------------------------------------------------------------
     2207                   ; 275 | r = Read_DS1340(8,10,RTC);                                             
     2208                   ;----------------------------------------------------------------------
     2209 00000005 08700000-        ldp       @CL6,DP
     2210 00000006 502001d1-        ldiu      @CL6,r0               ; |275| 
     2211 00000007 506a0008         ldiu      8,ar2                 ; |275| 
     2212 00000008 08700000-        ldp       @CL5,DP
     2213 00000009 5062000a         ldiu      10,r2                 ; |275| 
     2214 0000000a 502301d0-        ldiu      @CL5,r3               ; |275| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   42

     2215 0000000b 70000000         callu     r0                    ; far call to _Read_DS1340      ; |275| 
     2216                                                           ; |275| Far Call Occurs
     2217 0000000c 15400301         sti       r0,*+fp(1)            ; |275| 
     2218                           .line   8
     2219                   ;----------------------------------------------------------------------
     2220                   ; 276 | if (!r)                                                                
     2221                   ;----------------------------------------------------------------------
     2222 0000000d 04e00000         cmpi      0,r0                  ; |276| 
     2223 0000000e 6a060009         bne       L74                   ; |276| 
     2224                   ;*      Branch Occurs to L74            ; |276| 
     2225                           .line   10
     2226                   ;----------------------------------------------------------------------
     2227                   ; 278 | RTC_PRESENT = FALSE;                                                   
     2228                   ;----------------------------------------------------------------------
     2229 0000000f 08700000-        ldp       @CL7,DP
     2230 00000010 502801d2-        ldiu      @CL7,ar0              ; |278| 
     2231 00000011 50600000         ldiu      0,r0                  ; |278| 
     2232 00000012 1540c000         sti       r0,*ar0               ; |278| 
     2233                           .line   11
     2234                   ;----------------------------------------------------------------------
     2235                   ; 279 | GIEP;                                                                  
     2236                   ;----------------------------------------------------------------------
     2237 00000013 0e350000         pop             ST                      
     2238                           .line   12
     2239                   ;----------------------------------------------------------------------
     2240                   ; 280 | return r;       /* RTC is not found */                                 
     2241                   ;----------------------------------------------------------------------
     2242 00000014 6a20003a         bud       L80                   ; |280| 
     2243 00000015 0c800000         nop
     2244 00000016 0c800000         nop
     2245 00000017 50400301         ldiu      *+fp(1),r0            ; |280| 
     2246                   ;*      Branch Occurs to L80            ; |280| 
     2247 00000018          L74:        
     2248                           .line   15
     2249                   ;----------------------------------------------------------------------
     2250                   ; 283 | RTC_PRESENT = TRUE;                                                    
     2251                   ;----------------------------------------------------------------------
     2252 00000018 08700000-        ldp       @CL7,DP
     2253 00000019 502801d2-        ldiu      @CL7,ar0              ; |283| 
     2254 0000001a 50600001         ldiu      1,r0                  ; |283| 
     2255 0000001b 1540c000         sti       r0,*ar0               ; |283| 
     2256                           .line   17
     2257                   ;----------------------------------------------------------------------
     2258                   ; 285 | if (RTC[1] & 0x80)                                                     
     2259                   ;----------------------------------------------------------------------
     2260 0000001c 08700000-        ldp       @CL8,DP
     2261 0000001d 502801d3-        ldiu      @CL8,ar0              ; |285| 
     2262 0000001e 50600080         ldiu      128,r0                ; |285| 
     2263 0000001f 27c000c0         tstb3     *ar0,r0               ; |285| 
     2264 00000020 6a050006         beq       L76                   ; |285| 
     2265                   ;*      Branch Occurs to L76            ; |285| 
     2266                           .line   19
     2267                   ;----------------------------------------------------------------------
     2268                   ; 287 | DIAGNOSTICS[1] |= ERROR2_TIME_RESET;                                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   43

     2269                   ; 289 | else                                                                   
     2270                   ;----------------------------------------------------------------------
     2271 00000021 08700000-        ldp       @CL9,DP
     2272 00000022 502801d4-        ldiu      @CL9,ar0              ; |287| 
     2273 00000023 50600001         ldiu      1,r0                  ; |287| 
     2274 00000024 10400001         or        *+ar0(1),r0           ; |287| 
     2275 00000025 15400001         sti       r0,*+ar0(1)           ; |287| 
     2276 00000026 6a000005         bu        L77                   ; |268| 
     2277                   ;*      Branch Occurs to L77            ; |268| 
     2278 00000027          L76:        
     2279                           .line   23
     2280                   ;----------------------------------------------------------------------
     2281                   ; 291 | DIAGNOSTICS[1] &= 0xFFFFFFFF ^ ERROR2_TIME_RESET;                      
     2282                   ;----------------------------------------------------------------------
     2283 00000027 08700000-        ldp       @CL9,DP
     2284 00000028 502801d4-        ldiu      @CL9,ar0              ; |291| 
     2285 00000029 50400001         ldiu      *+ar0(1),r0           ; |291| 
     2286 0000002a 03600001         andn      1,r0                  ; |291| 
     2287 0000002b 15400001         sti       r0,*+ar0(1)           ; |291| 
     2288 0000002c          L77:        
     2289                           .line   26
     2290                   ;----------------------------------------------------------------------
     2291                   ; 294 | RTC[9] |= 0x40; /* enable FT output */                                 
     2292                   ;----------------------------------------------------------------------
     2293 0000002c 08700000-        ldp       @CL5,DP
     2294 0000002d 502801d0-        ldiu      @CL5,ar0              ; |294| 
     2295 0000002e 50600040         ldiu      64,r0                 ; |294| 
     2296 0000002f 10400009         or        *+ar0(9),r0           ; |294| 
     2297 00000030 15400009         sti       r0,*+ar0(9)           ; |294| 
     2298                           .line   27
     2299                   ;----------------------------------------------------------------------
     2300                   ; 295 | Write_DS1340(8, 2, &RTC[0]);                                           
     2301                   ;----------------------------------------------------------------------
     2302 00000031 502301d0-        ldiu      @CL5,r3               ; |295| 
     2303 00000032 08700000-        ldp       @CL4,DP
     2304 00000033 506a0008         ldiu      8,ar2                 ; |295| 
     2305 00000034 502001cf-        ldiu      @CL4,r0               ; |295| 
     2306 00000035 50620002         ldiu      2,r2                  ; |295| 
     2307 00000036 70000000         callu     r0                    ; far call to _Write_DS1340     ; |295| 
     2308                                                           ; |295| Far Call Occurs
     2309                           .line   28
     2310                   ;----------------------------------------------------------------------
     2311                   ; 296 | Write_DS1340(7, 1, &RTC[9]);                                           
     2312                   ;----------------------------------------------------------------------
     2313 00000037 08700000-        ldp       @CL10,DP
     2314 00000038 502301d5-        ldiu      @CL10,r3              ; |296| 
     2315 00000039 08700000-        ldp       @CL4,DP
     2316 0000003a 506a0007         ldiu      7,ar2                 ; |296| 
     2317 0000003b 502001cf-        ldiu      @CL4,r0               ; |296| 
     2318 0000003c 50620001         ldiu      1,r2                  ; |296| 
     2319 0000003d 70000000         callu     r0                    ; far call to _Write_DS1340     ; |296| 
     2320                                                           ; |296| Far Call Occurs
     2321                           .line   30
     2322                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   44

     2323                   ; 298 | if (RTC[2]&0x80)                                                       
     2324                   ;----------------------------------------------------------------------
     2325 0000003e 08700000-        ldp       @CL11,DP
     2326 0000003f 502801d6-        ldiu      @CL11,ar0             ; |298| 
     2327 00000040 50600080         ldiu      128,r0                ; |298| 
     2328 00000041 27c000c0         tstb3     *ar0,r0               ; |298| 
     2329 00000042 6a05000c         beq       L79                   ; |298| 
     2330                   ;*      Branch Occurs to L79            ; |298| 
     2331                           .line   32
     2332                   ;----------------------------------------------------------------------
     2333                   ; 300 | RTC[2] &= 0x3F;                                                        
     2334                   ;----------------------------------------------------------------------
     2335 00000043 08700000-        ldp       @CL5,DP
     2336 00000044 502801d0-        ldiu      @CL5,ar0              ; |300| 
     2337 00000045 5060003f         ldiu      63,r0                 ; |300| 
     2338 00000046 02c00002         and       *+ar0(2),r0           ; |300| 
     2339 00000047 15400002         sti       r0,*+ar0(2)           ; |300| 
     2340                           .line   33
     2341                   ;----------------------------------------------------------------------
     2342                   ; 301 | Write_DS1340(0, 1, &RTC[2]);                                           
     2343                   ;----------------------------------------------------------------------
     2344 00000048 08700000-        ldp       @CL11,DP
     2345 00000049 502301d6-        ldiu      @CL11,r3              ; |301| 
     2346 0000004a 08700000-        ldp       @CL4,DP
     2347 0000004b 506a0000         ldiu      0,ar2                 ; |301| 
     2348 0000004c 502001cf-        ldiu      @CL4,r0               ; |301| 
     2349 0000004d 50620001         ldiu      1,r2                  ; |301| 
     2350 0000004e 70000000         callu     r0                    ; far call to _Write_DS1340     ; |301| 
     2351                                                           ; |301| Far Call Occurs
     2352 0000004f          L79:        
     2353                           .line   36
     2354                   ;----------------------------------------------------------------------
     2355                   ; 304 | GIEP;                                                                  
     2356                   ;----------------------------------------------------------------------
     2357 0000004f 0e350000         pop             ST                      
     2358                           .line   37
     2359                   ;----------------------------------------------------------------------
     2360                   ; 305 | return TRUE;                                                           
     2361                   ;----------------------------------------------------------------------
     2362 00000050 50600001         ldiu      1,r0                  ; |305| 
     2363 00000051          L80:        
     2364                           .line   38
     2365                                                           ; Begin Epilog Code
     2366 00000051 50410b01         ldiu      *-fp(1),r1            ; |306| 
     2367 00000052 504bc300         ldiu      *fp,fp                ; |306| 
     2368                                                           ; Unallocate the Frame
     2369 00000053 18740003         subi      3,sp                  ; |306| 
     2370 00000054 68000001         bu        r1
     2371                   ;*      Branch Occurs to r1 
     2372                           .endfunc        306,000000000h,1
     2373                   
     2374                   
     2375 000001b3                  .sect    "internal_RAM"
     2376                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   45

     2377                           .global _Write_MC24C02_Record
     2378                           .sym    _Write_MC24C02_Record,_Write_MC24C02_Record,46,2,0
     2379                           .func   308
     2380                   ;******************************************************************************
     2381                   ;* FUNCTION NAME: _Write_MC24C02_Record                                       *
     2382                   ;*                                                                            *
     2383                   ;*   Architecture       : TMS320C33                                           *
     2384                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2385                   ;*   Function Uses Regs : r0,r1,r2,ar0,ar2,ir0,st                             *
     2386                   ;*   Regs Saved         :                                                     *
     2387                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2388                   ;*   Total Frame Size   : 2 Call + 0 Parm + 7 Auto + 0 SOE = 9 words          *
     2389                   ;******************************************************************************
     2390 000001b3          _Write_MC24C02_Record:
     2391                   ;* ar2   assigned to _addr
     2392                           .sym    _addr,10,4,17,32
     2393                   ;* r2    assigned to _p
     2394                           .sym    _p,2,28,17,32
     2395                           .sym    _addr,1,4,1,32
     2396                           .sym    _p,2,28,1,32
     2397                           .sym    _i,3,4,1,32
     2398                           .sym    _j,4,4,1,32
     2399                           .sym    _k,5,4,1,32
     2400                           .sym    _r,6,4,1,32
     2401                           .sym    _ack,7,14,1,32
     2402                           .line   1
     2403                   ;----------------------------------------------------------------------
     2404                   ; 308 | BOOL Write_MC24C02_Record(int addr, unsigned char* p)                  
     2405                   ;----------------------------------------------------------------------
     2406 000001b3 0f2b0000         push      fp
     2407 000001b4 500b0014         ldiu      sp,fp
     2408 000001b5 02740007         addi      7,sp
     2409                           .line   2
     2410                   ;----------------------------------------------------------------------
     2411                   ; 310 | int i,j,k,r;                                                           
     2412                   ; 311 | BOOL ack;                                                              
     2413                   ;----------------------------------------------------------------------
     2414 000001b6 15420302         sti       r2,*+fp(2)            ; |309| 
     2415 000001b7 154a0301         sti       ar2,*+fp(1)           ; |309| 
     2416                           .line   6
     2417                   ;----------------------------------------------------------------------
     2418                   ; 313 | _GIEP;                                                                 
     2419                   ;----------------------------------------------------------------------
     2420 000001b8 0f350000         push    ST                      
     2421 000001b9 03752000         andn    2000h, ST       
     2422                           .line   8
     2423                   ;----------------------------------------------------------------------
     2424                   ; 315 | for (i=0;i<256;i++)                                                    
     2425                   ;----------------------------------------------------------------------
     2426 000001ba 50600000         ldiu      0,r0                  ; |315| 
     2427 000001bb 15400303         sti       r0,*+fp(3)            ; |315| 
     2428 000001bc 04e00100         cmpi      256,r0                ; |315| 
     2429 000001bd 506100ff         ldiu      255,r1                ; |317| 
     2430 000001be 6a0a0009         bge       L84                   ; |315| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   46

     2431                   ;*      Branch Occurs to L84            ; |315| 
     2432 000001bf          L83:        
     2433                           .line   10
     2434                   ;----------------------------------------------------------------------
     2435                   ; 317 | p[i] &= 0xFF;                                                          
     2436                   ;----------------------------------------------------------------------
     2437 000001bf 50510302         ldiu      *+fp(2),ir0           ; |317| 
     2438 000001c0 50480303         ldiu      *+fp(3),ar0           ; |317| 
     2439 000001c1 21a04001         and3      r1,*+ar0(ir0),r0      ; |317| 
     2440 000001c2 15404000         sti       r0,*+ar0(ir0)         ; |317| 
     2441                           .line   8
     2442 000001c3 50600001         ldiu      1,r0                  ; |315| 
     2443 000001c4 02400303         addi      *+fp(3),r0            ; |315| 
     2444 000001c5 15400303         sti       r0,*+fp(3)            ; |315| 
     2445 000001c6 04e00100         cmpi      256,r0                ; |315| 
     2446 000001c7 6a07fff7         blt       L83                   ; |315| 
     2447                   ;*      Branch Occurs to L83            ; |315| 
     2448 000001c8          L84:        
     2449                           .line   13
     2450                   ;----------------------------------------------------------------------
     2451                   ; 320 | r = TRUE;                                                              
     2452                   ;----------------------------------------------------------------------
     2453 000001c8 50600001         ldiu      1,r0                  ; |320| 
     2454 000001c9 15400306         sti       r0,*+fp(6)            ; |320| 
     2455                           .line   15
     2456                   ;----------------------------------------------------------------------
     2457                   ; 322 | for(j=0;j<16;j++)                                                      
     2458                   ;----------------------------------------------------------------------
     2459 000001ca 50600000         ldiu      0,r0                  ; |322| 
     2460 000001cb 15400304         sti       r0,*+fp(4)            ; |322| 
     2461 000001cc 04e00010         cmpi      16,r0                 ; |322| 
     2462 000001cd 6a0a00a1         bge       L101                  ; |322| 
     2463                   ;*      Branch Occurs to L101           ; |322| 
     2464 000001ce          L85:        
     2465                           .line   17
     2466                   ;----------------------------------------------------------------------
     2467                   ; 324 | k = 0;                                                                 
     2468                   ; 325 | while(1)                                                               
     2469                   ;----------------------------------------------------------------------
     2470 000001ce 50600000         ldiu      0,r0                  ; |324| 
     2471 000001cf 15400305         sti       r0,*+fp(5)            ; |324| 
     2472 000001d0          L86:        
     2473                           .line   20
     2474                   ;----------------------------------------------------------------------
     2475                   ; 327 | I2C_START;                                                             
     2476                   ;----------------------------------------------------------------------
     2477 000001d0 08700000-        ldp       @CL1,DP
     2478 000001d1 502801cc-        ldiu      @CL1,ar0              ; |327| 
     2479 000001d2 50600004         ldiu      4,r0                  ; |327| 
     2480 000001d3 25a0c000         or3       r0,*ar0,r0            ; |327| 
     2481 000001d4 1540c000         sti       r0,*ar0               ; |327| 
     2482 000001d5 50600001         ldiu      1,r0                  ; |327| 
     2483 000001d6 25a0c000         or3       r0,*ar0,r0            ; |327| 
     2484 000001d7 1540c000         sti       r0,*ar0               ; |327| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   47

     2485 000001d8 50600008         ldiu      8,r0                  ; |327| 
     2486 000001d9 25a0c000         or3       r0,*ar0,r0            ; |327| 
     2487 000001da 1540c000         sti       r0,*ar0               ; |327| 
     2488 000001db 50600002         ldiu      2,r0                  ; |327| 
     2489 000001dc 25a0c000         or3       r0,*ar0,r0            ; |327| 
     2490 000001dd 1540c000         sti       r0,*ar0               ; |327| 
     2491 000001de 0f290000                 PUSH    AR1                     
     2492 000001df 08690032                 LDI             50,AR1          
     2493 000001e0 6e46ffff                 .word   6E46FFFFh       
     2494 000001e1 0e290000                 POP             AR1                     
     2495 000001e2 506000fe         ldiu      254,r0                ; |327| 
     2496 000001e3 21a0c000         and3      r0,*ar0,r0            ; |327| 
     2497 000001e4 1540c000         sti       r0,*ar0               ; |327| 
     2498 000001e5 0f290000                 PUSH    AR1                     
     2499 000001e6 08690032                 LDI             50,AR1          
     2500 000001e7 6e46ffff                 .word   6E46FFFFh       
     2501 000001e8 0e290000                 POP             AR1                     
     2502 000001e9 506000fb         ldiu      251,r0                ; |327| 
     2503 000001ea 21a0c000         and3      r0,*ar0,r0            ; |327| 
     2504 000001eb 1540c000         sti       r0,*ar0               ; |327| 
     2505 000001ec 0f290000                 PUSH    AR1                     
     2506 000001ed 08690032                 LDI             50,AR1          
     2507 000001ee 6e46ffff                 .word   6E46FFFFh       
     2508 000001ef 0e290000                 POP             AR1                     
     2509                           .line   21
     2510                   ;----------------------------------------------------------------------
     2511                   ; 328 | ack = I2C_TX_BYTE(addr);                /* address without read bit set
     2512                   ;     |  */                                                                    
     2513                   ;----------------------------------------------------------------------
     2514 000001f0 08700000-        ldp       @CL2,DP
     2515 000001f1 502001cd-        ldiu      @CL2,r0               ; |328| 
     2516 000001f2 504a0301         ldiu      *+fp(1),ar2           ; |328| 
     2517 000001f3 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |328| 
     2518                                                           ; |328| Far Call Occurs
     2519 000001f4 15400307         sti       r0,*+fp(7)            ; |328| 
     2520                           .line   22
     2521                   ;----------------------------------------------------------------------
     2522                   ; 329 | if (!ack) k++;                                                         
     2523                   ;----------------------------------------------------------------------
     2524 000001f5 04e00000         cmpi      0,r0                  ; |329| 
     2525 000001f6 6a06002b         bne       L92                   ; |329| 
     2526                   ;*      Branch Occurs to L92            ; |329| 
     2527 000001f7 50600001         ldiu      1,r0                  ; |329| 
     2528 000001f8 02400305         addi      *+fp(5),r0            ; |329| 
     2529 000001f9 15400305         sti       r0,*+fp(5)            ; |329| 
     2530 000001fa 6a000000         bu        L89                   ; |307| 
     2531                   ;*      Branch Occurs to L89            ; |307| 
     2532                           .line   23
     2533                   ;----------------------------------------------------------------------
     2534                   ; 330 | else break;                                                            
     2535                   ;----------------------------------------------------------------------
     2536 000001fb          L89:        
     2537                           .line   24
     2538                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   48

     2539                   ; 331 | if (k>=50)                                                             
     2540                   ;----------------------------------------------------------------------
     2541 000001fb 50400305         ldiu      *+fp(5),r0            ; |331| 
     2542 000001fc 04e00032         cmpi      50,r0                 ; |331| 
     2543 000001fd 6a070003         blt       L91                   ; |331| 
     2544                   ;*      Branch Occurs to L91            ; |331| 
     2545                           .line   26
     2546                   ;----------------------------------------------------------------------
     2547                   ; 333 | r = FALSE;                                                             
     2548                   ;----------------------------------------------------------------------
     2549 000001fe 50600000         ldiu      0,r0                  ; |333| 
     2550 000001ff 15400306         sti       r0,*+fp(6)            ; |333| 
     2551                           .line   27
     2552                   ;----------------------------------------------------------------------
     2553                   ; 334 | break;                                                                 
     2554                   ;----------------------------------------------------------------------
     2555 00000200 6a000021         bu        L92                   ; |334| 
     2556                   ;*      Branch Occurs to L92            ; |334| 
     2557 00000201          L91:        
     2558                           .line   29
     2559                   ;----------------------------------------------------------------------
     2560                   ; 336 | I2C_STOP;                                                              
     2561                   ;----------------------------------------------------------------------
     2562 00000201 08700000-        ldp       @CL1,DP
     2563 00000202 502801cc-        ldiu      @CL1,ar0              ; |336| 
     2564 00000203 50600002         ldiu      2,r0                  ; |336| 
     2565 00000204 25a0c000         or3       r0,*ar0,r0            ; |336| 
     2566 00000205 1540c000         sti       r0,*ar0               ; |336| 
     2567 00000206 506000fe         ldiu      254,r0                ; |336| 
     2568 00000207 21a0c000         and3      r0,*ar0,r0            ; |336| 
     2569 00000208 1540c000         sti       r0,*ar0               ; |336| 
     2570 00000209 0f290000                 PUSH    AR1                     
     2571 0000020a 08690032                 LDI             50,AR1          
     2572 0000020b 6e46ffff                 .word   6E46FFFFh       
     2573 0000020c 0e290000                 POP             AR1                     
     2574 0000020d 50600004         ldiu      4,r0                  ; |336| 
     2575 0000020e 25a0c000         or3       r0,*ar0,r0            ; |336| 
     2576 0000020f 1540c000         sti       r0,*ar0               ; |336| 
     2577 00000210 506000f7         ldiu      247,r0                ; |336| 
     2578 00000211 21a0c000         and3      r0,*ar0,r0            ; |336| 
     2579 00000212 1540c000         sti       r0,*ar0               ; |336| 
     2580 00000213 0f290000                 PUSH    AR1                     
     2581 00000214 08690032                 LDI             50,AR1          
     2582 00000215 6e46ffff                 .word   6E46FFFFh       
     2583 00000216 0e290000                 POP             AR1                     
     2584 00000217 50600001         ldiu      1,r0                  ; |336| 
     2585 00000218 25a0c000         or3       r0,*ar0,r0            ; |336| 
     2586 00000219 1540c000         sti       r0,*ar0               ; |336| 
     2587 0000021a 506000fd         ldiu      253,r0                ; |336| 
     2588 0000021b 21a0c000         and3      r0,*ar0,r0            ; |336| 
     2589 0000021c 1540c000         sti       r0,*ar0               ; |336| 
     2590 0000021d 0f290000                 PUSH    AR1                     
     2591 0000021e 08690032                 LDI             50,AR1          
     2592 0000021f 6e46ffff                 .word   6E46FFFFh       
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   49

     2593 00000220 0e290000                 POP             AR1                     
     2594                           .line   30
     2595 00000221 6a00ffae         bu        L86                   ; |337| 
     2596                   ;*      Branch Occurs to L86            ; |337| 
     2597 00000222          L92:        
     2598                           .line   31
     2599                   ;----------------------------------------------------------------------
     2600                   ; 338 | if (r==FALSE) break;                                                   
     2601                   ;----------------------------------------------------------------------
     2602 00000222 50400306         ldiu      *+fp(6),r0            ; |338| 
     2603 00000223 04e00000         cmpi      0,r0                  ; |338| 
     2604 00000224 6a05004a         beq       L101                  ; |338| 
     2605                   ;*      Branch Occurs to L101           ; |338| 
     2606                           .line   33
     2607                   ;----------------------------------------------------------------------
     2608                   ; 340 | ack = I2C_TX_BYTE(j*16);                        /* set the pointer */  
     2609                   ;----------------------------------------------------------------------
     2610 00000225 504a0304         ldiu      *+fp(4),ar2           ; |340| 
     2611 00000226 08700000-        ldp       @CL2,DP
     2612 00000227 03ea0004         ash       4,ar2                 ; |340| 
     2613 00000228 502001cd-        ldiu      @CL2,r0               ; |340| 
     2614 00000229 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |340| 
     2615                                                           ; |340| Far Call Occurs
     2616 0000022a 15400307         sti       r0,*+fp(7)            ; |340| 
     2617                           .line   34
     2618                   ;----------------------------------------------------------------------
     2619                   ; 341 | if (!ack)                                                              
     2620                   ;----------------------------------------------------------------------
     2621 0000022b 04e00000         cmpi      0,r0                  ; |341| 
     2622 0000022c 6a060003         bne       L95                   ; |341| 
     2623                   ;*      Branch Occurs to L95            ; |341| 
     2624                           .line   36
     2625                   ;----------------------------------------------------------------------
     2626                   ; 343 | r = FALSE;                                                             
     2627                   ;----------------------------------------------------------------------
     2628 0000022d 50600000         ldiu      0,r0                  ; |343| 
     2629 0000022e 15400306         sti       r0,*+fp(6)            ; |343| 
     2630                           .line   37
     2631                   ;----------------------------------------------------------------------
     2632                   ; 344 | break;                                                                 
     2633                   ;----------------------------------------------------------------------
     2634 0000022f 6a00003f         bu        L101                  ; |344| 
     2635                   ;*      Branch Occurs to L101           ; |344| 
     2636 00000230          L95:        
     2637                           .line   40
     2638                   ;----------------------------------------------------------------------
     2639                   ; 347 | for(i=0;i<16;i++)                                                      
     2640                   ;----------------------------------------------------------------------
     2641 00000230 50600000         ldiu      0,r0                  ; |347| 
     2642 00000231 15400303         sti       r0,*+fp(3)            ; |347| 
     2643 00000232 04e00010         cmpi      16,r0                 ; |347| 
     2644 00000233 6a0a0013         bge       L99                   ; |347| 
     2645                   ;*      Branch Occurs to L99            ; |347| 
     2646 00000234          L96:        
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   50

     2647                           .line   42
     2648                   ;----------------------------------------------------------------------
     2649                   ; 349 | ack = I2C_TX_BYTE(p[j*16+i]);                                          
     2650                   ;----------------------------------------------------------------------
     2651 00000234 50510304         ldiu      *+fp(4),ir0           ; |349| 
     2652 00000235 08700000-        ldp       @CL2,DP
     2653 00000236 03f10004         ash       4,ir0                 ; |349| 
     2654 00000237 50480303         ldiu      *+fp(3),ar0           ; |349| 
     2655 00000238 02510302         addi      *+fp(2),ir0           ; |349| Unsigned
     2656 00000239 502001cd-        ldiu      @CL2,r0               ; |349| 
     2657 0000023a 504a4000         ldiu      *+ar0(ir0),ar2        ; |349| 
     2658 0000023b 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |349| 
     2659                                                           ; |349| Far Call Occurs
     2660 0000023c 15400307         sti       r0,*+fp(7)            ; |349| 
     2661                           .line   43
     2662                   ;----------------------------------------------------------------------
     2663                   ; 350 | if (!ack)                                                              
     2664                   ;----------------------------------------------------------------------
     2665 0000023d 04e00000         cmpi      0,r0                  ; |350| 
     2666 0000023e 6a060003         bne       L98                   ; |350| 
     2667                   ;*      Branch Occurs to L98            ; |350| 
     2668                           .line   45
     2669                   ;----------------------------------------------------------------------
     2670                   ; 352 | r = FALSE;                                                             
     2671                   ;----------------------------------------------------------------------
     2672 0000023f 50600000         ldiu      0,r0                  ; |352| 
     2673 00000240 15400306         sti       r0,*+fp(6)            ; |352| 
     2674                           .line   46
     2675                   ;----------------------------------------------------------------------
     2676                   ; 353 | break;                                                                 
     2677                   ;----------------------------------------------------------------------
     2678 00000241 6a000005         bu        L99                   ; |353| 
     2679                   ;*      Branch Occurs to L99            ; |353| 
     2680 00000242          L98:        
     2681                           .line   40
     2682 00000242 50600001         ldiu      1,r0                  ; |347| 
     2683 00000243 02400303         addi      *+fp(3),r0            ; |347| 
     2684 00000244 15400303         sti       r0,*+fp(3)            ; |347| 
     2685 00000245 04e00010         cmpi      16,r0                 ; |347| 
     2686 00000246 6a07ffed         blt       L96                   ; |347| 
     2687                   ;*      Branch Occurs to L96            ; |347| 
     2688 00000247          L99:        
     2689                           .line   50
     2690                   ;----------------------------------------------------------------------
     2691                   ; 357 | if (r==FALSE) break;                                                   
     2692                   ;----------------------------------------------------------------------
     2693 00000247 50400306         ldiu      *+fp(6),r0            ; |357| 
     2694 00000248 04e00000         cmpi      0,r0                  ; |357| 
     2695 00000249 6a050025         beq       L101                  ; |357| 
     2696                   ;*      Branch Occurs to L101           ; |357| 
     2697                           .line   52
     2698                   ;----------------------------------------------------------------------
     2699                   ; 359 | I2C_STOP;                                                              
     2700                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   51

     2701 0000024a 08700000-        ldp       @CL1,DP
     2702 0000024b 502801cc-        ldiu      @CL1,ar0              ; |359| 
     2703 0000024c 50600002         ldiu      2,r0                  ; |359| 
     2704 0000024d 25a0c000         or3       r0,*ar0,r0            ; |359| 
     2705 0000024e 1540c000         sti       r0,*ar0               ; |359| 
     2706 0000024f 506000fe         ldiu      254,r0                ; |359| 
     2707 00000250 21a0c000         and3      r0,*ar0,r0            ; |359| 
     2708 00000251 1540c000         sti       r0,*ar0               ; |359| 
     2709 00000252 0f290000                 PUSH    AR1                     
     2710 00000253 08690032                 LDI             50,AR1          
     2711 00000254 6e46ffff                 .word   6E46FFFFh       
     2712 00000255 0e290000                 POP             AR1                     
     2713 00000256 50600004         ldiu      4,r0                  ; |359| 
     2714 00000257 25a0c000         or3       r0,*ar0,r0            ; |359| 
     2715 00000258 1540c000         sti       r0,*ar0               ; |359| 
     2716 00000259 506000f7         ldiu      247,r0                ; |359| 
     2717 0000025a 21a0c000         and3      r0,*ar0,r0            ; |359| 
     2718 0000025b 1540c000         sti       r0,*ar0               ; |359| 
     2719 0000025c 0f290000                 PUSH    AR1                     
     2720 0000025d 08690032                 LDI             50,AR1          
     2721 0000025e 6e46ffff                 .word   6E46FFFFh       
     2722 0000025f 0e290000                 POP             AR1                     
     2723 00000260 50600001         ldiu      1,r0                  ; |359| 
     2724 00000261 25a0c000         or3       r0,*ar0,r0            ; |359| 
     2725 00000262 1540c000         sti       r0,*ar0               ; |359| 
     2726 00000263 506000fd         ldiu      253,r0                ; |359| 
     2727 00000264 21a0c000         and3      r0,*ar0,r0            ; |359| 
     2728 00000265 1540c000         sti       r0,*ar0               ; |359| 
     2729 00000266 0f290000                 PUSH    AR1                     
     2730 00000267 08690032                 LDI             50,AR1          
     2731 00000268 6e46ffff                 .word   6E46FFFFh       
     2732 00000269 0e290000                 POP             AR1                     
     2733                           .line   15
     2734 0000026a 50600001         ldiu      1,r0                  ; |322| 
     2735 0000026b 02400304         addi      *+fp(4),r0            ; |322| 
     2736 0000026c 15400304         sti       r0,*+fp(4)            ; |322| 
     2737 0000026d 04e00010         cmpi      16,r0                 ; |322| 
     2738 0000026e 6a07ff5f         blt       L85                   ; |322| 
     2739                   ;*      Branch Occurs to L85            ; |322| 
     2740 0000026f          L101:        
     2741                           .line   55
     2742                   ;----------------------------------------------------------------------
     2743                   ; 362 | I2C_STOP;                                                              
     2744                   ;----------------------------------------------------------------------
     2745 0000026f 08700000-        ldp       @CL1,DP
     2746 00000270 502801cc-        ldiu      @CL1,ar0              ; |362| 
     2747 00000271 50600002         ldiu      2,r0                  ; |362| 
     2748 00000272 25a0c000         or3       r0,*ar0,r0            ; |362| 
     2749 00000273 1540c000         sti       r0,*ar0               ; |362| 
     2750 00000274 506000fe         ldiu      254,r0                ; |362| 
     2751 00000275 21a0c000         and3      r0,*ar0,r0            ; |362| 
     2752 00000276 1540c000         sti       r0,*ar0               ; |362| 
     2753 00000277 0f290000                 PUSH    AR1                     
     2754 00000278 08690032                 LDI             50,AR1          
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   52

     2755 00000279 6e46ffff                 .word   6E46FFFFh       
     2756 0000027a 0e290000                 POP             AR1                     
     2757 0000027b 50600004         ldiu      4,r0                  ; |362| 
     2758 0000027c 25a0c000         or3       r0,*ar0,r0            ; |362| 
     2759 0000027d 1540c000         sti       r0,*ar0               ; |362| 
     2760 0000027e 506000f7         ldiu      247,r0                ; |362| 
     2761 0000027f 21a0c000         and3      r0,*ar0,r0            ; |362| 
     2762 00000280 1540c000         sti       r0,*ar0               ; |362| 
     2763 00000281 0f290000                 PUSH    AR1                     
     2764 00000282 08690032                 LDI             50,AR1          
     2765 00000283 6e46ffff                 .word   6E46FFFFh       
     2766 00000284 0e290000                 POP             AR1                     
     2767 00000285 50600001         ldiu      1,r0                  ; |362| 
     2768 00000286 25a0c000         or3       r0,*ar0,r0            ; |362| 
     2769 00000287 1540c000         sti       r0,*ar0               ; |362| 
     2770 00000288 506000fd         ldiu      253,r0                ; |362| 
     2771 00000289 21a0c000         and3      r0,*ar0,r0            ; |362| 
     2772 0000028a 1540c000         sti       r0,*ar0               ; |362| 
     2773 0000028b 0f290000                 PUSH    AR1                     
     2774 0000028c 08690032                 LDI             50,AR1          
     2775 0000028d 6e46ffff                 .word   6E46FFFFh       
     2776 0000028e 0e290000                 POP             AR1                     
     2777                           .line   57
     2778                   ;----------------------------------------------------------------------
     2779                   ; 364 | GIEP;                                                                  
     2780                   ;----------------------------------------------------------------------
     2781 0000028f 0e350000         pop             ST                      
     2782                           .line   58
     2783                   ;----------------------------------------------------------------------
     2784                   ; 365 | return r;                                                              
     2785                   ;----------------------------------------------------------------------
     2786 00000290 50400306         ldiu      *+fp(6),r0            ; |365| 
     2787                           .line   59
     2788                                                           ; Begin Epilog Code
     2789 00000291 50410b01         ldiu      *-fp(1),r1            ; |366| 
     2790 00000292 504bc300         ldiu      *fp,fp                ; |366| 
     2791                                                           ; Unallocate the Frame
     2792 00000293 18740009         subi      9,sp                  ; |366| 
     2793 00000294 68000001         bu        r1
     2794                   ;*      Branch Occurs to r1 
     2795                           .endfunc        366,000000000h,7
     2796                   
     2797                   
     2798 00000295                  .sect    "internal_RAM"
     2799                   
     2800                           .global _Read_MC24C02_Record
     2801                           .sym    _Read_MC24C02_Record,_Read_MC24C02_Record,46,2,0
     2802                           .func   368
     2803                   ;******************************************************************************
     2804                   ;* FUNCTION NAME: _Read_MC24C02_Record                                        *
     2805                   ;*                                                                            *
     2806                   ;*   Architecture       : TMS320C33                                           *
     2807                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2808                   ;*   Function Uses Regs : r0,r2,ar0,ar2,st                                    *
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   53

     2809                   ;*   Regs Saved         :                                                     *
     2810                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2811                   ;*   Total Frame Size   : 2 Call + 0 Parm + 7 Auto + 0 SOE = 9 words          *
     2812                   ;******************************************************************************
     2813 00000295          _Read_MC24C02_Record:
     2814                   ;* ar2   assigned to _addr
     2815                           .sym    _addr,10,4,17,32
     2816                   ;* r2    assigned to _p
     2817                           .sym    _p,2,28,17,32
     2818                           .sym    _addr,1,4,1,32
     2819                           .sym    _p,2,28,1,32
     2820                           .sym    _i,3,4,1,32
     2821                           .sym    _j,4,4,1,32
     2822                           .sym    _k,5,4,1,32
     2823                           .sym    _r,6,4,1,32
     2824                           .sym    _ack,7,14,1,32
     2825                           .line   1
     2826                   ;----------------------------------------------------------------------
     2827                   ; 368 | BOOL Read_MC24C02_Record(int addr, unsigned char* p)                   
     2828                   ;----------------------------------------------------------------------
     2829 00000295 0f2b0000         push      fp
     2830 00000296 500b0014         ldiu      sp,fp
     2831 00000297 02740007         addi      7,sp
     2832                           .line   2
     2833                   ;----------------------------------------------------------------------
     2834                   ; 370 | int i,j,k,r;                                                           
     2835                   ; 371 | BOOL ack;                                                              
     2836                   ;----------------------------------------------------------------------
     2837 00000298 15420302         sti       r2,*+fp(2)            ; |369| 
     2838 00000299 154a0301         sti       ar2,*+fp(1)           ; |369| 
     2839                           .line   6
     2840                   ;----------------------------------------------------------------------
     2841                   ; 373 | _GIEP;                                                                 
     2842                   ;----------------------------------------------------------------------
     2843 0000029a 0f350000         push    ST                      
     2844 0000029b 03752000         andn    2000h, ST       
     2845                           .line   8
     2846                   ;----------------------------------------------------------------------
     2847                   ; 375 | r = TRUE;                                                              
     2848                   ;----------------------------------------------------------------------
     2849 0000029c 50600001         ldiu      1,r0                  ; |375| 
     2850 0000029d 15400306         sti       r0,*+fp(6)            ; |375| 
     2851                           .line   10
     2852                   ;----------------------------------------------------------------------
     2853                   ; 377 | for(j=0;j<16;j++)                                                      
     2854                   ;----------------------------------------------------------------------
     2855 0000029e 50600000         ldiu      0,r0                  ; |377| 
     2856 0000029f 15400304         sti       r0,*+fp(4)            ; |377| 
     2857 000002a0 04e00010         cmpi      16,r0                 ; |377| 
     2858 000002a1 6a0a00cb         bge       L120                  ; |377| 
     2859                   ;*      Branch Occurs to L120           ; |377| 
     2860 000002a2          L105:        
     2861                           .line   12
     2862                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   54

     2863                   ; 379 | k = 0;                                                                 
     2864                   ; 380 | while(1)                                                               
     2865                   ;----------------------------------------------------------------------
     2866 000002a2 50600000         ldiu      0,r0                  ; |379| 
     2867 000002a3 15400305         sti       r0,*+fp(5)            ; |379| 
     2868 000002a4          L106:        
     2869                           .line   15
     2870                   ;----------------------------------------------------------------------
     2871                   ; 382 | I2C_START;                                                             
     2872                   ;----------------------------------------------------------------------
     2873 000002a4 08700000-        ldp       @CL1,DP
     2874 000002a5 502801cc-        ldiu      @CL1,ar0              ; |382| 
     2875 000002a6 50600004         ldiu      4,r0                  ; |382| 
     2876 000002a7 25a0c000         or3       r0,*ar0,r0            ; |382| 
     2877 000002a8 1540c000         sti       r0,*ar0               ; |382| 
     2878 000002a9 50600001         ldiu      1,r0                  ; |382| 
     2879 000002aa 25a0c000         or3       r0,*ar0,r0            ; |382| 
     2880 000002ab 1540c000         sti       r0,*ar0               ; |382| 
     2881 000002ac 50600008         ldiu      8,r0                  ; |382| 
     2882 000002ad 25a0c000         or3       r0,*ar0,r0            ; |382| 
     2883 000002ae 1540c000         sti       r0,*ar0               ; |382| 
     2884 000002af 50600002         ldiu      2,r0                  ; |382| 
     2885 000002b0 25a0c000         or3       r0,*ar0,r0            ; |382| 
     2886 000002b1 1540c000         sti       r0,*ar0               ; |382| 
     2887 000002b2 0f290000                 PUSH    AR1                     
     2888 000002b3 08690032                 LDI             50,AR1          
     2889 000002b4 6e46ffff                 .word   6E46FFFFh       
     2890 000002b5 0e290000                 POP             AR1                     
     2891 000002b6 506000fe         ldiu      254,r0                ; |382| 
     2892 000002b7 21a0c000         and3      r0,*ar0,r0            ; |382| 
     2893 000002b8 1540c000         sti       r0,*ar0               ; |382| 
     2894 000002b9 0f290000                 PUSH    AR1                     
     2895 000002ba 08690032                 LDI             50,AR1          
     2896 000002bb 6e46ffff                 .word   6E46FFFFh       
     2897 000002bc 0e290000                 POP             AR1                     
     2898 000002bd 506000fb         ldiu      251,r0                ; |382| 
     2899 000002be 21a0c000         and3      r0,*ar0,r0            ; |382| 
     2900 000002bf 1540c000         sti       r0,*ar0               ; |382| 
     2901 000002c0 0f290000                 PUSH    AR1                     
     2902 000002c1 08690032                 LDI             50,AR1          
     2903 000002c2 6e46ffff                 .word   6E46FFFFh       
     2904 000002c3 0e290000                 POP             AR1                     
     2905                           .line   16
     2906                   ;----------------------------------------------------------------------
     2907                   ; 383 | ack = I2C_TX_BYTE(addr);                /* address without read bit set
     2908                   ;     |  */                                                                    
     2909                   ;----------------------------------------------------------------------
     2910 000002c4 08700000-        ldp       @CL2,DP
     2911 000002c5 502001cd-        ldiu      @CL2,r0               ; |383| 
     2912 000002c6 504a0301         ldiu      *+fp(1),ar2           ; |383| 
     2913 000002c7 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |383| 
     2914                                                           ; |383| Far Call Occurs
     2915 000002c8 15400307         sti       r0,*+fp(7)            ; |383| 
     2916                           .line   17
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   55

     2917                   ;----------------------------------------------------------------------
     2918                   ; 384 | if (!ack) k++;                                                         
     2919                   ;----------------------------------------------------------------------
     2920 000002c9 04e00000         cmpi      0,r0                  ; |384| 
     2921 000002ca 6a06002b         bne       L112                  ; |384| 
     2922                   ;*      Branch Occurs to L112           ; |384| 
     2923 000002cb 50600001         ldiu      1,r0                  ; |384| 
     2924 000002cc 02400305         addi      *+fp(5),r0            ; |384| 
     2925 000002cd 15400305         sti       r0,*+fp(5)            ; |384| 
     2926 000002ce 6a000000         bu        L109                  ; |367| 
     2927                   ;*      Branch Occurs to L109           ; |367| 
     2928                           .line   18
     2929                   ;----------------------------------------------------------------------
     2930                   ; 385 | else break;                                                            
     2931                   ;----------------------------------------------------------------------
     2932 000002cf          L109:        
     2933                           .line   19
     2934                   ;----------------------------------------------------------------------
     2935                   ; 386 | if (k>=50)                                                             
     2936                   ;----------------------------------------------------------------------
     2937 000002cf 50400305         ldiu      *+fp(5),r0            ; |386| 
     2938 000002d0 04e00032         cmpi      50,r0                 ; |386| 
     2939 000002d1 6a070003         blt       L111                  ; |386| 
     2940                   ;*      Branch Occurs to L111           ; |386| 
     2941                           .line   21
     2942                   ;----------------------------------------------------------------------
     2943                   ; 388 | r = FALSE;                                                             
     2944                   ;----------------------------------------------------------------------
     2945 000002d2 50600000         ldiu      0,r0                  ; |388| 
     2946 000002d3 15400306         sti       r0,*+fp(6)            ; |388| 
     2947                           .line   22
     2948                   ;----------------------------------------------------------------------
     2949                   ; 389 | break;                                                                 
     2950                   ;----------------------------------------------------------------------
     2951 000002d4 6a000021         bu        L112                  ; |389| 
     2952                   ;*      Branch Occurs to L112           ; |389| 
     2953 000002d5          L111:        
     2954                           .line   24
     2955                   ;----------------------------------------------------------------------
     2956                   ; 391 | I2C_STOP;                                                              
     2957                   ;----------------------------------------------------------------------
     2958 000002d5 08700000-        ldp       @CL1,DP
     2959 000002d6 502801cc-        ldiu      @CL1,ar0              ; |391| 
     2960 000002d7 50600002         ldiu      2,r0                  ; |391| 
     2961 000002d8 25a0c000         or3       r0,*ar0,r0            ; |391| 
     2962 000002d9 1540c000         sti       r0,*ar0               ; |391| 
     2963 000002da 506000fe         ldiu      254,r0                ; |391| 
     2964 000002db 21a0c000         and3      r0,*ar0,r0            ; |391| 
     2965 000002dc 1540c000         sti       r0,*ar0               ; |391| 
     2966 000002dd 0f290000                 PUSH    AR1                     
     2967 000002de 08690032                 LDI             50,AR1          
     2968 000002df 6e46ffff                 .word   6E46FFFFh       
     2969 000002e0 0e290000                 POP             AR1                     
     2970 000002e1 50600004         ldiu      4,r0                  ; |391| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   56

     2971 000002e2 25a0c000         or3       r0,*ar0,r0            ; |391| 
     2972 000002e3 1540c000         sti       r0,*ar0               ; |391| 
     2973 000002e4 506000f7         ldiu      247,r0                ; |391| 
     2974 000002e5 21a0c000         and3      r0,*ar0,r0            ; |391| 
     2975 000002e6 1540c000         sti       r0,*ar0               ; |391| 
     2976 000002e7 0f290000                 PUSH    AR1                     
     2977 000002e8 08690032                 LDI             50,AR1          
     2978 000002e9 6e46ffff                 .word   6E46FFFFh       
     2979 000002ea 0e290000                 POP             AR1                     
     2980 000002eb 50600001         ldiu      1,r0                  ; |391| 
     2981 000002ec 25a0c000         or3       r0,*ar0,r0            ; |391| 
     2982 000002ed 1540c000         sti       r0,*ar0               ; |391| 
     2983 000002ee 506000fd         ldiu      253,r0                ; |391| 
     2984 000002ef 21a0c000         and3      r0,*ar0,r0            ; |391| 
     2985 000002f0 1540c000         sti       r0,*ar0               ; |391| 
     2986 000002f1 0f290000                 PUSH    AR1                     
     2987 000002f2 08690032                 LDI             50,AR1          
     2988 000002f3 6e46ffff                 .word   6E46FFFFh       
     2989 000002f4 0e290000                 POP             AR1                     
     2990                           .line   25
     2991 000002f5 6a00ffae         bu        L106                  ; |392| 
     2992                   ;*      Branch Occurs to L106           ; |392| 
     2993 000002f6          L112:        
     2994                           .line   26
     2995                   ;----------------------------------------------------------------------
     2996                   ; 393 | if (r==FALSE) break;                                                   
     2997                   ;----------------------------------------------------------------------
     2998 000002f6 50400306         ldiu      *+fp(6),r0            ; |393| 
     2999 000002f7 04e00000         cmpi      0,r0                  ; |393| 
     3000 000002f8 6a050074         beq       L120                  ; |393| 
     3001                   ;*      Branch Occurs to L120           ; |393| 
     3002                           .line   28
     3003                   ;----------------------------------------------------------------------
     3004                   ; 395 | ack = I2C_TX_BYTE(j*16);                        /* set the pointer */  
     3005                   ;----------------------------------------------------------------------
     3006 000002f9 504a0304         ldiu      *+fp(4),ar2           ; |395| 
     3007 000002fa 08700000-        ldp       @CL2,DP
     3008 000002fb 03ea0004         ash       4,ar2                 ; |395| 
     3009 000002fc 502001cd-        ldiu      @CL2,r0               ; |395| 
     3010 000002fd 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |395| 
     3011                                                           ; |395| Far Call Occurs
     3012 000002fe 15400307         sti       r0,*+fp(7)            ; |395| 
     3013                           .line   29
     3014                   ;----------------------------------------------------------------------
     3015                   ; 396 | if (!ack)                                                              
     3016                   ;----------------------------------------------------------------------
     3017 000002ff 04e00000         cmpi      0,r0                  ; |396| 
     3018 00000300 6a060003         bne       L115                  ; |396| 
     3019                   ;*      Branch Occurs to L115           ; |396| 
     3020                           .line   31
     3021                   ;----------------------------------------------------------------------
     3022                   ; 398 | r = FALSE;                                                             
     3023                   ;----------------------------------------------------------------------
     3024 00000301 50600000         ldiu      0,r0                  ; |398| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   57

     3025 00000302 15400306         sti       r0,*+fp(6)            ; |398| 
     3026                           .line   32
     3027                   ;----------------------------------------------------------------------
     3028                   ; 399 | break;                                                                 
     3029                   ;----------------------------------------------------------------------
     3030 00000303 6a000069         bu        L120                  ; |399| 
     3031                   ;*      Branch Occurs to L120           ; |399| 
     3032 00000304          L115:        
     3033                           .line   35
     3034                   ;----------------------------------------------------------------------
     3035                   ; 402 | I2C_START;                                                             
     3036                   ;----------------------------------------------------------------------
     3037 00000304 08700000-        ldp       @CL1,DP
     3038 00000305 502801cc-        ldiu      @CL1,ar0              ; |402| 
     3039 00000306 50600004         ldiu      4,r0                  ; |402| 
     3040 00000307 25a0c000         or3       r0,*ar0,r0            ; |402| 
     3041 00000308 1540c000         sti       r0,*ar0               ; |402| 
     3042 00000309 50600001         ldiu      1,r0                  ; |402| 
     3043 0000030a 25a0c000         or3       r0,*ar0,r0            ; |402| 
     3044 0000030b 1540c000         sti       r0,*ar0               ; |402| 
     3045 0000030c 50600008         ldiu      8,r0                  ; |402| 
     3046 0000030d 25a0c000         or3       r0,*ar0,r0            ; |402| 
     3047 0000030e 1540c000         sti       r0,*ar0               ; |402| 
     3048 0000030f 50600002         ldiu      2,r0                  ; |402| 
     3049 00000310 25a0c000         or3       r0,*ar0,r0            ; |402| 
     3050 00000311 1540c000         sti       r0,*ar0               ; |402| 
     3051 00000312 0f290000                 PUSH    AR1                     
     3052 00000313 08690032                 LDI             50,AR1          
     3053 00000314 6e46ffff                 .word   6E46FFFFh       
     3054 00000315 0e290000                 POP             AR1                     
     3055 00000316 506000fe         ldiu      254,r0                ; |402| 
     3056 00000317 21a0c000         and3      r0,*ar0,r0            ; |402| 
     3057 00000318 1540c000         sti       r0,*ar0               ; |402| 
     3058 00000319 0f290000                 PUSH    AR1                     
     3059 0000031a 08690032                 LDI             50,AR1          
     3060 0000031b 6e46ffff                 .word   6E46FFFFh       
     3061 0000031c 0e290000                 POP             AR1                     
     3062 0000031d 506000fb         ldiu      251,r0                ; |402| 
     3063 0000031e 21a0c000         and3      r0,*ar0,r0            ; |402| 
     3064 0000031f 1540c000         sti       r0,*ar0               ; |402| 
     3065 00000320 0f290000                 PUSH    AR1                     
     3066 00000321 08690032                 LDI             50,AR1          
     3067 00000322 6e46ffff                 .word   6E46FFFFh       
     3068 00000323 0e290000                 POP             AR1                     
     3069                           .line   37
     3070                   ;----------------------------------------------------------------------
     3071                   ; 404 | ack = I2C_TX_BYTE(addr|0x01);           /* address with read bit set */
     3072                   ;----------------------------------------------------------------------
     3073 00000324 08700000-        ldp       @CL2,DP
     3074 00000325 506a0001         ldiu      1,ar2                 ; |404| 
     3075 00000326 502001cd-        ldiu      @CL2,r0               ; |404| 
     3076 00000327 104a0301         or        *+fp(1),ar2           ; |404| 
     3077 00000328 70000000         callu     r0                    ; far call to _I2C_TX_BYTE      ; |404| 
     3078                                                           ; |404| Far Call Occurs
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   58

     3079 00000329 15400307         sti       r0,*+fp(7)            ; |404| 
     3080                           .line   38
     3081                   ;----------------------------------------------------------------------
     3082                   ; 405 | if (!ack)                                                              
     3083                   ;----------------------------------------------------------------------
     3084 0000032a 04e00000         cmpi      0,r0                  ; |405| 
     3085 0000032b 6a060003         bne       L117                  ; |405| 
     3086                   ;*      Branch Occurs to L117           ; |405| 
     3087                           .line   40
     3088                   ;----------------------------------------------------------------------
     3089                   ; 407 | r = FALSE;                                                             
     3090                   ;----------------------------------------------------------------------
     3091 0000032c 50600000         ldiu      0,r0                  ; |407| 
     3092 0000032d 15400306         sti       r0,*+fp(6)            ; |407| 
     3093                           .line   41
     3094                   ;----------------------------------------------------------------------
     3095                   ; 408 | break;                                                                 
     3096                   ;----------------------------------------------------------------------
     3097 0000032e 6a00003e         bu        L120                  ; |408| 
     3098                   ;*      Branch Occurs to L120           ; |408| 
     3099 0000032f          L117:        
     3100                           .line   44
     3101                   ;----------------------------------------------------------------------
     3102                   ; 411 | for (i=0;i<15;i++)                                                     
     3103                   ;----------------------------------------------------------------------
     3104 0000032f 50600000         ldiu      0,r0                  ; |411| 
     3105 00000330 15400303         sti       r0,*+fp(3)            ; |411| 
     3106 00000331 04e0000f         cmpi      15,r0                 ; |411| 
     3107 00000332 6a0a000d         bge       L119                  ; |411| 
     3108                   ;*      Branch Occurs to L119           ; |411| 
     3109 00000333          L118:        
     3110                           .line   46
     3111                   ;----------------------------------------------------------------------
     3112                   ; 413 | I2C_RX_BYTE(&p[j*16+i],1);              /* read the bytes , WITH ACK*/ 
     3113                   ;----------------------------------------------------------------------
     3114 00000333 504a0304         ldiu      *+fp(4),ar2           ; |413| 
     3115 00000334 08700000-        ldp       @CL3,DP
     3116 00000335 03ea0004         ash       4,ar2                 ; |413| 
     3117 00000336 024a0302         addi      *+fp(2),ar2           ; |413| Unsigned
     3118 00000337 502001ce-        ldiu      @CL3,r0               ; |413| 
     3119 00000338 024a0303         addi      *+fp(3),ar2           ; |413| Unsigned
     3120 00000339 50620001         ldiu      1,r2                  ; |413| 
     3121 0000033a 70000000         callu     r0                    ; far call to _I2C_RX_BYTE      ; |413| 
     3122                                                           ; |413| Far Call Occurs
     3123                           .line   44
     3124 0000033b 50600001         ldiu      1,r0                  ; |411| 
     3125 0000033c 02400303         addi      *+fp(3),r0            ; |411| 
     3126 0000033d 15400303         sti       r0,*+fp(3)            ; |411| 
     3127 0000033e 04e0000f         cmpi      15,r0                 ; |411| 
     3128 0000033f 6a07fff3         blt       L118                  ; |411| 
     3129                   ;*      Branch Occurs to L118           ; |411| 
     3130 00000340          L119:        
     3131                           .line   49
     3132                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   59

     3133                   ; 416 | I2C_RX_BYTE(&p[j*16+i],0);                      /* the final byte to re
     3134                   ;     | ad, WITH NO ACK */                                                     
     3135                   ;----------------------------------------------------------------------
     3136 00000340 504a0304         ldiu      *+fp(4),ar2           ; |416| 
     3137 00000341 08700000-        ldp       @CL3,DP
     3138 00000342 03ea0004         ash       4,ar2                 ; |416| 
     3139 00000343 024a0302         addi      *+fp(2),ar2           ; |416| Unsigned
     3140 00000344 502001ce-        ldiu      @CL3,r0               ; |416| 
     3141 00000345 024a0303         addi      *+fp(3),ar2           ; |416| Unsigned
     3142 00000346 50620000         ldiu      0,r2                  ; |416| 
     3143 00000347 70000000         callu     r0                    ; far call to _I2C_RX_BYTE      ; |416| 
     3144                                                           ; |416| Far Call Occurs
     3145                           .line   51
     3146                   ;----------------------------------------------------------------------
     3147                   ; 418 | I2C_STOP;                                                              
     3148                   ;----------------------------------------------------------------------
     3149 00000348 08700000-        ldp       @CL1,DP
     3150 00000349 502801cc-        ldiu      @CL1,ar0              ; |418| 
     3151 0000034a 50600002         ldiu      2,r0                  ; |418| 
     3152 0000034b 25a0c000         or3       r0,*ar0,r0            ; |418| 
     3153 0000034c 1540c000         sti       r0,*ar0               ; |418| 
     3154 0000034d 506000fe         ldiu      254,r0                ; |418| 
     3155 0000034e 21a0c000         and3      r0,*ar0,r0            ; |418| 
     3156 0000034f 1540c000         sti       r0,*ar0               ; |418| 
     3157 00000350 0f290000                 PUSH    AR1                     
     3158 00000351 08690032                 LDI             50,AR1          
     3159 00000352 6e46ffff                 .word   6E46FFFFh       
     3160 00000353 0e290000                 POP             AR1                     
     3161 00000354 50600004         ldiu      4,r0                  ; |418| 
     3162 00000355 25a0c000         or3       r0,*ar0,r0            ; |418| 
     3163 00000356 1540c000         sti       r0,*ar0               ; |418| 
     3164 00000357 506000f7         ldiu      247,r0                ; |418| 
     3165 00000358 21a0c000         and3      r0,*ar0,r0            ; |418| 
     3166 00000359 1540c000         sti       r0,*ar0               ; |418| 
     3167 0000035a 0f290000                 PUSH    AR1                     
     3168 0000035b 08690032                 LDI             50,AR1          
     3169 0000035c 6e46ffff                 .word   6E46FFFFh       
     3170 0000035d 0e290000                 POP             AR1                     
     3171 0000035e 50600001         ldiu      1,r0                  ; |418| 
     3172 0000035f 25a0c000         or3       r0,*ar0,r0            ; |418| 
     3173 00000360 1540c000         sti       r0,*ar0               ; |418| 
     3174 00000361 506000fd         ldiu      253,r0                ; |418| 
     3175 00000362 21a0c000         and3      r0,*ar0,r0            ; |418| 
     3176 00000363 1540c000         sti       r0,*ar0               ; |418| 
     3177 00000364 0f290000                 PUSH    AR1                     
     3178 00000365 08690032                 LDI             50,AR1          
     3179 00000366 6e46ffff                 .word   6E46FFFFh       
     3180 00000367 0e290000                 POP             AR1                     
     3181                           .line   10
     3182 00000368 50600001         ldiu      1,r0                  ; |377| 
     3183 00000369 02400304         addi      *+fp(4),r0            ; |377| 
     3184 0000036a 15400304         sti       r0,*+fp(4)            ; |377| 
     3185 0000036b 04e00010         cmpi      16,r0                 ; |377| 
     3186 0000036c 6a07ff35         blt       L105                  ; |377| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   60

     3187                   ;*      Branch Occurs to L105           ; |377| 
     3188 0000036d          L120:        
     3189                           .line   54
     3190                   ;----------------------------------------------------------------------
     3191                   ; 421 | I2C_STOP;                                                              
     3192                   ;----------------------------------------------------------------------
     3193 0000036d 08700000-        ldp       @CL1,DP
     3194 0000036e 502801cc-        ldiu      @CL1,ar0              ; |421| 
     3195 0000036f 50600002         ldiu      2,r0                  ; |421| 
     3196 00000370 25a0c000         or3       r0,*ar0,r0            ; |421| 
     3197 00000371 1540c000         sti       r0,*ar0               ; |421| 
     3198 00000372 506000fe         ldiu      254,r0                ; |421| 
     3199 00000373 21a0c000         and3      r0,*ar0,r0            ; |421| 
     3200 00000374 1540c000         sti       r0,*ar0               ; |421| 
     3201 00000375 0f290000                 PUSH    AR1                     
     3202 00000376 08690032                 LDI             50,AR1          
     3203 00000377 6e46ffff                 .word   6E46FFFFh       
     3204 00000378 0e290000                 POP             AR1                     
     3205 00000379 50600004         ldiu      4,r0                  ; |421| 
     3206 0000037a 25a0c000         or3       r0,*ar0,r0            ; |421| 
     3207 0000037b 1540c000         sti       r0,*ar0               ; |421| 
     3208 0000037c 506000f7         ldiu      247,r0                ; |421| 
     3209 0000037d 21a0c000         and3      r0,*ar0,r0            ; |421| 
     3210 0000037e 1540c000         sti       r0,*ar0               ; |421| 
     3211 0000037f 0f290000                 PUSH    AR1                     
     3212 00000380 08690032                 LDI             50,AR1          
     3213 00000381 6e46ffff                 .word   6E46FFFFh       
     3214 00000382 0e290000                 POP             AR1                     
     3215 00000383 50600001         ldiu      1,r0                  ; |421| 
     3216 00000384 25a0c000         or3       r0,*ar0,r0            ; |421| 
     3217 00000385 1540c000         sti       r0,*ar0               ; |421| 
     3218 00000386 506000fd         ldiu      253,r0                ; |421| 
     3219 00000387 21a0c000         and3      r0,*ar0,r0            ; |421| 
     3220 00000388 1540c000         sti       r0,*ar0               ; |421| 
     3221 00000389 0f290000                 PUSH    AR1                     
     3222 0000038a 08690032                 LDI             50,AR1          
     3223 0000038b 6e46ffff                 .word   6E46FFFFh       
     3224 0000038c 0e290000                 POP             AR1                     
     3225                           .line   56
     3226                   ;----------------------------------------------------------------------
     3227                   ; 423 | GIEP;                                                                  
     3228                   ;----------------------------------------------------------------------
     3229 0000038d 0e350000         pop             ST                      
     3230                           .line   58
     3231                   ;----------------------------------------------------------------------
     3232                   ; 425 | return r;                                                              
     3233                   ;----------------------------------------------------------------------
     3234 0000038e 50400306         ldiu      *+fp(6),r0            ; |425| 
     3235                           .line   59
     3236                                                           ; Begin Epilog Code
     3237 0000038f 50410b01         ldiu      *-fp(1),r1            ; |426| 
     3238 00000390 504bc300         ldiu      *fp,fp                ; |426| 
     3239                                                           ; Unallocate the Frame
     3240 00000391 18740009         subi      9,sp                  ; |426| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   61

     3241 00000392 68000001         bu        r1
     3242                   ;*      Branch Occurs to r1 
     3243                           .endfunc        426,000000000h,7
     3244                   
     3245                   
     3246                   
     3247                           .global _LCD_CNT
     3248 00000000                  .bss    _LCD_CNT,1
     3249                           .sym    _LCD_CNT,_LCD_CNT,14,2,32
     3250                   
     3251                           .global _RTC
     3252 00000001                  .bss    _RTC,10
     3253                           .sym    _RTC,_RTC,60,2,320,,10
     3254                   
     3255                           .global _LCD
     3256 0000000b                  .bss    _LCD,2
     3257                           .sym    _LCD,_LCD,60,2,64,,2
     3258                   
     3259                           .global _RTC_PRESENT
     3260 0000000d                  .bss    _RTC_PRESENT,1
     3261                           .sym    _RTC_PRESENT,_RTC_PRESENT,14,2,32
     3262                   
     3263                           .global _MB_LCD_DISPLAY
     3264 0000000e                  .bss    _MB_LCD_DISPLAY,40
     3265                           .sym    _MB_LCD_DISPLAY,_MB_LCD_DISPLAY,52,2,1280,,40
     3266                   
     3267                           .global _LCD_PRESENT
     3268 00000036                  .bss    _LCD_PRESENT,1
     3269                           .sym    _LCD_PRESENT,_LCD_PRESENT,14,2,32
     3270                   
     3271                           .global _LCD_DISPLAY
     3272 00000037                  .bss    _LCD_DISPLAY,404
     3273                           .sym    _LCD_DISPLAY,_LCD_DISPLAY,242,2,12928,,4,101
     3274                   
     3275                           .global _LCD_DIPSW
     3276 000001cb                  .bss    _LCD_DIPSW,1
     3277                           .sym    _LCD_DIPSW,_LCD_DIPSW,12,2,32
     3278                   ;******************************************************************************
     3279                   ;* CONSTANT TABLE                                                             *
     3280                   ;******************************************************************************
     3281 00000000                  .sect   ".const"
     3282 000001cc                  .bss    CL1,1
     3283 000001cd                  .bss    CL2,1
     3284 000001ce                  .bss    CL3,1
     3285 000001cf                  .bss    CL4,1
     3286 000001d0                  .bss    CL5,1
     3287 000001d1                  .bss    CL6,1
     3288 000001d2                  .bss    CL7,1
     3289 000001d3                  .bss    CL8,1
     3290 000001d4                  .bss    CL9,1
     3291 000001d5                  .bss    CL10,1
     3292 000001d6                  .bss    CL11,1
     3293                   
     3294 00000000                  .sect   ".cinit"
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   62

     3295 00000000 0000000b         .field          11,32
     3296 00000001 000001cc-        .field          CL1+0,32
     3297 00000002 00900002         .field          9437186,32
     3298 00000003 00000000+        .field          _I2C_TX_BYTE,32
     3299 00000004 0000005c+        .field          _I2C_RX_BYTE,32
     3300 00000005 00000000'        .field          _Write_DS1340,32
     3301 00000006 00000001-        .field          _RTC,32
     3302 00000007 0000007c'        .field          _Read_DS1340,32
     3303 00000008 0000000d-        .field          _RTC_PRESENT,32
     3304 00000009 00000002-        .field          _RTC+1,32
     3305 0000000a 00000000!        .field          _DIAGNOSTICS,32
     3306 0000000b 0000000a-        .field          _RTC+9,32
     3307 0000000c 00000003-        .field          _RTC+2,32
     3308                   
     3309 000000fc                  .sect   ".text"
     3310                   ;******************************************************************************
     3311                   ;* UNDEFINED EXTERNAL REFERENCES                                              *
     3312                   ;******************************************************************************
     3313                   
     3314                           .global _DIAGNOSTICS

 No Errors,  No Warnings
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   63

LABEL                            VALUE       DEFN    REF

.BIGMODEL                        00000001       0 
.C30                             00000000       0 
.C30INTERRUPT                    00000000       0 
.C31                             00000000       0 
.C32                             00000000       0 
.C33                             00000001       0 
.C3X                             00000001       0 
.C3x                             00000001       0 
.C40                             00000000       0 
.C44                             00000000       0 
.C4X                             00000000       0 
.C4x                             00000000       0 
.REGPARM                         00000001       0 
.TMS320C30                       00000001       0 
.TMS320C31                       00000000       0 
.TMS320C32                       00000000       0 
.TMS320C40                       00000000       0 
.TMS320C44                       00000000       0 
.TMS320xx                        00000021       0 
.tms320C30                       00000001       0 
.tms320C31                       00000000       0 
.tms320C32                       00000000       0 
.tms320C40                       00000000       0 
.tms320C44                       00000000       0 
.tms320xx                        00000021       0 
.tmx320C40                       00000000       0 
CL1                              000001cc-   3282    732    733    744    745 
                                                     754    755    789    790 
                                                     848    849    932    933 
                                                     951    952    980    981 
                                                    1019   1020   1037   1038 
                                                    1049   1050   1059   1060 
                                                    1150   1151   1311   1312 
                                                    1417   1418   1577   1578 
                                                    1688   1689   1848   1849 
                                                    1992   1993   2120   2121 
                                                    2477   2478   2562   2563 
                                                    2701   2702   2745   2746 
                                                    2873   2874   2958   2959 
                                                    3037   3038   3149   3150 
                                                    3193   3194   3296 
CL10                             000001d5-   3291   2313   2314 
CL11                             000001d6-   3292   2325   2326   2344   2345 
CL2                              000001cd-   3283   1193   1195   1224   1226 
                                                    1264   1267   1461   1463 
                                                    1492   1494   1731   1733 
                                                    1761   1763   1801   1804 
                                                    2035   2037   2514   2515 
                                                    2611   2613   2652   2656 
                                                    2910   2911   3007   3009 
                                                    3073   3075 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   64

LABEL                            VALUE       DEFN    REF

CL3                              000001ce-   3284   1536   1538   1558   1560 
                                                    2095   2098   3115   3118 
                                                    3137   3140 
CL4                              000001cf-   3285   1964   1965   2303   2305 
                                                    2315   2317   2346   2348 
CL5                              000001d0-   3286   2212   2214   2293   2294 
                                                    2302   2335   2336 
CL6                              000001d1-   3287   2209   2210 
CL7                              000001d2-   3288   2229   2230   2252   2253 
CL8                              000001d3-   3289   2260   2261 
CL9                              000001d4-   3290   2271   2272   2283   2284 
FP                               0000000b       7 
L101                             0000026f+   2740   2462   2604   2634   2695 
L105                             000002a2+   2860   3186 
L106                             000002a4+   2868   2991 
L109                             000002cf+   2932   2926 
L111                             000002d5+   2953   2939 
L112                             000002f6+   2993   2921   2951 
L115                             00000304+   3032   3018 
L117                             0000032f+   3099   3085 
L118                             00000333+   3109   3128 
L119                             00000340+   3130   3107 
L120                             0000036d+   3188   2858   3000   3030   3097 
L13                              0000006c+    946   1005 
L15                              0000007b+    975    970 
L16                              0000008c+   1007    944 
L18                              0000009d+   1044   1030 
L19                              000000a2+   1054   1042 
L2                               0000000a+    718    782 
L24                              000000ed+   1218   1204 
L26                              000000f7+   1249   1235 
L27                              000000fb+   1259   1297 
L29                              00000107+   1291   1277 
L32                              0000010d+   1306   1216   1247   1257   1289 
                                                    1303 
L37                              00000167+   1486   1472 
L39                              00000171+   1517   1503 
L4                               00000013+    739    725 
L40                              00000178+   1530   1550 
L41                              00000186+   1552   1528 
L43                              0000018e+   1572   1484   1515   1569 
L48                              00000036'   1756   1742 
L5                               00000018+    749    737 
L50                              00000040'   1786   1772 
L51                              00000044'   1796   1834 
L53                              00000050'   1828   1814 
L56                              00000056'   1843   1754   1784   1794   1826 
                                                    1840 
L6                               00000030+    784    716 
L61                              00000091'   1986   1970 
L63                              000000bd'   2060   2046 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   65

LABEL                            VALUE       DEFN    REF

L64                              000000c3'   2076   2106 
L66                              000000ca'   2089   2085 
L69                              000000d6'   2115   2058   2074   2112 
L70                              000000f8'   2162   1981 
L74                              00000018+   2247   2223 
L76                              00000027+   2278   2264 
L77                              0000002c+   2288   2276 
L79                              0000004f+   2352   2329 
L8                               00000049+    836    830 
L80                              00000051+   2363   2242 
L83                              000001bf+   2432   2446 
L84                              000001c8+   2448   2430 
L85                              000001ce+   2464   2738 
L86                              000001d0+   2472   2595 
L89                              000001fb+   2536   2530 
L9                               0000004b+    843    834 
L91                              00000201+   2557   2543 
L92                              00000222+   2597   2525   2555 
L95                              00000230+   2636   2622 
L96                              00000234+   2646   2686 
L98                              00000242+   2680   2666 
L99                              00000247+   2688   2644   2678 
_DIAGNOSTICS                     REF                3305   3314 
_I2C_RX_BYTE                     0000005c+    899    886    887    887   3299 
_I2C_TX_BYTE                     00000000+    682    669    670    670   3298 
_LCD                             0000000b-   3256   3255   3257   3257 
_LCD_CNT                         00000000-   3248   3247   3249   3249 
_LCD_DIPSW                       000001cb-   3276   3275   3277   3277 
_LCD_DISPLAY                     00000037-   3272   3271   3273   3273 
_LCD_PRESENT                     00000036-   3268   3267   3269   3269 
_MB_LCD_DISPLAY                  0000000e-   3264   3263   3265   3265 
_RTC                             00000001-   3252   3251   3253   3253   3301 
                                                    3304   3306   3307 
_RTC_PRESENT                     0000000d-   3260   3259   3261   3261   3303 
_RTC_setup                       00000000+   2189   2176   2177   2177 
_Read_DS1340                     0000007c'   1916   1903   1904   1904   3302 
_Read_I2C                        00000132+   1374   1361   1362   1362 
_Read_MC24C02_Record             00000295+   2813   2800   2801   2801 
_Write_DS1340                    00000000'   1640   1627   1628   1628   3300 
_Write_I2C                       000000b9+   1108   1095   1096   1096 
_Write_MC24C02_Record            000001b3+   2390   2377   2378   2378 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 10:49:17 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_66S.AAB 

i2c.asm                                                              PAGE   66

LABEL                            VALUE       DEFN    REF

fp                               0000000b       6   1668   1669   1670   1682 
                                                    1726   1736   1749   1762 
                                                    1766   1779   1792   1793 
                                                    1802   1803   1808   1821 
                                                    1831   1832   1833   1889 
                                                    1892   1893   1893   1935 
                                                    1936   1945   1946   1947 
                                                    1959   2030   2040   2053 
                                                    2066   2072   2073   2082 
                                                    2083   2088   2094   2096 
                                                    2097   2103   2104   2105 
                                                    2161   2165   2166   2166 
                                                    2196   2197   2217   2245 
                                                    2366   2367   2367   2406 
                                                    2407   2414   2415   2427 
                                                    2437   2438   2443   2444 
                                                    2454   2460   2471   2516 
                                                    2519   2528   2529   2541 
                                                    2550   2602   2610   2616 
                                                    2629   2642   2651   2654 
                                                    2655   2660   2673   2683 
                                                    2684   2693   2735   2736 
                                                    2786   2789   2790   2790 
                                                    2829   2830   2837   2838 
                                                    2850   2856   2867   2912 
                                                    2915   2924   2925   2937 
                                                    2946   2998   3006   3012 
                                                    3025   3076   3079   3092 
                                                    3105   3114   3117   3119 
                                                    3125   3126   3136   3139 
                                                    3141   3183   3184   3234 
                                                    3237   3238   3238 
