;******************************************************************************
;* TMS320C3x/4x ANSI C Code Generator                            Version 5.11 *
;* Date/Time created: Mon Oct 31 11:29:48 2011                                *
;******************************************************************************
	.regalias	; enable floating point register aliases
fp	.set	ar3
FP	.set	ar3
;******************************************************************************
;* GLOBAL FILE PARAMETERS                                                     *
;*                                                                            *
;*   Optimization       : Always Choose Smaller Code Size                     *
;*   Memory             : Big Memory Model                                    *
;*   Float-to-Int       : Normal Conversions (round toward zero)              *
;*   Multiply           : in Software (32 bits)                               *
;*   Memory Info        : Unmapped Memory Exists                              *
;*   Repeat Loops       : Use RPTS and/or RPTB                                *
;*   Calls              : Normal Library ASM calls                            *
;*   Debug Info         : Standard TI Debug Information                       *
;******************************************************************************
;	C:\tic3x4x\c3x4x\cgtools\bin\ac30.exe -@_4KO.AAA 
	.file	"serial.c"
	.file	"D:\CCS\EEA_SA_V611beta\INCLUDE\ETC.H"
	.sym	_BOOL,0,14,13,32
	.file	"D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\BUFFER.H"
	.stag	.fake0,131744
	.member	_head,0,4,8,32
	.member	_tail,32,4,8,32
	.member	_n,64,4,8,32
	.member	_CRC16,96,14,8,32
	.member	_buff,128,62,8,131584,,4112
	.member	_locked,131712,14,8,32
	.eos
	.sym	_BFR,0,8,13,131744,.fake0
	.file	"D:\CCS\EEA_SA_V611beta\INCLUDE\FLASH.H"
	.file	"D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\SERIAL.H"
	.stag	.fake1,263936
	.member	_STAT,0,12,8,32
	.member	_TMR_Network_WDOG,32,14,8,32
	.member	_TMR_EOT_Delay,64,14,8,32
	.member	_TMR_Preamble_Delay,96,14,8,32
	.member	_TMR_Suffix_Delay,128,14,8,32
	.member	_TMR_Char,160,14,8,32
	.member	_TMR_enabled,192,14,8,32
	.member	_tvector,224,20,8,32
	.member	_pvector,256,20,8,32
	.member	_i,288,14,8,32
	.member	_func,320,14,8,32
	.member	_Slave_ID,352,14,8,32
	.member	_TXbuf,384,8,8,131744,.fake0
	.member	_TX_complete,132128,14,8,32
	.member	_RXbuf,132160,8,8,131744,.fake0
	.member	_RX_pending,263904,14,8,32
	.eos
	.sym	_PORTV,0,8,13,263936,.fake1
	.file	"D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\MODBUSRTU.H"
	.file	"D:\CCS\EEA_SA_V611beta\INCLUDE\I2C.H"
	.file	"D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\GLBLS.H"
	.file	"serial.c"
	.sect	 ".text"

	.global	_Setup_UART
	.sym	_Setup_UART,_Setup_UART,36,2,0
	.func	14
;******************************************************************************
;* FUNCTION NAME: _Setup_UART                                                 *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : f0,r0,f1,r1,f2,ar0,ar1,ar2,ir0,st                   *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 6 Auto + 0 SOE = 8 words          *
;******************************************************************************
_Setup_UART:
;* ar2   assigned to _baud
	.sym	_baud,10,4,17,32
	.sym	_baud,1,4,1,32
	.sym	_div,2,4,1,32
	.sym	_n,3,7,1,32
	.sym	_temp,4,7,1,32
	.sym	_u,5,12,1,32
	.sym	_id,6,4,1,32
	.line	1
;----------------------------------------------------------------------
;  14 | int Setup_UART(int baud)                                               
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      6,sp
	.line	2
;----------------------------------------------------------------------
;  16 | int     div;                                                           
;  17 | double n;                                                              
;  18 | double temp;                                                           
;  19 | unsigned char u;                                                       
;  20 | int id;                                                                
;----------------------------------------------------------------------
        sti       ar2,*+fp(1)           ; |15| 
	.line	9
;----------------------------------------------------------------------
;  22 | _GIEP;                                                                 
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	.line	11
;----------------------------------------------------------------------
;  24 | n = (double)11.0;                                                      
;----------------------------------------------------------------------
        ldfu      1.1000000000e+01,f0   ; |24| 
        stf       f0,*+fp(3)            ; |24| 
	.line	13
;----------------------------------------------------------------------
;  26 | for (id=0;id<UART_MAX;id++)                                            
;----------------------------------------------------------------------
        ldiu      0,r0                  ; |26| 
        sti       r0,*+fp(6)            ; |26| 
        cmpi      8,r0                  ; |26| 
        bge       L15                   ; |26| 
;*      Branch Occurs to L15            ; |26| 
L2:        
	.line	16
;----------------------------------------------------------------------
;  29 | NOPS; UART[id][IER] = 0x00;             /* disable interrupts */       
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
        ldiu      *+fp(6),ir0           ; |29| 
        ldp       @CL1,DP
        ash       4,ir0                 ; |29| 
        ldiu      @CL1,ar0              ; |29| 
        ldiu      0,r0                  ; |29| 
        sti       r0,*+ar0(ir0)         ; |29| 
	.line	17
;----------------------------------------------------------------------
;  30 | NOPS; UART[id][MCR] = 0x08;             /* enable the INT pin (remove f
;     | rom 3-state) */                                                        
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
        ldp       @CL2,DP
        ldiu      *+fp(6),ir0           ; |30| 
        ldiu      @CL2,ar0              ; |30| 
        ash       4,ir0                 ; |30| 
        ldiu      8,r0                  ; |30| 
        sti       r0,*+ar0(ir0)         ; |30| 
	.line	19
;----------------------------------------------------------------------
;  32 | if (HW_VER&0x80)                                                       
;  34 |         switch (id)                                                    
;----------------------------------------------------------------------
        ldp       @CL3,DP
        ldiu      @CL3,ar0              ; |32| 
        ldiu      128,r0                ; |32| 
        tstb3     *ar0,r0               ; |32| 
        beq       L11                   ; |32| 
;*      Branch Occurs to L11            ; |32| 
        bu        L7                    ; |13| 
;*      Branch Occurs to L7             ; |13| 
L4:        
	.line	23
;----------------------------------------------------------------------
;  36 | case 0: DISABLE_TXA; break;                                            
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL4,DP
        ldiu      @CL4,ar0              ; |36| 
        ldiu      8,r0                  ; |36| 
        or3       r0,*ar0,r0            ; |36| 
        sti       r0,*ar0               ; |36| 
	pop		ST			
        bu        L14                   ; |36| 
;*      Branch Occurs to L14            ; |36| 
L5:        
	.line	24
;----------------------------------------------------------------------
;  37 | case 1: DISABLE_TXB; break;                                            
;  40 | else                                                                   
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL4,DP
        ldiu      @CL4,ar0              ; |37| 
        ldiu      1,r0                  ; |37| 
        or3       r0,*ar0,r0            ; |37| 
        sti       r0,*ar0               ; |37| 
	pop		ST			
        bu        L14                   ; |37| 
;*      Branch Occurs to L14            ; |37| 
L7:        
	.line	21
        ldiu      *+fp(6),r0            ; |34| 
        cmpi      0,r0                  ; |34| 
        beq       L4                    ; |34| 
;*      Branch Occurs to L4             ; |34| 
        cmpi      1,r0                  ; |34| 
        beq       L5                    ; |34| 
;*      Branch Occurs to L5             ; |34| 
        bu        L14                   ; |34| 
;*      Branch Occurs to L14            ; |34| 
L11:        
	.line	29
;----------------------------------------------------------------------
;  42 | if (id==4)                                                             
;----------------------------------------------------------------------
        ldiu      *+fp(6),r0            ; |42| 
        cmpi      4,r0                  ; |42| 
        bne       L13                   ; |42| 
;*      Branch Occurs to L13            ; |42| 
	.line	31
;----------------------------------------------------------------------
;  44 | NOPS; UART[id][LCR] |= 0x40;            /* set break */                
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
        ldiu      r0,ar0
        ldp       @CL5,DP
        ash       4,ar0                 ; |44| 
        addi      @CL5,ar0              ; |44| Unsigned
        ldiu      64,r0                 ; |44| 
        or        *+ar0(3),r0           ; |44| 
        sti       r0,*+ar0(3)           ; |44| 
L13:        
	.line	34
;----------------------------------------------------------------------
;  47 | NOPS; UART[id][MCR] &= 0xFE;                    /* disable TX */       
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
        ldiu      *+fp(6),ar0           ; |47| 
        ldp       @CL5,DP
        ash       4,ar0                 ; |47| 
        addi      @CL5,ar0              ; |47| Unsigned
        ldiu      254,r0                ; |47| 
        and       *+ar0(4),r0           ; |47| 
        sti       r0,*+ar0(4)           ; |47| 
L14:        
	.line	13
        ldiu      1,r0                  ; |26| 
        addi      *+fp(6),r0            ; |26| 
        sti       r0,*+fp(6)            ; |26| 
        cmpi      8,r0                  ; |26| 
        blt       L2                    ; |26| 
;*      Branch Occurs to L2             ; |26| 
L15:        
	.line	38
;----------------------------------------------------------------------
;  51 | if (HW_VER&0x80)                                                       
;----------------------------------------------------------------------
        ldp       @CL3,DP
        ldiu      @CL3,ar0              ; |51| 
        ldiu      128,r0                ; |51| 
        tstb3     *ar0,r0               ; |51| 
        beq       L17                   ; |51| 
;*      Branch Occurs to L17            ; |51| 
	.line	40
;----------------------------------------------------------------------
;  53 | BOOTPORT = 1;                                                          
;  55 | else                                                                   
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar0              ; |53| 
        ldiu      1,r0                  ; |53| 
        sti       r0,*ar0               ; |53| 
        bu        L20                   ; |13| 
;*      Branch Occurs to L20            ; |13| 
L17:        
	.line	44
;----------------------------------------------------------------------
;  57 | BOOTPORT = 7;                                                          
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar0              ; |57| 
        ldiu      7,r0                  ; |57| 
        sti       r0,*ar0               ; |57| 
	.line	45
;----------------------------------------------------------------------
;  58 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	46
;----------------------------------------------------------------------
;  59 | UART[BOOTPORT][SPR] = 0xAA;                                            
;----------------------------------------------------------------------
        ldiu      @CL6,ar1              ; |59| 
        ldp       @CL7,DP
        ldiu      4,r0                  ; |59| 
        ldiu      @CL7,ar0              ; |59| 
        ash3      r0,*ar1,ir0           ; |59| 
        ldiu      170,r0                ; |59| 
        sti       r0,*+ar0(ir0)         ; |59| 
	.line	47
;----------------------------------------------------------------------
;  60 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	48
;----------------------------------------------------------------------
;  61 | UART[BOOTPORT][SPR+1] = 0xFF; /* this write will affect the bus-keepers
;     |  */                                                                    
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar1              ; |61| 
        ldp       @CL8,DP
        ldiu      4,r0                  ; |61| 
        ldiu      @CL8,ar0              ; |61| 
        ash3      r0,*ar1,ir0           ; |61| 
        ldiu      255,r0                ; |61| 
        sti       r0,*+ar0(ir0)         ; |61| 
	.line	49
;----------------------------------------------------------------------
;  62 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	50
;----------------------------------------------------------------------
;  63 | u = UART[BOOTPORT][SPR] & 0xFF;                                        
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar1              ; |63| 
        ldp       @CL7,DP
        ldiu      4,r0                  ; |63| 
        ldiu      @CL7,ar0              ; |63| 
        ash3      r0,*ar1,ir0           ; |63| 
        ldiu      255,r0                ; |63| 
        and3      r0,*+ar0(ir0),r0      ; |63| 
        sti       r0,*+fp(5)            ; |63| 
	.line	51
;----------------------------------------------------------------------
;  64 | if (u!=0xAA)                                                           
;----------------------------------------------------------------------
        cmpi      170,r0                ; |64| 
        beq       L19                   ; |64| 
;*      Branch Occurs to L19            ; |64| 
	.line	53
;----------------------------------------------------------------------
;  66 | BOOTPORT = 0;                                                          
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar0              ; |66| 
        ldiu      0,r0                  ; |66| 
        sti       r0,*ar0               ; |66| 
L19:        
	.line	55
;----------------------------------------------------------------------
;  68 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	56
;----------------------------------------------------------------------
;  69 | UART[BOOTPORT][SPR] = 0x00;                                            
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      4,r0                  ; |69| 
        ldiu      @CL6,ar1              ; |69| 
        ldp       @CL7,DP
        ash3      r0,*ar1,ir0           ; |69| 
        ldiu      @CL7,ar0              ; |69| 
        ldiu      0,r0                  ; |69| 
        sti       r0,*+ar0(ir0)         ; |69| 
L20:        
	.line	59
;----------------------------------------------------------------------
;  72 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	60
;----------------------------------------------------------------------
;  73 | UART[BOOTPORT][LCR] = 0x00;                                            
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      4,r0                  ; |73| 
        ldiu      @CL6,ar1              ; |73| 
        ldp       @CL9,DP
        ash3      r0,*ar1,ir0           ; |73| 
        ldiu      @CL9,ar0              ; |73| 
        ldiu      0,r0                  ; |73| 
        sti       r0,*+ar0(ir0)         ; |73| 
	.line	62
;----------------------------------------------------------------------
;  75 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	63
;----------------------------------------------------------------------
;  76 | UART[BOOTPORT][LCR] |= 0x03;                                           
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar0              ; |76| 
        ldiu      4,r0                  ; |76| 
        ldp       @CL5,DP
        ash3      r0,*ar0,ar0           ; |76| 
        addi      @CL5,ar0              ; |76| Unsigned
        ldiu      3,r0                  ; |76| 
        or        *+ar0(3),r0           ; |76| 
        sti       r0,*+ar0(3)           ; |76| 
	.line	65
;----------------------------------------------------------------------
;  78 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	66
;----------------------------------------------------------------------
;  79 | UART[BOOTPORT][LCR] |= 0x08;                                           
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar0              ; |79| 
        ldiu      4,r0                  ; |79| 
        ldp       @CL5,DP
        ash3      r0,*ar0,ar0           ; |79| 
        addi      @CL5,ar0              ; |79| Unsigned
        ldiu      8,r0                  ; |79| 
        or        *+ar0(3),r0           ; |79| 
        sti       r0,*+ar0(3)           ; |79| 
	.line	68
;----------------------------------------------------------------------
;  81 | temp = (UART_CLOCK/baud/16.0);                                         
;----------------------------------------------------------------------
        ldp       @CL10,DP
        ldiu      @CL10,ar0             ; |81| 
        ldp       @CL11,DP
        float     *ar0,f0               ; |81| 
        ldflt     @CL11,f1              ; |81| 
        ldfge     0.0000000000e+00,f1   ; |81| 
        ldp       @CL12,DP
        addf3     f0,f1,f0              ; |81| 
        mpyf      @CL12,f0              ; |81| 
        float     *+fp(1),f1            ; |81| 
        call      DIV_F30               ; |81| 
                                        ; |81| Call Occurs
        ldp       @CL13,DP
        mpyf      @CL13,f0              ; |81| 
        stf       f0,*+fp(4)            ; |81| 
	.line	69
;----------------------------------------------------------------------
;  82 | div = f_ciel(temp);                                                    
;----------------------------------------------------------------------
        ldp       @CL14,DP
        ldfu      f0,f2
        ldiu      @CL14,r0              ; |82| 
        callu     r0                    ; far call to _f_ciel	; |82| 
                                        ; |82| Far Call Occurs
        ldfu      f0,f1                 ; |82| 
        negf      f1,f0                 ; |82| 
        fix       f1,r1                 ; |82| 
        fix       f0,r0                 ; |82| 
        negi      r0,r0                 ; |82| 
        ldile     r0,r1                 ; |82| 
        sti       r1,*+fp(2)            ; |82| 
	.line	74
;----------------------------------------------------------------------
;  87 | Set_Baud(div);                                                         
;----------------------------------------------------------------------
        ldp       @CL15,DP
        ldiu      r1,ar2
        ldiu      @CL15,r0              ; |87| 
        callu     r0                    ; far call to _Set_Baud	; |87| 
                                        ; |87| Far Call Occurs
	.line	76
;----------------------------------------------------------------------
;  89 | Clear_RX();                                                            
;----------------------------------------------------------------------
        ldp       @CL16,DP
        ldiu      @CL16,r0              ; |89| 
        callu     r0                    ; far call to _Clear_RX	; |89| 
                                        ; |89| Far Call Occurs
	.line	77
;----------------------------------------------------------------------
;  90 | Clear(&PORT.TXbuf);                                                    
;----------------------------------------------------------------------
        ldp       @CL18,DP
        ldiu      @CL18,r0              ; |90| 
        ldp       @CL17,DP
        ldiu      @CL17,ar2             ; |90| 
        callu     r0                    ; far call to _Clear	; |90| 
                                        ; |90| Far Call Occurs
	.line	78
;----------------------------------------------------------------------
;  91 | PORT.TX_complete = TRUE;                                               
;----------------------------------------------------------------------
        ldp       @CL19,DP
        ldiu      @CL19,ar0             ; |91| 
        ldiu      1,r0                  ; |91| 
        sti       r0,*ar0               ; |91| 
	.line	80
;----------------------------------------------------------------------
;  93 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	81
;----------------------------------------------------------------------
;  94 | UART[BOOTPORT][FCR] = 0x07;     /* enable FIFOs(16) RxTrig = 1 */      
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar0              ; |94| 
        ldiu      4,r0                  ; |94| 
        ldp       @CL20,DP
        ash3      r0,*ar0,ir0           ; |94| 
        ldiu      @CL20,ar1             ; |94| 
        ldiu      7,r0                  ; |94| 
        sti       r0,*+ar1(ir0)         ; |94| 
	.line	83
;----------------------------------------------------------------------
;  96 | NOPS; UART[BOOTPORT][IER] = 0x01;       /* enable RHR, disable THR inte
;     | rrupts */                                                              
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
        ldp       @CL6,DP
        ldiu      @CL6,ar1              ; |96| 
        ldp       @CL1,DP
        ldiu      4,r0                  ; |96| 
        ldiu      @CL1,ar0              ; |96| 
        ash3      r0,*ar1,ir0           ; |96| 
        ldiu      1,r0                  ; |96| 
        sti       r0,*+ar0(ir0)         ; |96| 
	.line	84
;----------------------------------------------------------------------
;  97 | NOPS; UART[BOOTPORT][MCR] |= 0x08;      /* enable INT */               
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
        ldp       @CL6,DP
        ldiu      4,r0                  ; |97| 
        ldiu      @CL6,ar0              ; |97| 
        ldp       @CL5,DP
        ash3      r0,*ar0,ar0           ; |97| 
        addi      @CL5,ar0              ; |97| Unsigned
        ldiu      8,r0                  ; |97| 
        or        *+ar0(4),r0           ; |97| 
        sti       r0,*+ar0(4)           ; |97| 
	.line	86
;----------------------------------------------------------------------
;  99 | temp = n*NETWDOG/baud/TIME1;                                           
;----------------------------------------------------------------------
        ldfu      *+fp(3),f0            ; |99| 
        mpyf      2.0000000000e+02,f0   ; |99| 
        float     *+fp(1),f1            ; |99| 
        call      DIV_F30               ; |99| 
                                        ; |99| Call Occurs
        ldp       @CL21,DP
        ldiu      @CL21,ar0             ; |99| 
        ldfu      *ar0,f1               ; |99| 
        call      DIV_F30               ; |99| 
                                        ; |99| Call Occurs
        stf       f0,*+fp(4)            ; |99| 
	.line	87
;----------------------------------------------------------------------
; 100 | temp = f_ciel(temp);                                                   
;----------------------------------------------------------------------
        ldp       @CL14,DP
        ldfu      f0,f2
        ldiu      @CL14,r0              ; |100| 
        callu     r0                    ; far call to _f_ciel	; |100| 
                                        ; |100| Far Call Occurs
        stf       f0,*+fp(4)            ; |100| 
	.line	88
;----------------------------------------------------------------------
; 101 | PORT.TMR_Network_WDOG = temp;                                          
;----------------------------------------------------------------------
        ldp       @CL22,DP
        ldiu      @CL22,ar0             ; |101| 
        ldp       @CL23,DP
        cmpf      @CL23,f0              ; |101| 
        ldp       @CL11,DP
        ldflt     0.0000000000e+00,f1   ; |101| 
        ldfge     @CL11,f1              ; |101| 
        subrf     f0,f1                 ; |101| 
        fix       f1,r0                 ; |101| 
        sti       r0,*ar0               ; |101| 
	.line	90
;----------------------------------------------------------------------
; 103 | temp = n*EOT/baud/TIME1;                                               
;----------------------------------------------------------------------
        ldfu      *+fp(3),f0            ; |103| 
        mpyf      5.0000000000e+01,f0   ; |103| 
        float     *+fp(1),f1            ; |103| 
        call      DIV_F30               ; |103| 
                                        ; |103| Call Occurs
        ldp       @CL21,DP
        ldiu      @CL21,ar0             ; |103| 
        ldfu      *ar0,f1               ; |103| 
        call      DIV_F30               ; |103| 
                                        ; |103| Call Occurs
        stf       f0,*+fp(4)            ; |103| 
	.line	91
;----------------------------------------------------------------------
; 104 | temp = f_ciel(temp);                                                   
;----------------------------------------------------------------------
        ldp       @CL14,DP
        ldfu      f0,f2
        ldiu      @CL14,r0              ; |104| 
        callu     r0                    ; far call to _f_ciel	; |104| 
                                        ; |104| Far Call Occurs
        stf       f0,*+fp(4)            ; |104| 
	.line	92
;----------------------------------------------------------------------
; 105 | PORT.TMR_EOT_Delay = temp;                                             
;----------------------------------------------------------------------
        ldp       @CL24,DP
        ldiu      @CL24,ar0             ; |105| 
        ldp       @CL23,DP
        cmpf      @CL23,f0              ; |105| 
        ldp       @CL11,DP
        ldflt     0.0000000000e+00,f1   ; |105| 
        ldfge     @CL11,f1              ; |105| 
        subrf     f0,f1                 ; |105| 
        fix       f1,r0                 ; |105| 
        sti       r0,*ar0               ; |105| 
	.line	94
;----------------------------------------------------------------------
; 107 | temp = n*PREFIX/baud/TIME1;                                            
;----------------------------------------------------------------------
        ldfu      *+fp(3),f0            ; |107| 
        mpyf      3.0000000000e+00,f0   ; |107| 
        float     *+fp(1),f1            ; |107| 
        call      DIV_F30               ; |107| 
                                        ; |107| Call Occurs
        ldp       @CL21,DP
        ldiu      @CL21,ar0             ; |107| 
        ldfu      *ar0,f1               ; |107| 
        call      DIV_F30               ; |107| 
                                        ; |107| Call Occurs
        stf       f0,*+fp(4)            ; |107| 
	.line	95
;----------------------------------------------------------------------
; 108 | temp = f_ciel(temp);                                                   
;----------------------------------------------------------------------
        ldp       @CL14,DP
        ldfu      f0,f2
        ldiu      @CL14,r0              ; |108| 
        callu     r0                    ; far call to _f_ciel	; |108| 
                                        ; |108| Far Call Occurs
        stf       f0,*+fp(4)            ; |108| 
	.line	96
;----------------------------------------------------------------------
; 109 | PORT.TMR_Preamble_Delay = temp;                                        
;----------------------------------------------------------------------
        ldp       @CL25,DP
        ldiu      @CL25,ar0             ; |109| 
        ldp       @CL23,DP
        ldfu      f0,f1                 ; |109| 
        cmpf      @CL23,f1              ; |109| 
        ldp       @CL11,DP
        ldflt     0.0000000000e+00,f0   ; |109| 
        ldfge     @CL11,f0              ; |109| 
        subrf     f1,f0                 ; |109| 
        fix       f0,r0                 ; |109| 
        sti       r0,*ar0               ; |109| 
	.line	98
;----------------------------------------------------------------------
; 111 | temp = n*SUFFIX/baud/TIME1;                                            
;----------------------------------------------------------------------
        ldfu      *+fp(3),f0            ; |111| 
        mpyf      3.0000000000e+00,f0   ; |111| 
        float     *+fp(1),f1            ; |111| 
        call      DIV_F30               ; |111| 
                                        ; |111| Call Occurs
        ldp       @CL21,DP
        ldiu      @CL21,ar0             ; |111| 
        ldfu      *ar0,f1               ; |111| 
        call      DIV_F30               ; |111| 
                                        ; |111| Call Occurs
        stf       f0,*+fp(4)            ; |111| 
	.line	99
;----------------------------------------------------------------------
; 112 | temp = f_ciel(temp);                                                   
;----------------------------------------------------------------------
        ldp       @CL14,DP
        ldfu      f0,f2
        ldiu      @CL14,r0              ; |112| 
        callu     r0                    ; far call to _f_ciel	; |112| 
                                        ; |112| Far Call Occurs
        stf       f0,*+fp(4)            ; |112| 
	.line	100
;----------------------------------------------------------------------
; 113 | PORT.TMR_Suffix_Delay = temp;                                          
;----------------------------------------------------------------------
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |113| 
        ldp       @CL23,DP
        ldfu      f0,f1                 ; |113| 
        cmpf      @CL23,f1              ; |113| 
        ldp       @CL11,DP
        ldflt     0.0000000000e+00,f0   ; |113| 
        ldfge     @CL11,f0              ; |113| 
        subrf     f1,f0                 ; |113| 
        fix       f0,r0                 ; |113| 
        sti       r0,*ar0               ; |113| 
	.line	102
;----------------------------------------------------------------------
; 115 | temp = n/baud/TIME1;                                                   
;----------------------------------------------------------------------
        ldfu      *+fp(3),f0            ; |115| 
        float     *+fp(1),f1            ; |115| 
        call      DIV_F30               ; |115| 
                                        ; |115| Call Occurs
        ldp       @CL21,DP
        ldiu      @CL21,ar0             ; |115| 
        ldfu      *ar0,f1               ; |115| 
        call      DIV_F30               ; |115| 
                                        ; |115| Call Occurs
        stf       f0,*+fp(4)            ; |115| 
	.line	103
;----------------------------------------------------------------------
; 116 | temp = f_ciel(temp);                                                   
;----------------------------------------------------------------------
        ldp       @CL14,DP
        ldfu      f0,f2
        ldiu      @CL14,r0              ; |116| 
        callu     r0                    ; far call to _f_ciel	; |116| 
                                        ; |116| Far Call Occurs
        stf       f0,*+fp(4)            ; |116| 
	.line	104
;----------------------------------------------------------------------
; 117 | PORT.TMR_Char = temp;                                                  
;----------------------------------------------------------------------
        ldp       @CL27,DP
        ldiu      @CL27,ar0             ; |117| 
        ldp       @CL23,DP
        ldfu      f0,f1                 ; |117| 
        cmpf      @CL23,f1              ; |117| 
        ldp       @CL11,DP
        ldflt     0.0000000000e+00,f0   ; |117| 
        ldfge     @CL11,f0              ; |117| 
        subrf     f1,f0                 ; |117| 
        fix       f0,r0                 ; |117| 
        sti       r0,*ar0               ; |117| 
	.line	106
;----------------------------------------------------------------------
; 119 | ENABLE_INT0;                                                           
;----------------------------------------------------------------------
	or		0001h, IE
	.line	107
;----------------------------------------------------------------------
; 120 | ENABLE_EXTINT0;                                                        
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL28,DP
        ldiu      @CL28,ar0             ; |120| 
        ldiu      1,r0                  ; |120| 
        or3       r0,*ar0,r0            ; |120| 
        sti       r0,*ar0               ; |120| 
	pop		ST			
	.line	109
;----------------------------------------------------------------------
; 122 | PORT.TMR_enabled = FALSE;                                              
;----------------------------------------------------------------------
        ldp       @CL29,DP
        ldiu      @CL29,ar0             ; |122| 
        ldiu      0,r0                  ; |122| 
        sti       r0,*ar0               ; |122| 
	.line	111
;----------------------------------------------------------------------
; 124 | GIEP;                                                                  
;----------------------------------------------------------------------
	pop		ST			
	.line	112
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1
        ldiu      *fp,fp
                                        ; Unallocate the Frame
        subi      8,sp
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	125,000000000h,6


	.sect	 ".text"

	.global	_Clear_RX
	.sym	_Clear_RX,_Clear_RX,32,2,0
	.func	127
;******************************************************************************
;* FUNCTION NAME: _Clear_RX                                                   *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,ar0,ar1,ar2,ir0,st                               *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
;******************************************************************************
_Clear_RX:
	.line	1
;----------------------------------------------------------------------
; 127 | void Clear_RX()                                                        
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
	.line	3
;----------------------------------------------------------------------
; 129 | _GIEP;                                                                 
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	.line	4
;----------------------------------------------------------------------
; 130 | PORT.RX_pending = FALSE;                                               
;----------------------------------------------------------------------
        ldp       @CL30,DP
        ldiu      @CL30,ar0             ; |130| 
        ldiu      0,r0                  ; |130| 
        sti       r0,*ar0               ; |130| 
	.line	5
;----------------------------------------------------------------------
; 131 | PORT.STAT = 0x00;                                                      
;----------------------------------------------------------------------
        ldp       @CL31,DP
        ldiu      @CL31,ar0             ; |131| 
        sti       r0,*ar0               ; |131| 
	.line	6
;----------------------------------------------------------------------
; 132 | Clear(&PORT.RXbuf);                                                    
;----------------------------------------------------------------------
        ldp       @CL18,DP
        ldiu      @CL18,r0              ; |132| 
        ldp       @CL32,DP
        ldiu      @CL32,ar2             ; |132| 
        callu     r0                    ; far call to _Clear	; |132| 
                                        ; |132| Far Call Occurs
	.line	7
;----------------------------------------------------------------------
; 133 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	8
;----------------------------------------------------------------------
; 134 | UART[BOOTPORT][FCR] = 0x07;     /* clear FIFOS */                      
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar0              ; |134| 
        ldp       @CL20,DP
        ldiu      4,r0                  ; |134| 
        ldiu      @CL20,ar1             ; |134| 
        ash3      r0,*ar0,ir0           ; |134| 
        ldiu      7,r0                  ; |134| 
        sti       r0,*+ar1(ir0)         ; |134| 
	.line	9
;----------------------------------------------------------------------
; 135 | GIEP;                                                                  
;----------------------------------------------------------------------
	pop		ST			
	.line	11
;----------------------------------------------------------------------
; 137 | if (HW_VER&0x80)                                                       
;----------------------------------------------------------------------
        ldp       @CL3,DP
        ldiu      @CL3,ar0              ; |137| 
        ldiu      128,r0                ; |137| 
        tstb3     *ar0,r0               ; |137| 
        beq       L26                   ; |137| 
;*      Branch Occurs to L26            ; |137| 
	.line	13
;----------------------------------------------------------------------
; 139 | DISABLE_TXB;                                                           
; 141 | else                                                                   
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL4,DP
        ldiu      @CL4,ar0              ; |139| 
        ldiu      1,r0                  ; |139| 
        or3       r0,*ar0,r0            ; |139| 
        sti       r0,*ar0               ; |139| 
	pop		ST			
        bu        L27                   ; |126| 
;*      Branch Occurs to L27            ; |126| 
L26:        
	.line	17
;----------------------------------------------------------------------
; 143 | NOPS; UART[BOOTPORT][MCR] &= 0xFE;                      /* disable TX *
;     | /                                                                      
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
        ldp       @CL6,DP
        ldiu      4,r0                  ; |143| 
        ldiu      @CL6,ar0              ; |143| 
        ldp       @CL5,DP
        ash3      r0,*ar0,ar0           ; |143| 
        addi      @CL5,ar0              ; |143| Unsigned
        ldiu      254,r0                ; |143| 
        and       *+ar0(4),r0           ; |143| 
        sti       r0,*+ar0(4)           ; |143| 
L27:        
	.line	19
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1
        ldiu      *fp,fp
                                        ; Unallocate the Frame
        subi      2,sp
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	145,000000000h,0


	.sect	 ".text"

	.global	_Set_Baud
	.sym	_Set_Baud,_Set_Baud,36,2,0
	.func	147
;******************************************************************************
;* FUNCTION NAME: _Set_Baud                                                   *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,r1,ar0,ar1,ar2,ir0                               *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
;******************************************************************************
_Set_Baud:
;* ar2   assigned to _div
	.sym	_div,10,4,17,32
	.sym	_div,1,4,1,32
	.sym	_temp1,2,12,1,32
	.line	1
;----------------------------------------------------------------------
; 147 | int Set_Baud(int div)                                                  
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      2,sp
	.line	2
;----------------------------------------------------------------------
; 149 | unsigned char temp1;                                                   
;----------------------------------------------------------------------
        sti       ar2,*+fp(1)           ; |148| 
	.line	5
;----------------------------------------------------------------------
; 151 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	6
;----------------------------------------------------------------------
; 152 | temp1 = UART[BOOTPORT][LCR];                                           
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar0              ; |152| 
        ldp       @CL9,DP
        ldiu      4,r0                  ; |152| 
        ldiu      @CL9,ar1              ; |152| 
        ash3      r0,*ar0,ir0           ; |152| 
        ldiu      *+ar1(ir0),r0         ; |152| 
        sti       r0,*+fp(2)            ; |152| 
	.line	7
;----------------------------------------------------------------------
; 153 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	8
;----------------------------------------------------------------------
; 154 | UART[BOOTPORT][LCR] = 0x80;                                            
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar1              ; |154| 
        ldp       @CL9,DP
        ldiu      @CL9,ar0              ; |154| 
        ldiu      4,r0                  ; |154| 
        ash3      r0,*ar1,ir0           ; |154| 
        ldiu      128,r0                ; |154| 
        sti       r0,*+ar0(ir0)         ; |154| 
	.line	9
;----------------------------------------------------------------------
; 155 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	10
;----------------------------------------------------------------------
; 156 | UART[BOOTPORT][DLL] = (unsigned char)div;                              
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar1              ; |156| 
        ldp       @CL5,DP
        ldiu      4,r0                  ; |156| 
        ldiu      @CL5,ar0              ; |156| 
        ash3      r0,*ar1,ir0           ; |156| 
        ldiu      *+fp(1),r0            ; |156| 
        sti       r0,*+ar0(ir0)         ; |156| 
	.line	11
;----------------------------------------------------------------------
; 157 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	12
;----------------------------------------------------------------------
; 158 | UART[BOOTPORT][DLM] = (unsigned char)(div>>8);                         
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      4,r1                  ; |158| 
        ldiu      @CL6,ar1              ; |158| 
        ldp       @CL1,DP
        ldiu      *+fp(1),r0            ; |158| 
        ldiu      @CL1,ar0              ; |158| 
        ash3      r1,*ar1,ir0           ; |158| 
        ash       -8,r0                 ; |158| 
        sti       r0,*+ar0(ir0)         ; |158| 
	.line	13
;----------------------------------------------------------------------
; 159 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	14
;----------------------------------------------------------------------
; 160 | UART[BOOTPORT][LCR] = temp1;                                           
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar1              ; |160| 
        ldp       @CL9,DP
        ldiu      @CL9,ar0              ; |160| 
        ash3      r1,*ar1,ir0           ; |160| 
        ldiu      *+fp(2),r0            ; |160| 
        sti       r0,*+ar0(ir0)         ; |160| 
	.line	15
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1
        ldiu      *fp,fp
                                        ; Unallocate the Frame
        subi      4,sp
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	161,000000000h,2


	.sect	 ".text"

	.global	_Process_UINT
	.sym	_Process_UINT,_Process_UINT,32,2,0
	.func	163
;******************************************************************************
;* FUNCTION NAME: _Process_UINT                                               *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,r1,r2,ar0,ar1,ar2,ir0,st                         *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
;******************************************************************************
_Process_UINT:
	.sym	_i,1,4,1,32
	.sym	_j,2,4,1,32
	.sym	_LINEstatus,3,14,1,32
	.sym	_INTstatus,4,14,1,32
	.line	1
;----------------------------------------------------------------------
; 163 | void Process_UINT(void)                                                
; 165 | int i;                                                                 
; 166 | int j;                                                                 
; 167 | unsigned int LINEstatus;                                               
; 168 | unsigned int INTstatus;                                                
; 170 | while (TRUE)                                                           
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      4,sp
L33:        
	.line	10
;----------------------------------------------------------------------
; 172 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	11
;----------------------------------------------------------------------
; 173 | INTstatus = UART[BOOTPORT][ISR] & 0x0F;                                
; 175 | switch(INTstatus)                                                      
; 177 |         case 0x02:      /* THR interrupt */                            
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      4,r0                  ; |173| 
        ldiu      @CL6,ar0              ; |173| 
        ldp       @CL20,DP
        ash3      r0,*ar0,ir0           ; |173| 
        ldiu      @CL20,ar1             ; |173| 
        ldiu      15,r0                 ; |173| 
        and3      r0,*+ar1(ir0),r0      ; |173| 
        sti       r0,*+fp(4)            ; |173| 
        bu        L49                   ; |162| 
;*      Branch Occurs to L49            ; |162| 
L34:        
	.line	17
;----------------------------------------------------------------------
; 179 | if      (PORT.TX_complete) break;                                      
;----------------------------------------------------------------------
        ldp       @CL19,DP
        ldiu      @CL19,ar0             ; |179| 
        ldiu      *ar0,r0               ; |179| 
        cmpi      0,r0                  ; |179| 
        bne       L33                   ; |179| 
;*      Branch Occurs to L33            ; |179| 
	.line	19
;----------------------------------------------------------------------
; 181 | if (PORT.TXbuf.n<=0)                                                   
;----------------------------------------------------------------------
        ldp       @CL33,DP
        ldiu      @CL33,ar0             ; |181| 
        ldiu      *ar0,r0               ; |181| 
        cmpi      0,r0                  ; |181| 
        bgt       L37                   ; |181| 
;*      Branch Occurs to L37            ; |181| 
	.line	21
;----------------------------------------------------------------------
; 183 | TIMER1_COUNTER = PORT.TMR_Suffix_Delay + PORT.TMR_Char;                
;----------------------------------------------------------------------
        ldp       @CL27,DP
        ldiu      @CL27,ar0             ; |183| 
        ldp       @CL26,DP
        ldiu      @CL26,ar1             ; |183| 
        ldp       @CL34,DP
        ldiu      @CL34,ar2             ; |183| 
        addi3     *ar0,*ar1,r0          ; |183| Unsigned
        sti       r0,*ar2               ; |183| 
	.line	22
;----------------------------------------------------------------------
; 184 | PORT.TMR_enabled = TRUE;        /* enable suffix timer */              
; 186 | else                                                                   
;----------------------------------------------------------------------
        ldp       @CL29,DP
        ldiu      @CL29,ar0             ; |184| 
        ldiu      1,r0                  ; |184| 
        sti       r0,*ar0               ; |184| 
        bu        L33                   ; |162| 
;*      Branch Occurs to L33            ; |162| 
L37:        
	.line	26
;----------------------------------------------------------------------
; 188 | for (i=0;i<FIFOSIZE-1;i++)                                             
;----------------------------------------------------------------------
        ldiu      0,r0                  ; |188| 
        sti       r0,*+fp(1)            ; |188| 
        cmpi      15,r0                 ; |188| 
        bge       L33                   ; |188| 
;*      Branch Occurs to L33            ; |188| 
L38:        
	.line	28
;----------------------------------------------------------------------
; 190 | if (PORT.TXbuf.n>0)                                                    
;----------------------------------------------------------------------
        ldp       @CL33,DP
        ldiu      @CL33,ar0             ; |190| 
        ldiu      *ar0,r0               ; |190| 
        cmpi      0,r0                  ; |190| 
        ble       L33                   ; |190| 
;*      Branch Occurs to L33            ; |190| 
	.line	30
;----------------------------------------------------------------------
; 192 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	31
;----------------------------------------------------------------------
; 193 | UART[BOOTPORT][THR] = Get(&PORT.TXbuf);                                
; 195 | else                                                                   
;----------------------------------------------------------------------
        ldp       @CL35,DP
        ldiu      @CL35,r0              ; |193| 
        ldp       @CL17,DP
        ldiu      @CL17,ar2             ; |193| 
        callu     r0                    ; far call to _Get	; |193| 
                                        ; |193| Far Call Occurs
        ldp       @CL6,DP
        ldiu      @CL6,ar1              ; |193| 
        ldp       @CL5,DP
        ldiu      4,r1                  ; |193| 
        ldiu      @CL5,ar0              ; |193| 
        ash3      r1,*ar1,ir0           ; |193| 
        sti       r0,*+ar0(ir0)         ; |193| 
        bu        L41                   ; |162| 
;*      Branch Occurs to L41            ; |162| 
	.line	35
;----------------------------------------------------------------------
; 197 | break;                                                                 
;----------------------------------------------------------------------
L41:        
	.line	26
        ldiu      1,r0                  ; |188| 
        addi      *+fp(1),r0            ; |188| 
        sti       r0,*+fp(1)            ; |188| 
        cmpi      15,r0                 ; |188| 
        blt       L38                   ; |188| 
;*      Branch Occurs to L38            ; |188| 
	.line	39
;----------------------------------------------------------------------
; 201 | break;                                                                 
; 204 | case 0x04:  /* RHR interrupt */                                        
; 205 | case 0x0C:      /* RX TIMEOUT interrupt */                             
; 207 | while(TRUE)                                                            
;----------------------------------------------------------------------
        bu        L33                   ; |201| 
;*      Branch Occurs to L33            ; |201| 
L43:        
	.line	47
;----------------------------------------------------------------------
; 209 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	48
;----------------------------------------------------------------------
; 210 | LINEstatus = (UART[BOOTPORT][LSR] & 0xFF);                             
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      4,r0                  ; |210| 
        ldiu      @CL6,ar1              ; |210| 
        ldp       @CL36,DP
        ash3      r0,*ar1,ir0           ; |210| 
        ldiu      @CL36,ar0             ; |210| 
        ldiu      255,r0                ; |210| 
        and3      r0,*+ar0(ir0),r0      ; |210| 
        sti       r0,*+fp(3)            ; |210| 
	.line	49
;----------------------------------------------------------------------
; 211 | if (!(LINEstatus & 0x01)) break; /* no data in receive FIFO */         
;----------------------------------------------------------------------
        ldiu      1,r0                  ; |211| 
        tstb      *+fp(3),r0            ; |211| 
        beq       L33                   ; |211| 
;*      Branch Occurs to L33            ; |211| 
	.line	51
;----------------------------------------------------------------------
; 213 | TIMER1_COUNTER = PORT.TMR_Network_WDOG;                                
;----------------------------------------------------------------------
        ldp       @CL22,DP
        ldiu      @CL22,ar0             ; |213| 
        ldp       @CL34,DP
        ldiu      @CL34,ar1             ; |213| 
        ldiu      *ar0,r0               ; |213| 
        sti       r0,*ar1               ; |213| 
	.line	53
;----------------------------------------------------------------------
; 215 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	54
;----------------------------------------------------------------------
; 216 | Put(&PORT.RXbuf, (UART[BOOTPORT][RHR] & 0xFF) | (LINEstatus<<8));      
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      @CL6,ar1              ; |216| 
        ldp       @CL5,DP
        ldiu      4,r1                  ; |216| 
        ldiu      @CL5,ar0              ; |216| 
        ash3      r1,*ar1,ir0           ; |216| 
        ldp       @CL37,DP
        ldiu      255,r0                ; |216| 
        ldiu      @CL37,r1              ; |216| 
        and3      r0,*+ar0(ir0),r2      ; |216| 
        ldp       @CL32,DP
        ldiu      *+fp(3),r0            ; |216| 
        ldiu      @CL32,ar2             ; |216| 
        ash       8,r0                  ; |216| 
        or3       r2,r0,r2              ; |216| 
        callu     r1                    ; far call to _Put	; |216| 
                                        ; |216| Far Call Occurs
	.line	56
;----------------------------------------------------------------------
; 218 | PORT.STAT |= LINEstatus & 0x9E;                                        
;----------------------------------------------------------------------
        ldp       @CL31,DP
        ldiu      @CL31,ar0             ; |218| 
        ldiu      158,r0                ; |218| 
        and       *+fp(3),r0            ; |218| 
        or3       r0,*ar0,r0            ; |218| 
        sti       r0,*ar0               ; |218| 
	.line	58
;----------------------------------------------------------------------
; 220 | if (PORT.RXbuf.n>0)                                                    
;----------------------------------------------------------------------
        ldp       @CL38,DP
        ldiu      @CL38,ar0             ; |220| 
        ldiu      *ar0,r0               ; |220| 
        cmpi      0,r0                  ; |220| 
        ble       L43                   ; |220| 
;*      Branch Occurs to L43            ; |220| 
	.line	60
;----------------------------------------------------------------------
; 222 | vect_p1 = PORT.pvector;                                                
;----------------------------------------------------------------------
        ldp       @CL40,DP
        ldiu      @CL40,ar1             ; |222| 
        ldp       @CL39,DP
        ldiu      @CL39,ar0             ; |222| 
        ldiu      *ar1,r0               ; |222| 
        sti       r0,*ar0               ; |222| 
	.line	61
;----------------------------------------------------------------------
; 223 | PUSH_ALL;                                                              
;----------------------------------------------------------------------
	push	ST			
	push	FP			
	ldi		SP,FP		
	addi	2,SP		
	push	R0			
	pushf	R0			
	push	R1			
	pushf	R1			
	push	R2			
	pushf	R2			
	push	R3			
	pushf	R3			
	push	R4			
	pushf	R4			
	push	R5			
	pushf	R5			
	push	R6			
	pushf	R6			
	push	R7			
	pushf	R7			
	push	AR0			
	push	AR1			
	push	AR2			
	push	AR4			
	push	AR5			
	push	AR6			
	push	AR7			
	push	DP			
	push	IR0			
	push	IR1			
	push	BK			
	push	IOF			
	push	RS			
	push	RE			
	push	RC			
	.line	62
;----------------------------------------------------------------------
; 224 | asm("           .global _vect_p1  ");                                  
;----------------------------------------------------------------------
		.global _vect_p1  
	.line	63
;----------------------------------------------------------------------
; 225 | asm("       ldp             _vect_p1      ");                          
;----------------------------------------------------------------------
	ldp		_vect_p1      
	.line	64
;----------------------------------------------------------------------
; 226 | asm("       ldi             @_vect_p1, R0 ");                          
;----------------------------------------------------------------------
	ldi		@_vect_p1, R0 
	.line	65
;----------------------------------------------------------------------
; 227 | asm("       callnz  R0                    ");       /* call if vect !=
;     | NULL */                                                                
;----------------------------------------------------------------------
	callnz	R0		      
	.line	66
;----------------------------------------------------------------------
; 228 | POP_ALL;                                                               
;----------------------------------------------------------------------
	pop		RC			
	pop		RE			
	pop		RS			
	pop		IOF			
	pop		BK			
	pop		IR1			
	pop		IR0			
	pop		DP			
	pop		AR7			
	pop		AR6			
	pop		AR5			
	pop		AR4			
	pop		AR2			
	pop		AR1			
	pop		AR0			
	popf	R7			
	pop 	R7			
	popf	R6			
	pop		R6			
	popf	R5			
	pop		R5			
	popf 	R4			
	pop		R4			
	popf	R3			
	pop		R3			
	popf	R2			
	pop		R2			
	popf	R1			
	pop		R1			
	popf	R0			
	pop 	R0			
	subi 	2,SP		
	pop 	FP			
	pop 	ST			
	.line	68
        bu        L43                   ; |230| 
;*      Branch Occurs to L43            ; |230| 
	.line	69
;----------------------------------------------------------------------
; 231 | break;                                                                 
; 234 | case 0x06:      /* LSR interrupt */                                    
;----------------------------------------------------------------------
L47:        
	.line	74
;----------------------------------------------------------------------
; 236 | NOPS;                                                                  
;----------------------------------------------------------------------
	NOP			
	NOP			
	NOP			
	.line	75
;----------------------------------------------------------------------
; 237 | LINEstatus = (UART[BOOTPORT][LSR] & 0xFF);                             
;----------------------------------------------------------------------
        ldp       @CL6,DP
        ldiu      4,r0                  ; |237| 
        ldiu      @CL6,ar1              ; |237| 
        ldp       @CL36,DP
        ash3      r0,*ar1,ir0           ; |237| 
        ldiu      @CL36,ar0             ; |237| 
        ldiu      255,r0                ; |237| 
        and3      r0,*+ar0(ir0),r0      ; |237| 
        sti       r0,*+fp(3)            ; |237| 
	.line	77
;----------------------------------------------------------------------
; 239 | PORT.STAT |= LINEstatus & 0x9E;                                        
;----------------------------------------------------------------------
        ldp       @CL31,DP
        ldiu      @CL31,ar0             ; |239| 
        ldiu      158,r0                ; |239| 
        and       *+fp(3),r0            ; |239| 
        or3       r0,*ar0,r0            ; |239| 
        sti       r0,*ar0               ; |239| 
	.line	78
;----------------------------------------------------------------------
; 240 | break;                                                                 
; 243 | default:                                                               
;----------------------------------------------------------------------
        bu        L33                   ; |240| 
;*      Branch Occurs to L33            ; |240| 
	.line	83
;----------------------------------------------------------------------
; 245 | return;                                                                
;----------------------------------------------------------------------
L49:        
	.line	13
        ldiu      *+fp(4),r0            ; |175| 
        cmpi      2,r0                  ; |175| 
        beq       L34                   ; |175| 
;*      Branch Occurs to L34            ; |175| 
        cmpi      4,r0                  ; |175| 
        beq       L43                   ; |175| 
;*      Branch Occurs to L43            ; |175| 
        cmpi      6,r0                  ; |175| 
        beq       L47                   ; |175| 
;*      Branch Occurs to L47            ; |175| 
        cmpi      12,r0                 ; |175| 
        beq       L43                   ; |175| 
;*      Branch Occurs to L43            ; |175| 
        bu        L55                   ; |175| 
;*      Branch Occurs to L55            ; |175| 
	.line	86
L55:        
	.line	87
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1
        ldiu      *fp,fp
                                        ; Unallocate the Frame
        subi      6,sp
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	249,000000000h,4


	.sect	 ".text"

	.global	_f_ciel
	.sym	_f_ciel,_f_ciel,38,2,0
	.func	251
;******************************************************************************
;* FUNCTION NAME: _f_ciel                                                     *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : f0,r0,f2,ar2,fp,st                                  *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
;******************************************************************************
_f_ciel:
;* f2    assigned to _s
	.sym	_s,2,7,17,32
	.sym	_s,1,7,1,32
	.sym	_y,2,7,1,32
	.line	1
;----------------------------------------------------------------------
; 251 | float f_ciel(double s)                                                 
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      2,sp
	.line	2
;----------------------------------------------------------------------
; 253 | double y;                                                              
;----------------------------------------------------------------------
        stf       f2,*+fp(1)            ; |252| 
	.line	4
;----------------------------------------------------------------------
; 254 | return (modf(s, &y) > 0.0 ? y + 1.0 : y);                              
;----------------------------------------------------------------------
        ldiu      fp,ar2                ; |254| 
        addi      2,ar2                 ; |254| 
        call      _modf                 ; |254| 
                                        ; |254| Call Occurs
        float     r0,f0                 ; |254| 
        cmpf      0.0000000000e+00,f0   ; |254| 
        ble       L59                   ; |254| 
;*      Branch Occurs to L59            ; |254| 
        bud       L60                   ; |254| 
	nop
        ldfu      1.0000000000e+00,f0   ; |254| 
        addf      *+fp(2),f0            ; |254| 
;*      Branch Occurs to L60            ; |254| 
L59:        
        ldfu      *+fp(2),f0            ; |254| 
L60:        
	.line	5
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1            ; |255| 
        ldiu      *fp,fp                ; |255| 
                                        ; Unallocate the Frame
        subi      4,sp                  ; |255| 
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	255,000000000h,2



	.global	_UART
_UART:	.usect	"UART_ADDR",128,1
	.sym	_UART,_UART,252,2,4096,,8,16

	.global	_PORT
	.bss	_PORT,8248
	.sym	_PORT,_PORT,8,2,263936,.fake1
;******************************************************************************
;* CONSTANT TABLE                                                             *
;******************************************************************************
	.sect	".const"
	.bss	CL1,1
	.bss	CL2,1
	.bss	CL3,1
	.bss	CL4,1
	.bss	CL5,1
	.bss	CL6,1
	.bss	CL7,1
	.bss	CL8,1
	.bss	CL9,1
	.bss	CL10,1
	.bss	CL11,1
	.bss	CL12,1
	.bss	CL13,1
	.bss	CL14,1
	.bss	CL15,1
	.bss	CL16,1
	.bss	CL17,1
	.bss	CL18,1
	.bss	CL19,1
	.bss	CL20,1
	.bss	CL21,1
	.bss	CL22,1
	.bss	CL23,1
	.bss	CL24,1
	.bss	CL25,1
	.bss	CL26,1
	.bss	CL27,1
	.bss	CL28,1
	.bss	CL29,1
	.bss	CL30,1
	.bss	CL31,1
	.bss	CL32,1
	.bss	CL33,1
	.bss	CL34,1
	.bss	CL35,1
	.bss	CL36,1
	.bss	CL37,1
	.bss	CL38,1
	.bss	CL39,1
	.bss	CL40,1

	.sect	".cinit"
	.field  	40,32
	.field  	CL1+0,32
	.field  	_UART+1,32
	.field  	_UART+4,32
	.field  	_HW_VER,32
	.field  	9437202,32
	.field  	_UART,32
	.field  	_BOOTPORT,32
	.field  	_UART+7,32
	.field  	_UART+8,32
	.field  	_UART+3,32
	.field  	_CLOCK,32
	.word   	020000000H ; float   4.294967296000000e+09
	.word   	0FF000000H ; double  5.000000000000000e-01
	.word   	0FC000000H ; double  6.250000000000000e-02
	.field  	_f_ciel,32
	.field  	_Set_Baud,32
	.field  	_Clear_RX,32
	.field  	_PORT+12,32
	.field  	_Clear,32
	.field  	_PORT+4129,32
	.field  	_UART+2,32
	.field  	_TIME1,32
	.field  	_PORT+1,32
	.word   	01F000000H ; float   2.147483648000000e+09
	.field  	_PORT+2,32
	.field  	_PORT+3,32
	.field  	_PORT+4,32
	.field  	_PORT+5,32
	.field  	9437190,32
	.field  	_PORT+6,32
	.field  	_PORT+8247,32
	.field  	_PORT,32
	.field  	_PORT+4130,32
	.field  	_PORT+14,32
	.field  	_TIMER1_COUNTER,32
	.field  	_Get,32
	.field  	_UART+5,32
	.field  	_Put,32
	.field  	_PORT+4132,32
	.field  	_vect_p1,32
	.field  	_PORT+8,32

	.sect	".text"
;******************************************************************************
;* UNDEFINED EXTERNAL REFERENCES                                              *
;******************************************************************************

	.global	_Clear

	.global	_Put

	.global	_Get

	.global	_CLOCK

	.global	_TIMER1_COUNTER

	.global	_TIME1

	.global	_vect_p1

	.global	_BOOTPORT

	.global	_HW_VER
	.global	DIV_F30
	.global	_modf
