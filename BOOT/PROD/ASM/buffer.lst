TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE    1

        1                   ;******************************************************************************
        2                   ;* TMS320C3x/4x ANSI C Code Generator                            Version 5.11 *
        3                   ;* Date/Time created: Mon Oct 31 11:29:49 2011                                *
        4                   ;******************************************************************************
        5                           .regalias       ; enable floating point register aliases
        6          0000000b fp      .set    ar3
        7          0000000b FP      .set    ar3
        8                   ;******************************************************************************
        9                   ;* GLOBAL FILE PARAMETERS                                                     *
       10                   ;*                                                                            *
       11                   ;*   Optimization       : Always Choose Smaller Code Size                     *
       12                   ;*   Memory             : Big Memory Model                                    *
       13                   ;*   Float-to-Int       : Normal Conversions (round toward zero)              *
       14                   ;*   Multiply           : in Software (32 bits)                               *
       15                   ;*   Memory Info        : Unmapped Memory Exists                              *
       16                   ;*   Repeat Loops       : Use RPTS and/or RPTB                                *
       17                   ;*   Calls              : Normal Library ASM calls                            *
       18                   ;*   Debug Info         : Standard TI Debug Information                       *
       19                   ;******************************************************************************
       20                   ;       C:\tic3x4x\c3x4x\cgtools\bin\ac30.exe -@_5TK.AAA 
       21                           .file   "buffer.c"
       22                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\ETC.H"
       23                           .sym    _BOOL,0,14,13,32
       24                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\BUFFER.H"
       25                           .stag   .fake0,131744
       26                           .member _head,0,4,8,32
       27                           .member _tail,32,4,8,32
       28                           .member _n,64,4,8,32
       29                           .member _CRC16,96,14,8,32
       30                           .member _buff,128,62,8,131584,,4112
       31                           .member _locked,131712,14,8,32
       32                           .eos
       33                           .sym    _BFR,0,8,13,131744,.fake0
       34                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\FLASH.H"
       35                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\SERIAL.H"
       36                           .stag   .fake1,263936
       37                           .member _STAT,0,12,8,32
       38                           .member _TMR_Network_WDOG,32,14,8,32
       39                           .member _TMR_EOT_Delay,64,14,8,32
       40                           .member _TMR_Preamble_Delay,96,14,8,32
       41                           .member _TMR_Suffix_Delay,128,14,8,32
       42                           .member _TMR_Char,160,14,8,32
       43                           .member _TMR_enabled,192,14,8,32
       44                           .member _tvector,224,20,8,32
       45                           .member _pvector,256,20,8,32
       46                           .member _i,288,14,8,32
       47                           .member _func,320,14,8,32
       48                           .member _Slave_ID,352,14,8,32
       49                           .member _TXbuf,384,8,8,131744,.fake0
       50                           .member _TX_complete,132128,14,8,32
       51                           .member _RXbuf,132160,8,8,131744,.fake0
       52                           .member _RX_pending,263904,14,8,32
       53                           .eos
       54                           .sym    _PORTV,0,8,13,263936,.fake1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE    2

       55                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\MODBUSRTU.H"
       56                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\I2C.H"
       57                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\GLBLS.H"
       58                           .file   "buffer.c"
       59 00000000                  .sect    ".text"
       60                   
       61                           .global _CRC16
       62                           .sym    _CRC16,_CRC16,32,2,0
       63                           .func   14
       64                   ;******************************************************************************
       65                   ;* FUNCTION NAME: _CRC16                                                      *
       66                   ;*                                                                            *
       67                   ;*   Architecture       : TMS320C33                                           *
       68                   ;*   Calling Convention : TI Standard Register Parameters                     *
       69                   ;*   Function Uses Regs : r0,ar0,ar1,ar2,st                                   *
       70                   ;*   Regs Saved         :                                                     *
       71                   ;*   Stack Frame        : Full (w/ debug)                                     *
       72                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
       73                   ;******************************************************************************
       74 00000000          _CRC16:
       75                   ;* ar2   assigned to _buffer
       76                           .sym    _buffer,10,24,17,32,.fake0
       77                           .sym    _buffer,1,24,1,32,.fake0
       78                           .sym    _i,2,4,1,32
       79                           .line   1
       80                   ;----------------------------------------------------------------------
       81                   ;  14 | void CRC16(BFR* buffer)                                                
       82                   ;----------------------------------------------------------------------
       83 00000000 0f2b0000         push      fp
       84 00000001 500b0014         ldiu      sp,fp
       85 00000002 02740002         addi      2,sp
       86                           .line   2
       87                   ;----------------------------------------------------------------------
       88                   ;  16 | int i;                                                                 
       89                   ;----------------------------------------------------------------------
       90 00000003 154a0301         sti       ar2,*+fp(1)           ; |15| 
       91                           .line   5
       92                   ;----------------------------------------------------------------------
       93                   ;  18 | if (buffer->n<=0) return;                                              
       94                   ;----------------------------------------------------------------------
       95 00000004 5008000a         ldiu      ar2,ar0
       96 00000005 50400002         ldiu      *+ar0(2),r0           ; |18| 
       97 00000006 04e00000         cmpi      0,r0                  ; |18| 
       98 00000007 6a080025         ble       L9                    ; |18| 
       99                   ;*      Branch Occurs to L9             ; |18| 
      100                           .line   7
      101                   ;----------------------------------------------------------------------
      102                   ;  20 | if (buffer->n==1)                                                      
      103                   ;----------------------------------------------------------------------
      104 00000008 50400002         ldiu      *+ar0(2),r0           ; |20| 
      105 00000009 04e00001         cmpi      1,r0                  ; |20| 
      106 0000000a 6a060002         bne       L4                    ; |20| 
      107                   ;*      Branch Occurs to L4             ; |20| 
      108                           .line   9
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE    3

      109                   ;----------------------------------------------------------------------
      110                   ;  22 | buffer->CRC16 = GSEED;                                                 
      111                   ;----------------------------------------------------------------------
      112 0000000b 50601343         ldiu      4931,r0               ; |22| 
      113 0000000c 15400003         sti       r0,*+ar0(3)           ; |22| 
      114 0000000d          L4:        
      115                           .line   12
      116                   ;----------------------------------------------------------------------
      117                   ;  25 | buffer->CRC16 ^= (buffer->buff[buffer->tail] & 0xFF);                  
      118                   ;----------------------------------------------------------------------
      119 0000000d 50480301         ldiu      *+fp(1),ar0           ; |25| 
      120 0000000e 506000ff         ldiu      255,r0                ; |25| 
      121 0000000f 50490001         ldiu      *+ar0(1),ar1          ; |25| 
      122 00000010 02490301         addi      *+fp(1),ar1           ; |25| Unsigned
      123 00000011 02c00104         and       *+ar1(4),r0           ; |25| 
      124 00000012 1ac00003         xor       *+ar0(3),r0           ; |25| 
      125 00000013 15400003         sti       r0,*+ar0(3)           ; |25| 
      126                           .line   14
      127                   ;----------------------------------------------------------------------
      128                   ;  27 | for (i=0;i<8;i++)                                                      
      129                   ;----------------------------------------------------------------------
      130 00000014 50600000         ldiu      0,r0                  ; |27| 
      131 00000015 15400302         sti       r0,*+fp(2)            ; |27| 
      132 00000016 04e00008         cmpi      8,r0                  ; |27| 
      133 00000017 6a0a0015         bge       L9                    ; |27| 
      134                   ;*      Branch Occurs to L9             ; |27| 
      135 00000018          L5:        
      136                           .line   16
      137                   ;----------------------------------------------------------------------
      138                   ;  29 | if (buffer->CRC16 & 0x01)                                              
      139                   ;----------------------------------------------------------------------
      140 00000018 50480301         ldiu      *+fp(1),ar0           ; |29| 
      141 00000019 50600001         ldiu      1,r0                  ; |29| 
      142 0000001a 1a400003         tstb      *+ar0(3),r0           ; |29| 
      143 0000001b 6a050008         beq       L7                    ; |29| 
      144                   ;*      Branch Occurs to L7             ; |29| 
      145                           .line   18
      146                   ;----------------------------------------------------------------------
      147                   ;  31 | buffer->CRC16 >>= 1;                                                   
      148                   ;----------------------------------------------------------------------
      149 0000001c 50400003         ldiu      *+ar0(3),r0           ; |31| 
      150 0000001d 09e0ffff         lsh       -1,r0                 ; |31| 
      151 0000001e 15400003         sti       r0,*+ar0(3)           ; |31| 
      152                           .line   19
      153                   ;----------------------------------------------------------------------
      154                   ;  32 | buffer->CRC16 ^= GPOLY;                                                
      155                   ;  34 | else                                                                   
      156                   ;----------------------------------------------------------------------
      157 0000001f 50480301         ldiu      *+fp(1),ar0           ; |32| 
      158 00000020 50400003         ldiu      *+ar0(3),r0           ; |32| 
      159 00000021 1ae0a001         xor       40961,r0              ; |32| 
      160 00000022 15400003         sti       r0,*+ar0(3)           ; |32| 
      161 00000023 6a000004         bu        L8                    ; |13| 
      162                   ;*      Branch Occurs to L8             ; |13| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE    4

      163 00000024          L7:        
      164                           .line   23
      165                   ;----------------------------------------------------------------------
      166                   ;  36 | buffer->CRC16 >>= 1;                                                   
      167                   ;----------------------------------------------------------------------
      168 00000024 50480301         ldiu      *+fp(1),ar0           ; |36| 
      169 00000025 50400003         ldiu      *+ar0(3),r0           ; |36| 
      170 00000026 09e0ffff         lsh       -1,r0                 ; |36| 
      171 00000027 15400003         sti       r0,*+ar0(3)           ; |36| 
      172 00000028          L8:        
      173                           .line   14
      174 00000028 50600001         ldiu      1,r0                  ; |27| 
      175 00000029 02400302         addi      *+fp(2),r0            ; |27| 
      176 0000002a 15400302         sti       r0,*+fp(2)            ; |27| 
      177 0000002b 04e00008         cmpi      8,r0                  ; |27| 
      178 0000002c 6a07ffeb         blt       L5                    ; |27| 
      179                   ;*      Branch Occurs to L5             ; |27| 
      180 0000002d          L9:        
      181                           .line   26
      182                                                           ; Begin Epilog Code
      183 0000002d 50410b01         ldiu      *-fp(1),r1
      184 0000002e 504bc300         ldiu      *fp,fp
      185                                                           ; Unallocate the Frame
      186 0000002f 18740004         subi      4,sp
      187 00000030 68000001         bu        r1
      188                   ;*      Branch Occurs to r1 
      189                           .endfunc        39,000000000h,2
      190                   
      191                   
      192 00000031                  .sect    ".text"
      193                   
      194                           .global _Put
      195                           .sym    _Put,_Put,46,2,0
      196                           .func   41
      197                   ;******************************************************************************
      198                   ;* FUNCTION NAME: _Put                                                        *
      199                   ;*                                                                            *
      200                   ;*   Architecture       : TMS320C33                                           *
      201                   ;*   Calling Convention : TI Standard Register Parameters                     *
      202                   ;*   Function Uses Regs : r0,r2,ar0,ar2,ir0,st                                *
      203                   ;*   Regs Saved         :                                                     *
      204                   ;*   Stack Frame        : Full (w/ debug)                                     *
      205                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
      206                   ;******************************************************************************
      207 00000031          _Put:
      208                   ;* ar2   assigned to _buffer
      209                           .sym    _buffer,10,24,17,32,.fake0
      210                   ;* r2    assigned to _b
      211                           .sym    _b,2,14,17,32
      212                           .sym    _buffer,1,24,1,32,.fake0
      213                           .sym    _b,2,14,1,32
      214                           .line   1
      215                   ;----------------------------------------------------------------------
      216                   ;  41 | BOOL Put(BFR* buffer, unsigned int b)                                  
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE    5

      217                   ;----------------------------------------------------------------------
      218 00000031 0f2b0000         push      fp
      219 00000032 500b0014         ldiu      sp,fp
      220 00000033 02740002         addi      2,sp
      221                           .line   2
      222 00000034 15420302         sti       r2,*+fp(2)            ; |42| 
      223 00000035 154a0301         sti       ar2,*+fp(1)           ; |42| 
      224                           .line   3
      225                   ;----------------------------------------------------------------------
      226                   ;  43 | if (buffer->locked) return FALSE;                                      
      227                   ;----------------------------------------------------------------------
      228 00000036 5011000a         ldiu      ar2,ir0               ; |43| 
      229 00000037 50681014         ldiu      4116,ar0              ; |43| 
      230 00000038 50404000         ldiu      *+ar0(ir0),r0         ; |43| 
      231 00000039 04e00000         cmpi      0,r0                  ; |43| 
      232 0000003a 6a050004         beq       L13                   ; |43| 
      233                   ;*      Branch Occurs to L13            ; |43| 
      234 0000003b 6a200025         bud       L18                   ; |43| 
      235 0000003c 0c800000         nop
      236 0000003d 0c800000         nop
      237 0000003e 50600000         ldiu      0,r0                  ; |43| 
      238                   ;*      Branch Occurs to L18            ; |43| 
      239 0000003f          L13:        
      240                           .line   5
      241                   ;----------------------------------------------------------------------
      242                   ;  45 | _GIEP;                                                                 
      243                   ;----------------------------------------------------------------------
      244 0000003f 0f350000         push    ST                      
      245 00000040 03752000         andn    2000h, ST       
      246                           .line   7
      247                   ;----------------------------------------------------------------------
      248                   ;  47 | if (buffer->n >= MAXBUFF)                                              
      249                   ;----------------------------------------------------------------------
      250 00000041 50480301         ldiu      *+fp(1),ar0           ; |47| 
      251 00000042 50400002         ldiu      *+ar0(2),r0           ; |47| 
      252 00000043 04e01010         cmpi      4112,r0               ; |47| 
      253 00000044 6a070005         blt       L15                   ; |47| 
      254                   ;*      Branch Occurs to L15            ; |47| 
      255                           .line   9
      256                   ;----------------------------------------------------------------------
      257                   ;  49 | GIEP;                                                                  
      258                   ;----------------------------------------------------------------------
      259 00000045 0e350000         pop             ST                      
      260                           .line   10
      261                   ;----------------------------------------------------------------------
      262                   ;  50 | return FALSE;                                                          
      263                   ;----------------------------------------------------------------------
      264 00000046 6a20001a         bud       L18                   ; |50| 
      265 00000047 0c800000         nop
      266 00000048 0c800000         nop
      267 00000049 50600000         ldiu      0,r0                  ; |50| 
      268                   ;*      Branch Occurs to L18            ; |50| 
      269 0000004a          L15:        
      270                           .line   12
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE    6

      271                   ;----------------------------------------------------------------------
      272                   ;  52 | buffer->buff[buffer->tail] = b;                                        
      273                   ;----------------------------------------------------------------------
      274 0000004a 50480301         ldiu      *+fp(1),ar0           ; |52| 
      275 0000004b 50480001         ldiu      *+ar0(1),ar0          ; |52| 
      276 0000004c 02480301         addi      *+fp(1),ar0           ; |52| Unsigned
      277 0000004d 50400302         ldiu      *+fp(2),r0            ; |52| 
      278 0000004e 15400004         sti       r0,*+ar0(4)           ; |52| 
      279                           .line   13
      280                   ;----------------------------------------------------------------------
      281                   ;  53 | buffer->n ++;                                                          
      282                   ;----------------------------------------------------------------------
      283 0000004f 50480301         ldiu      *+fp(1),ar0           ; |53| 
      284 00000050 50600001         ldiu      1,r0                  ; |53| 
      285 00000051 02400002         addi      *+ar0(2),r0           ; |53| 
      286 00000052 15400002         sti       r0,*+ar0(2)           ; |53| 
      287                           .line   14
      288                   ;----------------------------------------------------------------------
      289                   ;  54 | CRC16(buffer);                                                         
      290                   ;----------------------------------------------------------------------
      291 00000053 08700000-        ldp       @CL1,DP
      292 00000054 504a0301         ldiu      *+fp(1),ar2           ; |54| 
      293 00000055 50200001-        ldiu      @CL1,r0               ; |54| 
      294 00000056 70000000         callu     r0                    ; far call to _CRC16    ; |54| 
      295                                                           ; |54| Far Call Occurs
      296                           .line   15
      297                   ;----------------------------------------------------------------------
      298                   ;  55 | buffer->tail ++;                                                       
      299                   ;----------------------------------------------------------------------
      300 00000057 50480301         ldiu      *+fp(1),ar0           ; |55| 
      301 00000058 50600001         ldiu      1,r0                  ; |55| 
      302 00000059 02400001         addi      *+ar0(1),r0           ; |55| 
      303 0000005a 15400001         sti       r0,*+ar0(1)           ; |55| 
      304                           .line   16
      305                   ;----------------------------------------------------------------------
      306                   ;  56 | if (buffer->tail >= MAXBUFF) buffer->tail = 0;                         
      307                   ;----------------------------------------------------------------------
      308 0000005b 50480301         ldiu      *+fp(1),ar0           ; |56| 
      309 0000005c 50400001         ldiu      *+ar0(1),r0           ; |56| 
      310 0000005d 04e01010         cmpi      4112,r0               ; |56| 
      311 0000005e 6a070002         blt       L17                   ; |56| 
      312                   ;*      Branch Occurs to L17            ; |56| 
      313 0000005f 50600000         ldiu      0,r0                  ; |56| 
      314 00000060 15400001         sti       r0,*+ar0(1)           ; |56| 
      315 00000061          L17:        
      316                           .line   18
      317                   ;----------------------------------------------------------------------
      318                   ;  58 | GIEP;                                                                  
      319                   ;----------------------------------------------------------------------
      320 00000061 0e350000         pop             ST                      
      321                           .line   20
      322                   ;----------------------------------------------------------------------
      323                   ;  60 | return TRUE;                                                           
      324                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE    7

      325 00000062 50600001         ldiu      1,r0                  ; |60| 
      326 00000063          L18:        
      327                           .line   21
      328                                                           ; Begin Epilog Code
      329 00000063 50410b01         ldiu      *-fp(1),r1            ; |61| 
      330 00000064 504bc300         ldiu      *fp,fp                ; |61| 
      331                                                           ; Unallocate the Frame
      332 00000065 18740004         subi      4,sp                  ; |61| 
      333 00000066 68000001         bu        r1
      334                   ;*      Branch Occurs to r1 
      335                           .endfunc        61,000000000h,2
      336                   
      337                   
      338 00000067                  .sect    ".text"
      339                   
      340                           .global _Get
      341                           .sym    _Get,_Get,36,2,0
      342                           .func   63
      343                   ;******************************************************************************
      344                   ;* FUNCTION NAME: _Get                                                        *
      345                   ;*                                                                            *
      346                   ;*   Architecture       : TMS320C33                                           *
      347                   ;*   Calling Convention : TI Standard Register Parameters                     *
      348                   ;*   Function Uses Regs : r0,ar0,ar2,ir0,st                                   *
      349                   ;*   Regs Saved         :                                                     *
      350                   ;*   Stack Frame        : Full (w/ debug)                                     *
      351                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
      352                   ;******************************************************************************
      353 00000067          _Get:
      354                   ;* ar2   assigned to _buffer
      355                           .sym    _buffer,10,24,17,32,.fake0
      356                           .sym    _buffer,1,24,1,32,.fake0
      357                           .sym    _r,2,12,1,32
      358                           .line   1
      359                   ;----------------------------------------------------------------------
      360                   ;  63 | int Get(BFR* buffer)                                                   
      361                   ;----------------------------------------------------------------------
      362 00000067 0f2b0000         push      fp
      363 00000068 500b0014         ldiu      sp,fp
      364 00000069 02740002         addi      2,sp
      365                           .line   2
      366                   ;----------------------------------------------------------------------
      367                   ;  65 | unsigned char r;                                                       
      368                   ;----------------------------------------------------------------------
      369 0000006a 154a0301         sti       ar2,*+fp(1)           ; |64| 
      370                           .line   5
      371                   ;----------------------------------------------------------------------
      372                   ;  67 | if (buffer->locked) return FALSE;                                      
      373                   ;----------------------------------------------------------------------
      374 0000006b 5011000a         ldiu      ar2,ir0               ; |67| 
      375 0000006c 50681014         ldiu      4116,ar0              ; |67| 
      376 0000006d 50404000         ldiu      *+ar0(ir0),r0         ; |67| 
      377 0000006e 04e00000         cmpi      0,r0                  ; |67| 
      378 0000006f 6a050004         beq       L22                   ; |67| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE    8

      379                   ;*      Branch Occurs to L22            ; |67| 
      380 00000070 6a200021         bud       L27                   ; |67| 
      381 00000071 0c800000         nop
      382 00000072 0c800000         nop
      383 00000073 50600000         ldiu      0,r0                  ; |67| 
      384                   ;*      Branch Occurs to L27            ; |67| 
      385 00000074          L22:        
      386                           .line   7
      387                   ;----------------------------------------------------------------------
      388                   ;  69 | _GIEP;                                                                 
      389                   ;----------------------------------------------------------------------
      390 00000074 0f350000         push    ST                      
      391 00000075 03752000         andn    2000h, ST       
      392                           .line   9
      393                   ;----------------------------------------------------------------------
      394                   ;  71 | if (buffer->n <= 0)                                                    
      395                   ;----------------------------------------------------------------------
      396 00000076 50480301         ldiu      *+fp(1),ar0           ; |71| 
      397 00000077 50400002         ldiu      *+ar0(2),r0           ; |71| 
      398 00000078 04e00000         cmpi      0,r0                  ; |71| 
      399 00000079 6a090005         bgt       L24                   ; |71| 
      400                   ;*      Branch Occurs to L24            ; |71| 
      401                           .line   11
      402                   ;----------------------------------------------------------------------
      403                   ;  73 | GIEP;                                                                  
      404                   ;----------------------------------------------------------------------
      405 0000007a 0e350000         pop             ST                      
      406                           .line   12
      407                   ;----------------------------------------------------------------------
      408                   ;  74 | return NULL;                                                           
      409                   ;----------------------------------------------------------------------
      410 0000007b 6a200016         bud       L27                   ; |74| 
      411 0000007c 0c800000         nop
      412 0000007d 0c800000         nop
      413 0000007e 50600000         ldiu      0,r0                  ; |74| 
      414                   ;*      Branch Occurs to L27            ; |74| 
      415 0000007f          L24:        
      416                           .line   15
      417                   ;----------------------------------------------------------------------
      418                   ;  77 | r = buffer->buff[buffer->head];                                        
      419                   ;----------------------------------------------------------------------
      420 0000007f 50480301         ldiu      *+fp(1),ar0           ; |77| 
      421 00000080 5048c000         ldiu      *ar0,ar0              ; |77| 
      422 00000081 02480301         addi      *+fp(1),ar0           ; |77| Unsigned
      423 00000082 50400004         ldiu      *+ar0(4),r0           ; |77| 
      424 00000083 15400302         sti       r0,*+fp(2)            ; |77| 
      425                           .line   17
      426                   ;----------------------------------------------------------------------
      427                   ;  79 | buffer->head ++;                                                       
      428                   ;----------------------------------------------------------------------
      429 00000084 50480301         ldiu      *+fp(1),ar0           ; |79| 
      430 00000085 50600001         ldiu      1,r0                  ; |79| 
      431 00000086 2120c000         addi3     r0,*ar0,r0            ; |79| 
      432 00000087 1540c000         sti       r0,*ar0               ; |79| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE    9

      433                           .line   18
      434                   ;----------------------------------------------------------------------
      435                   ;  80 | if (buffer->head >= MAXBUFF) buffer->head = 0;                         
      436                   ;----------------------------------------------------------------------
      437 00000088 50480301         ldiu      *+fp(1),ar0           ; |80| 
      438 00000089 5040c000         ldiu      *ar0,r0               ; |80| 
      439 0000008a 04e01010         cmpi      4112,r0               ; |80| 
      440 0000008b 6a070002         blt       L26                   ; |80| 
      441                   ;*      Branch Occurs to L26            ; |80| 
      442 0000008c 50600000         ldiu      0,r0                  ; |80| 
      443 0000008d 1540c000         sti       r0,*ar0               ; |80| 
      444 0000008e          L26:        
      445                           .line   19
      446                   ;----------------------------------------------------------------------
      447                   ;  81 | buffer->n --;                                                          
      448                   ;----------------------------------------------------------------------
      449 0000008e 50480301         ldiu      *+fp(1),ar0           ; |81| 
      450 0000008f 50600001         ldiu      1,r0                  ; |81| 
      451 00000090 19c00002         subri     *+ar0(2),r0           ; |81| 
      452 00000091 15400002         sti       r0,*+ar0(2)           ; |81| 
      453                           .line   21
      454                   ;----------------------------------------------------------------------
      455                   ;  83 | GIEP;                                                                  
      456                   ;----------------------------------------------------------------------
      457 00000092 0e350000         pop             ST                      
      458                           .line   23
      459                   ;----------------------------------------------------------------------
      460                   ;  85 | return r;                                                              
      461                   ;----------------------------------------------------------------------
      462 00000093 50400302         ldiu      *+fp(2),r0            ; |85| 
      463 00000094          L27:        
      464                           .line   24
      465                                                           ; Begin Epilog Code
      466 00000094 50410b01         ldiu      *-fp(1),r1            ; |86| 
      467 00000095 504bc300         ldiu      *fp,fp                ; |86| 
      468                                                           ; Unallocate the Frame
      469 00000096 18740004         subi      4,sp                  ; |86| 
      470 00000097 68000001         bu        r1
      471                   ;*      Branch Occurs to r1 
      472                           .endfunc        86,000000000h,2
      473                   
      474                   
      475 00000098                  .sect    ".text"
      476                   
      477                           .global _Clear
      478                           .sym    _Clear,_Clear,32,2,0
      479                           .func   88
      480                   ;******************************************************************************
      481                   ;* FUNCTION NAME: _Clear                                                      *
      482                   ;*                                                                            *
      483                   ;*   Architecture       : TMS320C33                                           *
      484                   ;*   Calling Convention : TI Standard Register Parameters                     *
      485                   ;*   Function Uses Regs : r0,r1,ar0,ar2,ir0,st                                *
      486                   ;*   Regs Saved         :                                                     *
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE   10

      487                   ;*   Stack Frame        : Full (w/ debug)                                     *
      488                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
      489                   ;******************************************************************************
      490 00000098          _Clear:
      491                   ;* ar2   assigned to _buffer
      492                           .sym    _buffer,10,24,17,32,.fake0
      493                           .sym    _buffer,1,24,1,32,.fake0
      494                           .sym    _i,2,4,1,32
      495                           .line   1
      496                   ;----------------------------------------------------------------------
      497                   ;  88 | void Clear(BFR* buffer)                                                
      498                   ;----------------------------------------------------------------------
      499 00000098 0f2b0000         push      fp
      500 00000099 500b0014         ldiu      sp,fp
      501 0000009a 02740002         addi      2,sp
      502                           .line   2
      503                   ;----------------------------------------------------------------------
      504                   ;  90 | int i;                                                                 
      505                   ;----------------------------------------------------------------------
      506 0000009b 154a0301         sti       ar2,*+fp(1)           ; |89| 
      507                           .line   5
      508                   ;----------------------------------------------------------------------
      509                   ;  92 | _GIEP;                                                                 
      510                   ;----------------------------------------------------------------------
      511 0000009c 0f350000         push    ST                      
      512 0000009d 03752000         andn    2000h, ST       
      513                           .line   7
      514                   ;----------------------------------------------------------------------
      515                   ;  94 | if (INITIALIZING) buffer->locked = FALSE;                              
      516                   ;  95 | else                                                                   
      517                   ;----------------------------------------------------------------------
      518 0000009e 08700000-        ldp       @CL2,DP
      519 0000009f 50280002-        ldiu      @CL2,ar0              ; |94| 
      520 000000a0 5040c000         ldiu      *ar0,r0               ; |94| 
      521 000000a1 04e00000         cmpi      0,r0                  ; |94| 
      522 000000a2 6a050005         beq       L31                   ; |94| 
      523                   ;*      Branch Occurs to L31            ; |94| 
      524 000000a3 5011000a         ldiu      ar2,ir0
      525 000000a4 50681014         ldiu      4116,ar0              ; |94| 
      526 000000a5 50600000         ldiu      0,r0                  ; |94| 
      527 000000a6 15404000         sti       r0,*+ar0(ir0)         ; |94| 
      528 000000a7 6a000007         bu        L33                   ; |87| 
      529                   ;*      Branch Occurs to L33            ; |87| 
      530 000000a8          L31:        
      531                           .line   9
      532                   ;----------------------------------------------------------------------
      533                   ;  96 | if (buffer->locked)                                                    
      534                   ;----------------------------------------------------------------------
      535 000000a8 50510301         ldiu      *+fp(1),ir0           ; |96| 
      536 000000a9 50681014         ldiu      4116,ar0              ; |96| 
      537 000000aa 50404000         ldiu      *+ar0(ir0),r0         ; |96| 
      538 000000ab 04e00000         cmpi      0,r0                  ; |96| 
      539 000000ac 6a050002         beq       L33                   ; |96| 
      540                   ;*      Branch Occurs to L33            ; |96| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE   11

      541                           .line   11
      542                   ;----------------------------------------------------------------------
      543                   ;  98 | GIEP;                                                                  
      544                   ;----------------------------------------------------------------------
      545 000000ad 0e350000         pop             ST                      
      546                           .line   12
      547                   ;----------------------------------------------------------------------
      548                   ;  99 | return;                                                                
      549                   ;----------------------------------------------------------------------
      550 000000ae 6a00001d         bu        L37                   ; |99| 
      551                   ;*      Branch Occurs to L37            ; |99| 
      552 000000af          L33:        
      553                           .line   15
      554                   ;----------------------------------------------------------------------
      555                   ; 102 | buffer->head = 0;                                                      
      556                   ;----------------------------------------------------------------------
      557 000000af 50480301         ldiu      *+fp(1),ar0           ; |102| 
      558 000000b0 50600000         ldiu      0,r0                  ; |102| 
      559 000000b1 1540c000         sti       r0,*ar0               ; |102| 
      560                           .line   16
      561                   ;----------------------------------------------------------------------
      562                   ; 103 | buffer->tail = 0;                                                      
      563                   ;----------------------------------------------------------------------
      564 000000b2 50480301         ldiu      *+fp(1),ar0           ; |103| 
      565 000000b3 15400001         sti       r0,*+ar0(1)           ; |103| 
      566                           .line   17
      567                   ;----------------------------------------------------------------------
      568                   ; 104 | buffer->n = 0;                                                         
      569                   ;----------------------------------------------------------------------
      570 000000b4 50480301         ldiu      *+fp(1),ar0           ; |104| 
      571 000000b5 15400002         sti       r0,*+ar0(2)           ; |104| 
      572                           .line   19
      573                   ;----------------------------------------------------------------------
      574                   ; 106 | if (INITIALIZING)                                                      
      575                   ;----------------------------------------------------------------------
      576 000000b6 08700000-        ldp       @CL2,DP
      577 000000b7 50280002-        ldiu      @CL2,ar0              ; |106| 
      578 000000b8 5040c000         ldiu      *ar0,r0               ; |106| 
      579 000000b9 04e00000         cmpi      0,r0                  ; |106| 
      580 000000ba 6a050010         beq       L36                   ; |106| 
      581                   ;*      Branch Occurs to L36            ; |106| 
      582                           .line   21
      583                   ;----------------------------------------------------------------------
      584                   ; 108 | buffer->CRC16 = GSEED;                                                 
      585                   ;----------------------------------------------------------------------
      586 000000bb 50480301         ldiu      *+fp(1),ar0           ; |108| 
      587 000000bc 50601343         ldiu      4931,r0               ; |108| 
      588 000000bd 15400003         sti       r0,*+ar0(3)           ; |108| 
      589                           .line   22
      590                   ;----------------------------------------------------------------------
      591                   ; 109 | for (i=0;i<MAXBUFF;i++)                                                
      592                   ;----------------------------------------------------------------------
      593 000000be 50600000         ldiu      0,r0                  ; |109| 
      594 000000bf 15400302         sti       r0,*+fp(2)            ; |109| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE   12

      595 000000c0 50610000         ldiu      0,r1                  ; |111| 
      596 000000c1 04e01010         cmpi      4112,r0               ; |109| 
      597 000000c2 6a0a0008         bge       L36                   ; |109| 
      598                   ;*      Branch Occurs to L36            ; |109| 
      599 000000c3          L35:        
      600                           .line   24
      601                   ;----------------------------------------------------------------------
      602                   ; 111 | buffer->buff[i] = 0x00;                                                
      603                   ;----------------------------------------------------------------------
      604 000000c3 50480302         ldiu      *+fp(2),ar0           ; |111| 
      605 000000c4 02480301         addi      *+fp(1),ar0           ; |111| Unsigned
      606 000000c5 15410004         sti       r1,*+ar0(4)           ; |111| 
      607                           .line   22
      608 000000c6 50600001         ldiu      1,r0                  ; |109| 
      609 000000c7 02400302         addi      *+fp(2),r0            ; |109| 
      610 000000c8 15400302         sti       r0,*+fp(2)            ; |109| 
      611 000000c9 04e01010         cmpi      4112,r0               ; |109| 
      612 000000ca 6a07fff8         blt       L35                   ; |109| 
      613                   ;*      Branch Occurs to L35            ; |109| 
      614 000000cb          L36:        
      615                           .line   28
      616                   ;----------------------------------------------------------------------
      617                   ; 115 | GIEP;                                                                  
      618                   ;----------------------------------------------------------------------
      619 000000cb 0e350000         pop             ST                      
      620 000000cc          L37:        
      621                           .line   29
      622                                                           ; Begin Epilog Code
      623 000000cc 50410b01         ldiu      *-fp(1),r1
      624 000000cd 504bc300         ldiu      *fp,fp
      625                                                           ; Unallocate the Frame
      626 000000ce 18740004         subi      4,sp
      627 000000cf 68000001         bu        r1
      628                   ;*      Branch Occurs to r1 
      629                           .endfunc        116,000000000h,2
      630                   
      631                   
      632                   
      633                           .global _INITIALIZING
      634 00000000                  .bss    _INITIALIZING,1
      635                           .sym    _INITIALIZING,_INITIALIZING,14,2,32
      636                   ;******************************************************************************
      637                   ;* CONSTANT TABLE                                                             *
      638                   ;******************************************************************************
      639 00000000                  .sect   ".const"
      640 00000001                  .bss    CL1,1
      641 00000002                  .bss    CL2,1
      642                   
      643 00000000                  .sect   ".cinit"
      644 00000000 00000002         .field          2,32
      645 00000001 00000001-        .field          CL1+0,32
      646 00000002 00000000'        .field          _CRC16,32
      647 00000003 00000000-        .field          _INITIALIZING,32
      648                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE   13

      649 000000d0                  .sect   ".text"

 No Errors,  No Warnings
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE   14

LABEL                            VALUE       DEFN    REF

.BIGMODEL                        00000001       0 
.C30                             00000000       0 
.C30INTERRUPT                    00000000       0 
.C31                             00000000       0 
.C32                             00000000       0 
.C33                             00000001       0 
.C3X                             00000001       0 
.C3x                             00000001       0 
.C40                             00000000       0 
.C44                             00000000       0 
.C4X                             00000000       0 
.C4x                             00000000       0 
.REGPARM                         00000001       0 
.TMS320C30                       00000001       0 
.TMS320C31                       00000000       0 
.TMS320C32                       00000000       0 
.TMS320C40                       00000000       0 
.TMS320C44                       00000000       0 
.TMS320xx                        00000021       0 
.tms320C30                       00000001       0 
.tms320C31                       00000000       0 
.tms320C32                       00000000       0 
.tms320C40                       00000000       0 
.tms320C44                       00000000       0 
.tms320xx                        00000021       0 
.tmx320C40                       00000000       0 
CL1                              00000001-    640    291    293    645 
CL2                              00000002-    641    518    519    576    577 
FP                               0000000b       7 
L13                              0000003f'    239    232 
L15                              0000004a'    269    253 
L17                              00000061'    315    311 
L18                              00000063'    326    234    264 
L22                              00000074'    385    378 
L24                              0000007f'    415    399 
L26                              0000008e'    444    440 
L27                              00000094'    463    380    410 
L31                              000000a8'    530    522 
L33                              000000af'    552    528    539 
L35                              000000c3'    599    612 
L36                              000000cb'    614    580    597 
L37                              000000cc'    620    550 
L4                               0000000d'    114    106 
L5                               00000018'    135    178 
L7                               00000024'    163    143 
L8                               00000028'    172    161 
L9                               0000002d'    180     98    133 
_CRC16                           00000000'     74     61     62     62    646 
_Clear                           00000098'    490    477    478    478 
_Get                             00000067'    353    340    341    341 
_INITIALIZING                    00000000-    634    633    635    635    647 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_5TK.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\buffer.asm                    PAGE   15

LABEL                            VALUE       DEFN    REF

_Put                             00000031'    207    194    195    195 
fp                               0000000b       6     83     84     90    119 
                                                     122    131    140    157 
                                                     168    175    176    183 
                                                     184    184    218    219 
                                                     222    223    250    274 
                                                     276    277    283    292 
                                                     300    308    329    330 
                                                     330    362    363    369 
                                                     396    420    422    424 
                                                     429    437    449    462 
                                                     466    467    467    499 
                                                     500    506    535    557 
                                                     564    570    586    594 
                                                     604    605    609    610 
                                                     623    624    624 
