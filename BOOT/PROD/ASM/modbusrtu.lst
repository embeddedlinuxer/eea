TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE    1

        1                   ;******************************************************************************
        2                   ;* TMS320C3x/4x ANSI C Code Generator                            Version 5.11 *
        3                   ;* Date/Time created: Mon Oct 31 11:29:48 2011                                *
        4                   ;******************************************************************************
        5                           .regalias       ; enable floating point register aliases
        6          0000000b fp      .set    ar3
        7          0000000b FP      .set    ar3
        8                   ;******************************************************************************
        9                   ;* GLOBAL FILE PARAMETERS                                                     *
       10                   ;*                                                                            *
       11                   ;*   Optimization       : Always Choose Smaller Code Size                     *
       12                   ;*   Memory             : Big Memory Model                                    *
       13                   ;*   Float-to-Int       : Normal Conversions (round toward zero)              *
       14                   ;*   Multiply           : in Software (32 bits)                               *
       15                   ;*   Memory Info        : Unmapped Memory Exists                              *
       16                   ;*   Repeat Loops       : Use RPTS and/or RPTB                                *
       17                   ;*   Calls              : Normal Library ASM calls                            *
       18                   ;*   Debug Info         : Standard TI Debug Information                       *
       19                   ;******************************************************************************
       20                   ;       C:\tic3x4x\c3x4x\cgtools\bin\ac30.exe -@_50G.AAA 
       21                           .file   "modbusrtu.c"
       22                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\ETC.H"
       23                           .sym    _BOOL,0,14,13,32
       24                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\BUFFER.H"
       25                           .stag   .fake0,131744
       26                           .member _head,0,4,8,32
       27                           .member _tail,32,4,8,32
       28                           .member _n,64,4,8,32
       29                           .member _CRC16,96,14,8,32
       30                           .member _buff,128,62,8,131584,,4112
       31                           .member _locked,131712,14,8,32
       32                           .eos
       33                           .sym    _BFR,0,8,13,131744,.fake0
       34                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\FLASH.H"
       35                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\SERIAL.H"
       36                           .stag   .fake1,263936
       37                           .member _STAT,0,12,8,32
       38                           .member _TMR_Network_WDOG,32,14,8,32
       39                           .member _TMR_EOT_Delay,64,14,8,32
       40                           .member _TMR_Preamble_Delay,96,14,8,32
       41                           .member _TMR_Suffix_Delay,128,14,8,32
       42                           .member _TMR_Char,160,14,8,32
       43                           .member _TMR_enabled,192,14,8,32
       44                           .member _tvector,224,20,8,32
       45                           .member _pvector,256,20,8,32
       46                           .member _i,288,14,8,32
       47                           .member _func,320,14,8,32
       48                           .member _Slave_ID,352,14,8,32
       49                           .member _TXbuf,384,8,8,131744,.fake0
       50                           .member _TX_complete,132128,14,8,32
       51                           .member _RXbuf,132160,8,8,131744,.fake0
       52                           .member _RX_pending,263904,14,8,32
       53                           .eos
       54                           .sym    _PORTV,0,8,13,263936,.fake1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE    2

       55                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\MODBUSRTU.H"
       56                           .file   "D:\CCS\EEA_SA_V611beta\INCLUDE\I2C.H"
       57                           .file   "D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\GLBLS.H"
       58                           .file   "modbusrtu.c"
       59 00000000                  .sect    ".text"
       60                   
       61                           .global _Modbus_Initialize
       62                           .sym    _Modbus_Initialize,_Modbus_Initialize,32,2,0
       63                           .func   14
       64                   ;******************************************************************************
       65                   ;* FUNCTION NAME: _Modbus_Initialize                                          *
       66                   ;*                                                                            *
       67                   ;*   Architecture       : TMS320C33                                           *
       68                   ;*   Calling Convention : TI Standard Register Parameters                     *
       69                   ;*   Function Uses Regs : r0,ar0,ar1,ar2                                      *
       70                   ;*   Regs Saved         :                                                     *
       71                   ;*   Stack Frame        : Full (w/ debug)                                     *
       72                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
       73                   ;******************************************************************************
       74 00000000          _Modbus_Initialize:
       75                           .line   1
       76                   ;----------------------------------------------------------------------
       77                   ;  14 | void Modbus_Initialize(void)                                           
       78                   ;----------------------------------------------------------------------
       79 00000000 0f2b0000         push      fp
       80 00000001 500b0014         ldiu      sp,fp
       81                           .line   3
       82                   ;----------------------------------------------------------------------
       83                   ;  16 | Setup_UART(9600);                                                      
       84                   ;----------------------------------------------------------------------
       85 00000002 08700000-        ldp       @CL1,DP
       86 00000003 506a2580         ldiu      9600,ar2              ; |16| 
       87 00000004 50200000-        ldiu      @CL1,r0               ; |16| 
       88 00000005 70000000         callu     r0                    ; far call to _Setup_UART       ; |16| 
       89                                                           ; |16| Far Call Occurs
       90                           .line   5
       91                   ;----------------------------------------------------------------------
       92                   ;  18 | PORT.tvector = (int*)WDOG_P;                                           
       93                   ;----------------------------------------------------------------------
       94 00000006 08700000-        ldp       @CL2,DP
       95 00000007 50280001-        ldiu      @CL2,ar0              ; |18| 
       96 00000008 08700000-        ldp       @CL3,DP
       97 00000009 50200002-        ldiu      @CL3,r0               ; |18| 
       98 0000000a 1540c000         sti       r0,*ar0               ; |18| 
       99                           .line   6
      100                   ;----------------------------------------------------------------------
      101                   ;  19 | PORT.pvector = (int*)MODBUS_RX_ID;                                     
      102                   ;----------------------------------------------------------------------
      103 0000000b 08700000-        ldp       @CL4,DP
      104 0000000c 50280003-        ldiu      @CL4,ar0              ; |19| 
      105 0000000d 08700000-        ldp       @CL5,DP
      106 0000000e 50200004-        ldiu      @CL5,r0               ; |19| 
      107 0000000f 1540c000         sti       r0,*ar0               ; |19| 
      108                           .line   8
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE    3

      109                   ;----------------------------------------------------------------------
      110                   ;  21 | TIMER1_COUNTER = PORT.TMR_Network_WDOG;                                
      111                   ;----------------------------------------------------------------------
      112 00000010 08700000-        ldp       @CL7,DP
      113 00000011 50290006-        ldiu      @CL7,ar1              ; |21| 
      114 00000012 08700000-        ldp       @CL6,DP
      115 00000013 50280005-        ldiu      @CL6,ar0              ; |21| 
      116 00000014 5040c100         ldiu      *ar1,r0               ; |21| 
      117 00000015 1540c000         sti       r0,*ar0               ; |21| 
      118                           .line   9
      119                   ;----------------------------------------------------------------------
      120                   ;  22 | PORT.TMR_enabled = TRUE;                                               
      121                   ;----------------------------------------------------------------------
      122 00000016 08700000-        ldp       @CL8,DP
      123 00000017 50280007-        ldiu      @CL8,ar0              ; |22| 
      124 00000018 50600001         ldiu      1,r0                  ; |22| 
      125 00000019 1540c000         sti       r0,*ar0               ; |22| 
      126                           .line   10
      127                                                           ; Begin Epilog Code
      128 0000001a 50410b01         ldiu      *-fp(1),r1
      129 0000001b 504bc300         ldiu      *fp,fp
      130                                                           ; Unallocate the Frame
      131 0000001c 18740002         subi      2,sp
      132 0000001d 68000001         bu        r1
      133                   ;*      Branch Occurs to r1 
      134                           .endfunc        23,000000000h,0
      135                   
      136                   
      137 0000001e                  .sect    ".text"
      138                   
      139                           .global _WDOG_P
      140                           .sym    _WDOG_P,_WDOG_P,32,2,0
      141                           .func   25
      142                   ;******************************************************************************
      143                   ;* FUNCTION NAME: _WDOG_P                                                     *
      144                   ;*                                                                            *
      145                   ;*   Architecture       : TMS320C33                                           *
      146                   ;*   Calling Convention : TI Standard Register Parameters                     *
      147                   ;*   Function Uses Regs : r0,ar0,ar1,st                                       *
      148                   ;*   Regs Saved         :                                                     *
      149                   ;*   Stack Frame        : Full (w/ debug)                                     *
      150                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
      151                   ;******************************************************************************
      152 0000001e          _WDOG_P:
      153                           .line   1
      154                   ;----------------------------------------------------------------------
      155                   ;  25 | void WDOG_P(void)                                                      
      156                   ;----------------------------------------------------------------------
      157 0000001e 0f2b0000         push      fp
      158 0000001f 500b0014         ldiu      sp,fp
      159                           .line   3
      160                   ;----------------------------------------------------------------------
      161                   ;  27 | TIMER1_COUNTER = PORT.TMR_Network_WDOG;                                
      162                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE    4

      163 00000020 08700000-        ldp       @CL7,DP
      164 00000021 50280006-        ldiu      @CL7,ar0              ; |27| 
      165 00000022 08700000-        ldp       @CL6,DP
      166 00000023 50290005-        ldiu      @CL6,ar1              ; |27| 
      167 00000024 5040c000         ldiu      *ar0,r0               ; |27| 
      168 00000025 1540c100         sti       r0,*ar1               ; |27| 
      169                           .line   4
      170                   ;----------------------------------------------------------------------
      171                   ;  28 | if (!PORT.TX_complete) return;                                         
      172                   ;----------------------------------------------------------------------
      173 00000026 08700000-        ldp       @CL9,DP
      174 00000027 50280008-        ldiu      @CL9,ar0              ; |28| 
      175 00000028 5040c000         ldiu      *ar0,r0               ; |28| 
      176 00000029 04e00000         cmpi      0,r0                  ; |28| 
      177 0000002a 6a05000b         beq       L6                    ; |28| 
      178                   ;*      Branch Occurs to L6             ; |28| 
      179                           .line   5
      180                   ;----------------------------------------------------------------------
      181                   ;  29 | Clear_RX();                                                            
      182                   ;----------------------------------------------------------------------
      183 0000002b 08700000-        ldp       @CL10,DP
      184 0000002c 50200009-        ldiu      @CL10,r0              ; |29| 
      185 0000002d 70000000         callu     r0                    ; far call to _Clear_RX ; |29| 
      186                                                           ; |29| Far Call Occurs
      187                           .line   6
      188                   ;----------------------------------------------------------------------
      189                   ;  30 | PORT.pvector = (int*)MODBUS_RX_ID;                                     
      190                   ;----------------------------------------------------------------------
      191 0000002e 08700000-        ldp       @CL4,DP
      192 0000002f 50280003-        ldiu      @CL4,ar0              ; |30| 
      193 00000030 08700000-        ldp       @CL5,DP
      194 00000031 50200004-        ldiu      @CL5,r0               ; |30| 
      195 00000032 1540c000         sti       r0,*ar0               ; |30| 
      196                           .line   7
      197                   ;----------------------------------------------------------------------
      198                   ;  31 | NOPS;                                                                  
      199                   ;----------------------------------------------------------------------
      200 00000033 0c800000         NOP                     
      201 00000034 0c800000         NOP                     
      202 00000035 0c800000         NOP                     
      203 00000036          L6:        
      204                           .line   8
      205                                                           ; Begin Epilog Code
      206 00000036 50410b01         ldiu      *-fp(1),r1
      207 00000037 504bc300         ldiu      *fp,fp
      208                                                           ; Unallocate the Frame
      209 00000038 18740002         subi      2,sp
      210 00000039 68000001         bu        r1
      211                   ;*      Branch Occurs to r1 
      212                           .endfunc        32,000000000h,0
      213                   
      214                   
      215 0000003a                  .sect    ".text"
      216                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE    5

      217                           .global _TX_P
      218                           .sym    _TX_P,_TX_P,32,2,0
      219                           .func   34
      220                   ;******************************************************************************
      221                   ;* FUNCTION NAME: _TX_P                                                       *
      222                   ;*                                                                            *
      223                   ;*   Architecture       : TMS320C33                                           *
      224                   ;*   Calling Convention : TI Standard Register Parameters                     *
      225                   ;*   Function Uses Regs : r0,ar0,ar1,st                                       *
      226                   ;*   Regs Saved         :                                                     *
      227                   ;*   Stack Frame        : Full (w/ debug)                                     *
      228                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
      229                   ;******************************************************************************
      230 0000003a          _TX_P:
      231                           .line   1
      232                   ;----------------------------------------------------------------------
      233                   ;  34 | void TX_P(void)                                                        
      234                   ;----------------------------------------------------------------------
      235 0000003a 0f2b0000         push      fp
      236 0000003b 500b0014         ldiu      sp,fp
      237                           .line   3
      238                   ;----------------------------------------------------------------------
      239                   ;  36 | PORT.TX_complete = FALSE;                                              
      240                   ;----------------------------------------------------------------------
      241 0000003c 08700000-        ldp       @CL9,DP
      242 0000003d 50280008-        ldiu      @CL9,ar0              ; |36| 
      243 0000003e 50600000         ldiu      0,r0                  ; |36| 
      244 0000003f 1540c000         sti       r0,*ar0               ; |36| 
      245                           .line   4
      246                   ;----------------------------------------------------------------------
      247                   ;  37 | if (HW_VER&0x80)                                                       
      248                   ;----------------------------------------------------------------------
      249 00000040 08700000-        ldp       @CL11,DP
      250 00000041 5028000a-        ldiu      @CL11,ar0             ; |37| 
      251 00000042 50600080         ldiu      128,r0                ; |37| 
      252 00000043 27c000c0         tstb3     *ar0,r0               ; |37| 
      253 00000044 6a050009         beq       L10                   ; |37| 
      254                   ;*      Branch Occurs to L10            ; |37| 
      255                           .line   6
      256                   ;----------------------------------------------------------------------
      257                   ;  39 | ENABLE_TXB;                                                            
      258                   ;  41 | else                                                                   
      259                   ;----------------------------------------------------------------------
      260 00000045 0f350000         push    ST                      
      261 00000046 03752000         andn    2000h, ST       
      262 00000047 08700000-        ldp       @CL12,DP
      263 00000048 5028000b-        ldiu      @CL12,ar0             ; |39| 
      264 00000049 506000fe         ldiu      254,r0                ; |39| 
      265 0000004a 21a0c000         and3      r0,*ar0,r0            ; |39| 
      266 0000004b 1540c000         sti       r0,*ar0               ; |39| 
      267 0000004c 0e350000         pop             ST                      
      268 0000004d 6a00000c         bu        L11                   ; |33| 
      269                   ;*      Branch Occurs to L11            ; |33| 
      270 0000004e          L10:        
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE    6

      271                           .line   10
      272                   ;----------------------------------------------------------------------
      273                   ;  43 | NOPS; UART[BOOTPORT][MCR] |= 0x01;                      /* enable trans
      274                   ;     | mitter */                                                              
      275                   ;----------------------------------------------------------------------
      276 0000004e 0c800000         NOP                     
      277 0000004f 0c800000         NOP                     
      278 00000050 0c800000         NOP                     
      279 00000051 08700000-        ldp       @CL14,DP
      280 00000052 50600004         ldiu      4,r0                  ; |43| 
      281 00000053 5028000d-        ldiu      @CL14,ar0             ; |43| 
      282 00000054 08700000-        ldp       @CL13,DP
      283 00000055 22a8c000         ash3      r0,*ar0,ar0           ; |43| 
      284 00000056 0228000c-        addi      @CL13,ar0             ; |43| Unsigned
      285 00000057 50600001         ldiu      1,r0                  ; |43| 
      286 00000058 10400004         or        *+ar0(4),r0           ; |43| 
      287 00000059 15400004         sti       r0,*+ar0(4)           ; |43| 
      288 0000005a          L11:        
      289                           .line   13
      290                   ;----------------------------------------------------------------------
      291                   ;  46 | PORT.tvector = (int*)TX_P1;                                            
      292                   ;----------------------------------------------------------------------
      293 0000005a 08700000-        ldp       @CL2,DP
      294 0000005b 50280001-        ldiu      @CL2,ar0              ; |46| 
      295 0000005c 08700000-        ldp       @CL15,DP
      296 0000005d 5020000e-        ldiu      @CL15,r0              ; |46| 
      297 0000005e 1540c000         sti       r0,*ar0               ; |46| 
      298                           .line   14
      299                   ;----------------------------------------------------------------------
      300                   ;  47 | TIMER1_COUNTER = PORT.TMR_Preamble_Delay;                              
      301                   ;----------------------------------------------------------------------
      302 0000005f 08700000-        ldp       @CL16,DP
      303 00000060 5029000f-        ldiu      @CL16,ar1             ; |47| 
      304 00000061 08700000-        ldp       @CL6,DP
      305 00000062 50280005-        ldiu      @CL6,ar0              ; |47| 
      306 00000063 5040c100         ldiu      *ar1,r0               ; |47| 
      307 00000064 1540c000         sti       r0,*ar0               ; |47| 
      308                           .line   15
      309                                                           ; Begin Epilog Code
      310 00000065 50410b01         ldiu      *-fp(1),r1
      311 00000066 504bc300         ldiu      *fp,fp
      312                                                           ; Unallocate the Frame
      313 00000067 18740002         subi      2,sp
      314 00000068 68000001         bu        r1
      315                   ;*      Branch Occurs to r1 
      316                           .endfunc        48,000000000h,0
      317                   
      318                   
      319 00000069                  .sect    ".text"
      320                   
      321                           .global _TX_P1
      322                           .sym    _TX_P1,_TX_P1,32,2,0
      323                           .func   50
      324                   ;******************************************************************************
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE    7

      325                   ;* FUNCTION NAME: _TX_P1                                                      *
      326                   ;*                                                                            *
      327                   ;*   Architecture       : TMS320C33                                           *
      328                   ;*   Calling Convention : TI Standard Register Parameters                     *
      329                   ;*   Function Uses Regs : r0,r1,ar0,ar1,ar2,ir0                               *
      330                   ;*   Regs Saved         :                                                     *
      331                   ;*   Stack Frame        : Full (w/ debug)                                     *
      332                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
      333                   ;******************************************************************************
      334 00000069          _TX_P1:
      335                           .line   1
      336                   ;----------------------------------------------------------------------
      337                   ;  50 | void TX_P1(void)                                                       
      338                   ;----------------------------------------------------------------------
      339 00000069 0f2b0000         push      fp
      340 0000006a 500b0014         ldiu      sp,fp
      341                           .line   3
      342                   ;----------------------------------------------------------------------
      343                   ;  52 | PORT.TMR_enabled = FALSE;                                              
      344                   ;----------------------------------------------------------------------
      345 0000006b 08700000-        ldp       @CL8,DP
      346 0000006c 50280007-        ldiu      @CL8,ar0              ; |52| 
      347 0000006d 50600000         ldiu      0,r0                  ; |52| 
      348 0000006e 1540c000         sti       r0,*ar0               ; |52| 
      349                           .line   4
      350                   ;----------------------------------------------------------------------
      351                   ;  53 | PORT.tvector = (int*)TX_S;                                             
      352                   ;----------------------------------------------------------------------
      353 0000006f 08700000-        ldp       @CL2,DP
      354 00000070 50280001-        ldiu      @CL2,ar0              ; |53| 
      355 00000071 08700000-        ldp       @CL17,DP
      356 00000072 50200010-        ldiu      @CL17,r0              ; |53| 
      357 00000073 1540c000         sti       r0,*ar0               ; |53| 
      358                           .line   5
      359                   ;----------------------------------------------------------------------
      360                   ;  54 | NOPS;                                                                  
      361                   ;----------------------------------------------------------------------
      362 00000074 0c800000         NOP                     
      363 00000075 0c800000         NOP                     
      364 00000076 0c800000         NOP                     
      365                           .line   6
      366                   ;----------------------------------------------------------------------
      367                   ;  55 | UART[BOOTPORT][IER] = 0x02;     /* enable THR, disable RHR interrupts *
      368                   ;     | /                                                                      
      369                   ;----------------------------------------------------------------------
      370 00000077 08700000-        ldp       @CL14,DP
      371 00000078 5029000d-        ldiu      @CL14,ar1             ; |55| 
      372 00000079 08700000-        ldp       @CL18,DP
      373 0000007a 50600004         ldiu      4,r0                  ; |55| 
      374 0000007b 50280011-        ldiu      @CL18,ar0             ; |55| 
      375 0000007c 22b1c100         ash3      r0,*ar1,ir0           ; |55| 
      376 0000007d 50600002         ldiu      2,r0                  ; |55| 
      377 0000007e 15404000         sti       r0,*+ar0(ir0)         ; |55| 
      378                           .line   7
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE    8

      379                   ;----------------------------------------------------------------------
      380                   ;  56 | NOPS;                                                                  
      381                   ;----------------------------------------------------------------------
      382 0000007f 0c800000         NOP                     
      383 00000080 0c800000         NOP                     
      384 00000081 0c800000         NOP                     
      385                           .line   8
      386                   ;----------------------------------------------------------------------
      387                   ;  57 | UART[BOOTPORT][THR] = Get(&PORT.TXbuf);                                
      388                   ;----------------------------------------------------------------------
      389 00000082 08700000-        ldp       @CL20,DP
      390 00000083 50200013-        ldiu      @CL20,r0              ; |57| 
      391 00000084 08700000-        ldp       @CL19,DP
      392 00000085 502a0012-        ldiu      @CL19,ar2             ; |57| 
      393 00000086 70000000         callu     r0                    ; far call to _Get      ; |57| 
      394                                                           ; |57| Far Call Occurs
      395 00000087 08700000-        ldp       @CL14,DP
      396 00000088 5029000d-        ldiu      @CL14,ar1             ; |57| 
      397 00000089 08700000-        ldp       @CL13,DP
      398 0000008a 5028000c-        ldiu      @CL13,ar0             ; |57| 
      399 0000008b 50610004         ldiu      4,r1                  ; |57| 
      400 0000008c 22b1c101         ash3      r1,*ar1,ir0           ; |57| 
      401 0000008d 15404000         sti       r0,*+ar0(ir0)         ; |57| 
      402                           .line   9
      403                                                           ; Begin Epilog Code
      404 0000008e 50410b01         ldiu      *-fp(1),r1
      405 0000008f 504bc300         ldiu      *fp,fp
      406                                                           ; Unallocate the Frame
      407 00000090 18740002         subi      2,sp
      408 00000091 68000001         bu        r1
      409                   ;*      Branch Occurs to r1 
      410                           .endfunc        58,000000000h,0
      411                   
      412                   
      413 00000092                  .sect    ".text"
      414                   
      415                           .global _TX_S
      416                           .sym    _TX_S,_TX_S,32,2,0
      417                           .func   60
      418                   ;******************************************************************************
      419                   ;* FUNCTION NAME: _TX_S                                                       *
      420                   ;*                                                                            *
      421                   ;*   Architecture       : TMS320C33                                           *
      422                   ;*   Calling Convention : TI Standard Register Parameters                     *
      423                   ;*   Function Uses Regs : r0,ar0,ar1,ir0,st                                   *
      424                   ;*   Regs Saved         :                                                     *
      425                   ;*   Stack Frame        : Full (w/ debug)                                     *
      426                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
      427                   ;******************************************************************************
      428 00000092          _TX_S:
      429                           .line   1
      430                   ;----------------------------------------------------------------------
      431                   ;  60 | void TX_S(void)                                                        
      432                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE    9

      433 00000092 0f2b0000         push      fp
      434 00000093 500b0014         ldiu      sp,fp
      435                           .line   3
      436                   ;----------------------------------------------------------------------
      437                   ;  62 | if (HW_VER&0x80)                                                       
      438                   ;----------------------------------------------------------------------
      439 00000094 08700000-        ldp       @CL11,DP
      440 00000095 5028000a-        ldiu      @CL11,ar0             ; |62| 
      441 00000096 50600080         ldiu      128,r0                ; |62| 
      442 00000097 27c000c0         tstb3     *ar0,r0               ; |62| 
      443 00000098 6a050009         beq       L19                   ; |62| 
      444                   ;*      Branch Occurs to L19            ; |62| 
      445                           .line   5
      446                   ;----------------------------------------------------------------------
      447                   ;  64 | DISABLE_TXB;                                                           
      448                   ;  66 | else                                                                   
      449                   ;----------------------------------------------------------------------
      450 00000099 0f350000         push    ST                      
      451 0000009a 03752000         andn    2000h, ST       
      452 0000009b 08700000-        ldp       @CL12,DP
      453 0000009c 5028000b-        ldiu      @CL12,ar0             ; |64| 
      454 0000009d 50600001         ldiu      1,r0                  ; |64| 
      455 0000009e 25a0c000         or3       r0,*ar0,r0            ; |64| 
      456 0000009f 1540c000         sti       r0,*ar0               ; |64| 
      457 000000a0 0e350000         pop             ST                      
      458 000000a1 6a000009         bu        L20                   ; |59| 
      459                   ;*      Branch Occurs to L20            ; |59| 
      460 000000a2          L19:        
      461                           .line   9
      462                   ;----------------------------------------------------------------------
      463                   ;  68 | UART[BOOTPORT][MCR] &= 0x7E;                    /* disable transmitter
      464                   ;     | */                                                                     
      465                   ;----------------------------------------------------------------------
      466 000000a2 08700000-        ldp       @CL14,DP
      467 000000a3 50600004         ldiu      4,r0                  ; |68| 
      468 000000a4 5028000d-        ldiu      @CL14,ar0             ; |68| 
      469 000000a5 08700000-        ldp       @CL13,DP
      470 000000a6 22a8c000         ash3      r0,*ar0,ar0           ; |68| 
      471 000000a7 0228000c-        addi      @CL13,ar0             ; |68| Unsigned
      472 000000a8 5060007e         ldiu      126,r0                ; |68| 
      473 000000a9 02c00004         and       *+ar0(4),r0           ; |68| 
      474 000000aa 15400004         sti       r0,*+ar0(4)           ; |68| 
      475 000000ab          L20:        
      476                           .line   12
      477                   ;----------------------------------------------------------------------
      478                   ;  71 | Clear_RX();                                                            
      479                   ;----------------------------------------------------------------------
      480 000000ab 08700000-        ldp       @CL10,DP
      481 000000ac 50200009-        ldiu      @CL10,r0              ; |71| 
      482 000000ad 70000000         callu     r0                    ; far call to _Clear_RX ; |71| 
      483                                                           ; |71| Far Call Occurs
      484                           .line   13
      485                   ;----------------------------------------------------------------------
      486                   ;  72 | PORT.tvector = (int*)WDOG_P;                                           
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   10

      487                   ;----------------------------------------------------------------------
      488 000000ae 08700000-        ldp       @CL2,DP
      489 000000af 50280001-        ldiu      @CL2,ar0              ; |72| 
      490 000000b0 08700000-        ldp       @CL3,DP
      491 000000b1 50200002-        ldiu      @CL3,r0               ; |72| 
      492 000000b2 1540c000         sti       r0,*ar0               ; |72| 
      493                           .line   14
      494                   ;----------------------------------------------------------------------
      495                   ;  73 | TIMER1_COUNTER = PORT.TMR_Network_WDOG;                                
      496                   ;----------------------------------------------------------------------
      497 000000b3 08700000-        ldp       @CL7,DP
      498 000000b4 50280006-        ldiu      @CL7,ar0              ; |73| 
      499 000000b5 08700000-        ldp       @CL6,DP
      500 000000b6 50290005-        ldiu      @CL6,ar1              ; |73| 
      501 000000b7 5040c000         ldiu      *ar0,r0               ; |73| 
      502 000000b8 1540c100         sti       r0,*ar1               ; |73| 
      503                           .line   15
      504                   ;----------------------------------------------------------------------
      505                   ;  74 | PORT.TX_complete = TRUE;                                               
      506                   ;----------------------------------------------------------------------
      507 000000b9 08700000-        ldp       @CL9,DP
      508 000000ba 50280008-        ldiu      @CL9,ar0              ; |74| 
      509 000000bb 50600001         ldiu      1,r0                  ; |74| 
      510 000000bc 1540c000         sti       r0,*ar0               ; |74| 
      511                           .line   16
      512                   ;----------------------------------------------------------------------
      513                   ;  75 | NOPS;                                                                  
      514                   ;----------------------------------------------------------------------
      515 000000bd 0c800000         NOP                     
      516 000000be 0c800000         NOP                     
      517 000000bf 0c800000         NOP                     
      518                           .line   17
      519                   ;----------------------------------------------------------------------
      520                   ;  76 | UART[BOOTPORT][IER] = 0x01;     /* disable THR, enable RHR interrupts *
      521                   ;     | /                                                                      
      522                   ;----------------------------------------------------------------------
      523 000000c0 08700000-        ldp       @CL14,DP
      524 000000c1 50600004         ldiu      4,r0                  ; |76| 
      525 000000c2 5028000d-        ldiu      @CL14,ar0             ; |76| 
      526 000000c3 08700000-        ldp       @CL18,DP
      527 000000c4 22b1c000         ash3      r0,*ar0,ir0           ; |76| 
      528 000000c5 50290011-        ldiu      @CL18,ar1             ; |76| 
      529 000000c6 50600001         ldiu      1,r0                  ; |76| 
      530 000000c7 15404100         sti       r0,*+ar1(ir0)         ; |76| 
      531                           .line   18
      532                                                           ; Begin Epilog Code
      533 000000c8 50410b01         ldiu      *-fp(1),r1
      534 000000c9 504bc300         ldiu      *fp,fp
      535                                                           ; Unallocate the Frame
      536 000000ca 18740002         subi      2,sp
      537 000000cb 68000001         bu        r1
      538                   ;*      Branch Occurs to r1 
      539                           .endfunc        77,000000000h,0
      540                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   11

      541                   
      542 000000cc                  .sect    ".text"
      543                   
      544                           .global _MODBUS_RX_ID
      545                           .sym    _MODBUS_RX_ID,_MODBUS_RX_ID,32,2,0
      546                           .func   79
      547                   ;******************************************************************************
      548                   ;* FUNCTION NAME: _MODBUS_RX_ID                                               *
      549                   ;*                                                                            *
      550                   ;*   Architecture       : TMS320C33                                           *
      551                   ;*   Calling Convention : TI Standard Register Parameters                     *
      552                   ;*   Function Uses Regs : r0,r1,ar0,ar1,ir0                                   *
      553                   ;*   Regs Saved         :                                                     *
      554                   ;*   Stack Frame        : Full (w/ debug)                                     *
      555                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
      556                   ;******************************************************************************
      557 000000cc          _MODBUS_RX_ID:
      558                           .line   1
      559                   ;----------------------------------------------------------------------
      560                   ;  79 | void MODBUS_RX_ID(void)                                                
      561                   ;----------------------------------------------------------------------
      562 000000cc 0f2b0000         push      fp
      563 000000cd 500b0014         ldiu      sp,fp
      564                           .line   3
      565                   ;----------------------------------------------------------------------
      566                   ;  81 | PORT.TMR_enabled = FALSE;                                              
      567                   ;----------------------------------------------------------------------
      568 000000ce 08700000-        ldp       @CL8,DP
      569 000000cf 50280007-        ldiu      @CL8,ar0              ; |81| 
      570 000000d0 50600000         ldiu      0,r0                  ; |81| 
      571 000000d1 1540c000         sti       r0,*ar0               ; |81| 
      572                           .line   4
      573                   ;----------------------------------------------------------------------
      574                   ;  82 | PORT.i = (PORT.RXbuf.buff[PORT.RXbuf.n-1] & 0xFF);      /* (temporary,
      575                   ;     | for debug purposes) */                                                 
      576                   ;----------------------------------------------------------------------
      577 000000d2 08700000-        ldp       @CL23,DP
      578 000000d3 50280016-        ldiu      @CL23,ar0             ; |82| 
      579 000000d4 08700000-        ldp       @CL22,DP
      580 000000d5 50610001         ldiu      1,r1                  ; |82| 
      581 000000d6 50290015-        ldiu      @CL22,ar1             ; |82| 
      582 000000d7 2731c001         subi3     r1,*ar0,ir0           ; |82| 
      583 000000d8 08700000-        ldp       @CL21,DP
      584 000000d9 506000ff         ldiu      255,r0                ; |82| 
      585 000000da 50280014-        ldiu      @CL21,ar0             ; |82| 
      586 000000db 21a04100         and3      r0,*+ar1(ir0),r0      ; |82| 
      587 000000dc 1540c000         sti       r0,*ar0               ; |82| 
      588                           .line   5
      589                   ;----------------------------------------------------------------------
      590                   ;  83 | PORT.RX_pending = TRUE;                                                
      591                   ;----------------------------------------------------------------------
      592 000000dd 08700000-        ldp       @CL24,DP
      593 000000de 50280017-        ldiu      @CL24,ar0             ; |83| 
      594 000000df 50600001         ldiu      1,r0                  ; |83| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   12

      595 000000e0 1540c000         sti       r0,*ar0               ; |83| 
      596                           .line   6
      597                   ;----------------------------------------------------------------------
      598                   ;  84 | PORT.pvector = (int*) MODBUS_RX_FUNCTION;                              
      599                   ;----------------------------------------------------------------------
      600 000000e1 08700000-        ldp       @CL4,DP
      601 000000e2 50280003-        ldiu      @CL4,ar0              ; |84| 
      602 000000e3 08700000-        ldp       @CL25,DP
      603 000000e4 50200018-        ldiu      @CL25,r0              ; |84| 
      604 000000e5 1540c000         sti       r0,*ar0               ; |84| 
      605                           .line   7
      606                   ;----------------------------------------------------------------------
      607                   ;  85 | PORT.TMR_enabled = TRUE;                                               
      608                   ;----------------------------------------------------------------------
      609 000000e6 08700000-        ldp       @CL8,DP
      610 000000e7 50280007-        ldiu      @CL8,ar0              ; |85| 
      611 000000e8 50600001         ldiu      1,r0                  ; |85| 
      612 000000e9 1540c000         sti       r0,*ar0               ; |85| 
      613                           .line   8
      614                                                           ; Begin Epilog Code
      615 000000ea 50410b01         ldiu      *-fp(1),r1
      616 000000eb 504bc300         ldiu      *fp,fp
      617                                                           ; Unallocate the Frame
      618 000000ec 18740002         subi      2,sp
      619 000000ed 68000001         bu        r1
      620                   ;*      Branch Occurs to r1 
      621                           .endfunc        86,000000000h,0
      622                   
      623                   
      624 000000ee                  .sect    ".text"
      625                   
      626                           .global _MODBUS_RX_FUNCTION
      627                           .sym    _MODBUS_RX_FUNCTION,_MODBUS_RX_FUNCTION,32,2,0
      628                           .func   88
      629                   ;******************************************************************************
      630                   ;* FUNCTION NAME: _MODBUS_RX_FUNCTION                                         *
      631                   ;*                                                                            *
      632                   ;*   Architecture       : TMS320C33                                           *
      633                   ;*   Calling Convention : TI Standard Register Parameters                     *
      634                   ;*   Function Uses Regs : r0,r1,ar0,ar1,ir0,st                                *
      635                   ;*   Regs Saved         :                                                     *
      636                   ;*   Stack Frame        : Full (w/ debug)                                     *
      637                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
      638                   ;******************************************************************************
      639 000000ee          _MODBUS_RX_FUNCTION:
      640                           .line   1
      641                   ;----------------------------------------------------------------------
      642                   ;  88 | void MODBUS_RX_FUNCTION(void)                                          
      643                   ;----------------------------------------------------------------------
      644 000000ee 0f2b0000         push      fp
      645 000000ef 500b0014         ldiu      sp,fp
      646                           .line   3
      647                   ;----------------------------------------------------------------------
      648                   ;  90 | PORT.TMR_enabled = FALSE;                                              
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   13

      649                   ;----------------------------------------------------------------------
      650 000000f0 08700000-        ldp       @CL8,DP
      651 000000f1 50280007-        ldiu      @CL8,ar0              ; |90| 
      652 000000f2 50600000         ldiu      0,r0                  ; |90| 
      653 000000f3 1540c000         sti       r0,*ar0               ; |90| 
      654                           .line   4
      655                   ;----------------------------------------------------------------------
      656                   ;  91 | PORT.func = (PORT.RXbuf.buff[PORT.RXbuf.n-1] & 0xFF);                  
      657                   ;  93 | switch(PORT.func)                                                      
      658                   ;  95 |         case mb_cmd_pdi_write_ESN:                                     
      659                   ;----------------------------------------------------------------------
      660 000000f4 08700000-        ldp       @CL23,DP
      661 000000f5 50280016-        ldiu      @CL23,ar0             ; |91| 
      662 000000f6 08700000-        ldp       @CL22,DP
      663 000000f7 50610001         ldiu      1,r1                  ; |91| 
      664 000000f8 50290015-        ldiu      @CL22,ar1             ; |91| 
      665 000000f9 2731c001         subi3     r1,*ar0,ir0           ; |91| 
      666 000000fa 08700000-        ldp       @CL26,DP
      667 000000fb 506000ff         ldiu      255,r0                ; |91| 
      668 000000fc 50280019-        ldiu      @CL26,ar0             ; |91| 
      669 000000fd 21a04100         and3      r0,*+ar1(ir0),r0      ; |91| 
      670 000000fe 1540c000         sti       r0,*ar0               ; |91| 
      671 000000ff 6a000046         bu        L34                   ; |87| 
      672                   ;*      Branch Occurs to L34            ; |87| 
      673 00000100          L27:        
      674                           .line   10
      675                   ;----------------------------------------------------------------------
      676                   ;  97 | PORT.i = 16;                                                           
      677                   ;----------------------------------------------------------------------
      678 00000100 08700000-        ldp       @CL21,DP
      679 00000101 50280014-        ldiu      @CL21,ar0             ; |97| 
      680 00000102 50600010         ldiu      16,r0                 ; |97| 
      681 00000103 1540c000         sti       r0,*ar0               ; |97| 
      682                           .line   11
      683                   ;----------------------------------------------------------------------
      684                   ;  98 | PORT.pvector = (int*) MODBUS_RX_nDATA;                                 
      685                   ;----------------------------------------------------------------------
      686 00000104 08700000-        ldp       @CL4,DP
      687 00000105 50280003-        ldiu      @CL4,ar0              ; |98| 
      688 00000106 08700000-        ldp       @CL27,DP
      689 00000107 5020001a-        ldiu      @CL27,r0              ; |98| 
      690 00000108 1540c000         sti       r0,*ar0               ; |98| 
      691                           .line   12
      692                   ;----------------------------------------------------------------------
      693                   ;  99 | break;                                                                 
      694                   ; 102 | case mb_cmd_pdi_MAX_BAUD:                                              
      695                   ; 103 | case mb_cmd_pdi_RESET:                                                 
      696                   ; 104 | case mb_cmd_pdi_EXIT:                                                  
      697                   ; 105 | case mb_cmd_pdi_ERASE_CFG:                                             
      698                   ; 106 | case mb_cmd_pdi_RESTORE_FACTORY_DEFAULTS:                              
      699                   ; 107 | case mb_cmd_pdi_read_ESN:                                              
      700                   ; 108 | case mb_cmd_pdi_clear_scratchpad:                                      
      701                   ;----------------------------------------------------------------------
      702 00000109 6a00005d         bu        L43                   ; |99| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   14

      703                   ;*      Branch Occurs to L43            ; |99| 
      704 0000010a          L28:        
      705                           .line   23
      706                   ;----------------------------------------------------------------------
      707                   ; 110 | PORT.i = 2;                                                            
      708                   ;----------------------------------------------------------------------
      709 0000010a 08700000-        ldp       @CL21,DP
      710 0000010b 50280014-        ldiu      @CL21,ar0             ; |110| 
      711 0000010c 50600002         ldiu      2,r0                  ; |110| 
      712 0000010d 1540c000         sti       r0,*ar0               ; |110| 
      713                           .line   24
      714                   ;----------------------------------------------------------------------
      715                   ; 111 | PORT.pvector = (int*) MODBUS_RX_CRC;                                   
      716                   ;----------------------------------------------------------------------
      717 0000010e 08700000-        ldp       @CL4,DP
      718 0000010f 50280003-        ldiu      @CL4,ar0              ; |111| 
      719 00000110 08700000-        ldp       @CL28,DP
      720 00000111 5020001b-        ldiu      @CL28,r0              ; |111| 
      721 00000112 1540c000         sti       r0,*ar0               ; |111| 
      722                           .line   25
      723                   ;----------------------------------------------------------------------
      724                   ; 112 | break;                                                                 
      725                   ; 115 | case mb_cmd_pdi_BAUD:                                                  
      726                   ;----------------------------------------------------------------------
      727 00000113 6a000053         bu        L43                   ; |112| 
      728                   ;*      Branch Occurs to L43            ; |112| 
      729 00000114          L29:        
      730                           .line   30
      731                   ;----------------------------------------------------------------------
      732                   ; 117 | PORT.i = 4;                                                            
      733                   ;----------------------------------------------------------------------
      734 00000114 08700000-        ldp       @CL21,DP
      735 00000115 50280014-        ldiu      @CL21,ar0             ; |117| 
      736 00000116 50600004         ldiu      4,r0                  ; |117| 
      737 00000117 1540c000         sti       r0,*ar0               ; |117| 
      738                           .line   31
      739                   ;----------------------------------------------------------------------
      740                   ; 118 | PORT.pvector = (int*) MODBUS_RX_CRC;                                   
      741                   ;----------------------------------------------------------------------
      742 00000118 08700000-        ldp       @CL4,DP
      743 00000119 50280003-        ldiu      @CL4,ar0              ; |118| 
      744 0000011a 08700000-        ldp       @CL28,DP
      745 0000011b 5020001b-        ldiu      @CL28,r0              ; |118| 
      746 0000011c 1540c000         sti       r0,*ar0               ; |118| 
      747                           .line   32
      748                   ;----------------------------------------------------------------------
      749                   ; 119 | break;                                                                 
      750                   ; 122 | case mb_cmd_pdi_read:                                                  
      751                   ;----------------------------------------------------------------------
      752 0000011d 6a000049         bu        L43                   ; |119| 
      753                   ;*      Branch Occurs to L43            ; |119| 
      754 0000011e          L30:        
      755                           .line   37
      756                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   15

      757                   ; 124 | PORT.i = 6;                                                            
      758                   ;----------------------------------------------------------------------
      759 0000011e 08700000-        ldp       @CL21,DP
      760 0000011f 50280014-        ldiu      @CL21,ar0             ; |124| 
      761 00000120 50600006         ldiu      6,r0                  ; |124| 
      762 00000121 1540c000         sti       r0,*ar0               ; |124| 
      763                           .line   38
      764                   ;----------------------------------------------------------------------
      765                   ; 125 | PORT.pvector = (int*) MODBUS_RX_nDATA;                                 
      766                   ;----------------------------------------------------------------------
      767 00000122 08700000-        ldp       @CL4,DP
      768 00000123 50280003-        ldiu      @CL4,ar0              ; |125| 
      769 00000124 08700000-        ldp       @CL27,DP
      770 00000125 5020001a-        ldiu      @CL27,r0              ; |125| 
      771 00000126 1540c000         sti       r0,*ar0               ; |125| 
      772                           .line   39
      773                   ;----------------------------------------------------------------------
      774                   ; 126 | break;                                                                 
      775                   ; 129 | case mb_cmd_pdi_write_scratchpad:                                      
      776                   ; 130 | case mb_cmd_pdi_write:                                                 
      777                   ;----------------------------------------------------------------------
      778 00000127 6a00003f         bu        L43                   ; |126| 
      779                   ;*      Branch Occurs to L43            ; |126| 
      780 00000128          L31:        
      781                           .line   45
      782                   ;----------------------------------------------------------------------
      783                   ; 132 | PORT.i = 6;                                                            
      784                   ;----------------------------------------------------------------------
      785 00000128 08700000-        ldp       @CL21,DP
      786 00000129 50280014-        ldiu      @CL21,ar0             ; |132| 
      787 0000012a 50600006         ldiu      6,r0                  ; |132| 
      788 0000012b 1540c000         sti       r0,*ar0               ; |132| 
      789                           .line   46
      790                   ;----------------------------------------------------------------------
      791                   ; 133 | PORT.pvector = (int*) MODBUS_RX_nw;                                    
      792                   ;----------------------------------------------------------------------
      793 0000012c 08700000-        ldp       @CL4,DP
      794 0000012d 50280003-        ldiu      @CL4,ar0              ; |133| 
      795 0000012e 08700000-        ldp       @CL29,DP
      796 0000012f 5020001c-        ldiu      @CL29,r0              ; |133| 
      797 00000130 1540c000         sti       r0,*ar0               ; |133| 
      798                           .line   47
      799                   ;----------------------------------------------------------------------
      800                   ; 134 | break;                                                                 
      801                   ; 137 | case mb_cmd_pdi_store_scratchpad:                                      
      802                   ; 138 | case mb_cmd_pdi_set_entry_point:                                       
      803                   ;----------------------------------------------------------------------
      804 00000131 6a000035         bu        L43                   ; |134| 
      805                   ;*      Branch Occurs to L43            ; |134| 
      806 00000132          L32:        
      807                           .line   53
      808                   ;----------------------------------------------------------------------
      809                   ; 140 | PORT.i = 4;                                                            
      810                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   16

      811 00000132 08700000-        ldp       @CL21,DP
      812 00000133 50280014-        ldiu      @CL21,ar0             ; |140| 
      813 00000134 50600004         ldiu      4,r0                  ; |140| 
      814 00000135 1540c000         sti       r0,*ar0               ; |140| 
      815                           .line   54
      816                   ;----------------------------------------------------------------------
      817                   ; 141 | PORT.pvector = (int*) MODBUS_RX_nDATA;                                 
      818                   ;----------------------------------------------------------------------
      819 00000136 08700000-        ldp       @CL4,DP
      820 00000137 50280003-        ldiu      @CL4,ar0              ; |141| 
      821 00000138 08700000-        ldp       @CL27,DP
      822 00000139 5020001a-        ldiu      @CL27,r0              ; |141| 
      823 0000013a 1540c000         sti       r0,*ar0               ; |141| 
      824                           .line   55
      825                   ;----------------------------------------------------------------------
      826                   ; 142 | break;                                                                 
      827                   ; 145 | default:                                                               
      828                   ;----------------------------------------------------------------------
      829 0000013b 6a00002b         bu        L43                   ; |142| 
      830                   ;*      Branch Occurs to L43            ; |142| 
      831 0000013c          L33:        
      832                           .line   60
      833                   ;----------------------------------------------------------------------
      834                   ; 147 | PORT.i = 1;                                                            
      835                   ;----------------------------------------------------------------------
      836 0000013c 08700000-        ldp       @CL21,DP
      837 0000013d 50280014-        ldiu      @CL21,ar0             ; |147| 
      838 0000013e 50600001         ldiu      1,r0                  ; |147| 
      839 0000013f 1540c000         sti       r0,*ar0               ; |147| 
      840                           .line   61
      841                   ;----------------------------------------------------------------------
      842                   ; 148 | PORT.pvector = (int*) MODBUS_RX_n;                                     
      843                   ;----------------------------------------------------------------------
      844 00000140 08700000-        ldp       @CL4,DP
      845 00000141 50280003-        ldiu      @CL4,ar0              ; |148| 
      846 00000142 08700000-        ldp       @CL30,DP
      847 00000143 5020001d-        ldiu      @CL30,r0              ; |148| 
      848 00000144 1540c000         sti       r0,*ar0               ; |148| 
      849 00000145 6a000021         bu        L43                   ; |87| 
      850                   ;*      Branch Occurs to L43            ; |87| 
      851 00000146          L34:        
      852                           .line   6
      853 00000146 08700000-        ldp       @CL26,DP
      854 00000147 50280019-        ldiu      @CL26,ar0             ; |93| 
      855 00000148 50600041         ldiu      65,r0                 ; |93| 
      856 00000149 5051c000         ldiu      *ar0,ir0              ; |93| 
      857 0000014a 19800011         subri     ir0,r0                ; |93| 
      858 0000014b 04e00007         cmpi      7,r0                  ; |93| 
      859 0000014c 6a02000d         bls       L42                   ; |93| 
      860                   ;*      Branch Occurs to L42            ; |93| 
      861 0000014d 04f10064         cmpi      100,ir0               ; |93| 
      862 0000014e 6a05ffbb         beq       L28                   ; |93| 
      863                   ;*      Branch Occurs to L28            ; |93| 
      864 0000014f 04f10065         cmpi      101,ir0               ; |93| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   17

      865 00000150 6a05ffd7         beq       L31                   ; |93| 
      866                   ;*      Branch Occurs to L31            ; |93| 
      867 00000151 04f10066         cmpi      102,ir0               ; |93| 
      868 00000152 6a05ffb7         beq       L28                   ; |93| 
      869                   ;*      Branch Occurs to L28            ; |93| 
      870 00000153 04f10067         cmpi      103,ir0               ; |93| 
      871 00000154 6a05ffdd         beq       L32                   ; |93| 
      872                   ;*      Branch Occurs to L32            ; |93| 
      873 00000155 04f10068         cmpi      104,ir0               ; |93| 
      874 00000156 6a05ffb3         beq       L28                   ; |93| 
      875                   ;*      Branch Occurs to L28            ; |93| 
      876 00000157 04f10069         cmpi      105,ir0               ; |93| 
      877 00000158 6a05ffbb         beq       L29                   ; |93| 
      878                   ;*      Branch Occurs to L29            ; |93| 
      879 00000159 6a00ffe2         bu        L33                   ; |93| 
      880                   ;*      Branch Occurs to L33            ; |93| 
      881 0000015a          L42:        
      882 0000015a 08700000-        ldp       @CL31,DP
      883 0000015b 18710041         subi      65,ir0                ; |93| Unsigned
      884 0000015c 5028001e-        ldiu      @CL31,ar0             ; |93| 
      885 0000015d 50404000         ldiu      *+ar0(ir0),r0         ; |93| 
      886 0000015e 68000000         bu        r0                    ; |93| 
      887                   
      888 0000015f                  .sect   ".text"
      889 0000015f 00000132'SW0:    .word   L32     ; 65
      890 00000160 0000011e'        .word   L30     ; 66
      891 00000161 00000128'        .word   L31     ; 67
      892 00000162 0000010a'        .word   L28     ; 68
      893 00000163 00000100'        .word   L27     ; 69
      894 00000164 0000010a'        .word   L28     ; 70
      895 00000165 0000010a'        .word   L28     ; 71
      896 00000166 0000010a'        .word   L28     ; 72
      897 00000167                  .sect   ".text"
      898                   ;*      Branch Occurs to r0             ; |93| 
      899 00000167          L43:        
      900                           .line   65
      901                   ;----------------------------------------------------------------------
      902                   ; 152 | PORT.TMR_enabled = TRUE;                                               
      903                   ;----------------------------------------------------------------------
      904 00000167 08700000-        ldp       @CL8,DP
      905 00000168 50280007-        ldiu      @CL8,ar0              ; |152| 
      906 00000169 50600001         ldiu      1,r0                  ; |152| 
      907 0000016a 1540c000         sti       r0,*ar0               ; |152| 
      908                           .line   66
      909                                                           ; Begin Epilog Code
      910 0000016b 50410b01         ldiu      *-fp(1),r1
      911 0000016c 504bc300         ldiu      *fp,fp
      912                                                           ; Unallocate the Frame
      913 0000016d 18740002         subi      2,sp
      914 0000016e 68000001         bu        r1
      915                   ;*      Branch Occurs to r1 
      916                           .endfunc        153,000000000h,0
      917                   
      918                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   18

      919 0000016f                  .sect    ".text"
      920                   
      921                           .global _MODBUS_RX_n
      922                           .sym    _MODBUS_RX_n,_MODBUS_RX_n,32,2,0
      923                           .func   155
      924                   ;******************************************************************************
      925                   ;* FUNCTION NAME: _MODBUS_RX_n                                                *
      926                   ;*                                                                            *
      927                   ;*   Architecture       : TMS320C33                                           *
      928                   ;*   Calling Convention : TI Standard Register Parameters                     *
      929                   ;*   Function Uses Regs : r0,r1,ar0,ar1,ir0,st                                *
      930                   ;*   Regs Saved         :                                                     *
      931                   ;*   Stack Frame        : Full (w/ debug)                                     *
      932                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
      933                   ;******************************************************************************
      934 0000016f          _MODBUS_RX_n:
      935                           .line   1
      936                   ;----------------------------------------------------------------------
      937                   ; 155 | void MODBUS_RX_n(void)                                                 
      938                   ;----------------------------------------------------------------------
      939 0000016f 0f2b0000         push      fp
      940 00000170 500b0014         ldiu      sp,fp
      941                           .line   3
      942                   ;----------------------------------------------------------------------
      943                   ; 157 | PORT.TMR_enabled = FALSE;                                              
      944                   ;----------------------------------------------------------------------
      945 00000171 08700000-        ldp       @CL8,DP
      946 00000172 50280007-        ldiu      @CL8,ar0              ; |157| 
      947 00000173 50600000         ldiu      0,r0                  ; |157| 
      948 00000174 1540c000         sti       r0,*ar0               ; |157| 
      949                           .line   4
      950                   ;----------------------------------------------------------------------
      951                   ; 158 | PORT.i--;                                                              
      952                   ;----------------------------------------------------------------------
      953 00000175 08700000-        ldp       @CL21,DP
      954 00000176 50280014-        ldiu      @CL21,ar0             ; |158| 
      955 00000177 50600001         ldiu      1,r0                  ; |158| 
      956 00000178 2720c000         subi3     r0,*ar0,r0            ; |158| Unsigned
      957 00000179 1540c000         sti       r0,*ar0               ; |158| 
      958                           .line   5
      959                   ;----------------------------------------------------------------------
      960                   ; 159 | if (PORT.i)                                                            
      961                   ;----------------------------------------------------------------------
      962 0000017a 50280014-        ldiu      @CL21,ar0             ; |159| 
      963 0000017b 5040c000         ldiu      *ar0,r0               ; |159| 
      964 0000017c 04e00000         cmpi      0,r0                  ; |159| 
      965 0000017d 6a050005         beq       L48                   ; |159| 
      966                   ;*      Branch Occurs to L48            ; |159| 
      967                           .line   7
      968                   ;----------------------------------------------------------------------
      969                   ; 161 | PORT.TMR_enabled = TRUE;                                               
      970                   ;----------------------------------------------------------------------
      971 0000017e 08700000-        ldp       @CL8,DP
      972 0000017f 50280007-        ldiu      @CL8,ar0              ; |161| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   19

      973 00000180 50600001         ldiu      1,r0                  ; |161| 
      974 00000181 1540c000         sti       r0,*ar0               ; |161| 
      975                           .line   8
      976                   ;----------------------------------------------------------------------
      977                   ; 162 | return;                                                                
      978                   ;----------------------------------------------------------------------
      979 00000182 6a000014         bu        L49                   ; |162| 
      980                   ;*      Branch Occurs to L49            ; |162| 
      981 00000183          L48:        
      982                           .line   10
      983                   ;----------------------------------------------------------------------
      984                   ; 164 | PORT.i = (unsigned int) (PORT.RXbuf.buff[PORT.RXbuf.n-1] & 0xFF);      
      985                   ;----------------------------------------------------------------------
      986 00000183 08700000-        ldp       @CL23,DP
      987 00000184 50280016-        ldiu      @CL23,ar0             ; |164| 
      988 00000185 08700000-        ldp       @CL22,DP
      989 00000186 50610001         ldiu      1,r1                  ; |164| 
      990 00000187 50290015-        ldiu      @CL22,ar1             ; |164| 
      991 00000188 2731c001         subi3     r1,*ar0,ir0           ; |164| 
      992 00000189 08700000-        ldp       @CL21,DP
      993 0000018a 506000ff         ldiu      255,r0                ; |164| 
      994 0000018b 50280014-        ldiu      @CL21,ar0             ; |164| 
      995 0000018c 21a04100         and3      r0,*+ar1(ir0),r0      ; |164| 
      996 0000018d 1540c000         sti       r0,*ar0               ; |164| 
      997                           .line   11
      998                   ;----------------------------------------------------------------------
      999                   ; 165 | PORT.pvector = (int*) MODBUS_RX_nDATA;                                 
     1000                   ;----------------------------------------------------------------------
     1001 0000018e 08700000-        ldp       @CL4,DP
     1002 0000018f 50280003-        ldiu      @CL4,ar0              ; |165| 
     1003 00000190 08700000-        ldp       @CL27,DP
     1004 00000191 5020001a-        ldiu      @CL27,r0              ; |165| 
     1005 00000192 1540c000         sti       r0,*ar0               ; |165| 
     1006                           .line   12
     1007                   ;----------------------------------------------------------------------
     1008                   ; 166 | PORT.TMR_enabled = TRUE;                                               
     1009                   ;----------------------------------------------------------------------
     1010 00000193 08700000-        ldp       @CL8,DP
     1011 00000194 50280007-        ldiu      @CL8,ar0              ; |166| 
     1012 00000195 50600001         ldiu      1,r0                  ; |166| 
     1013 00000196 1540c000         sti       r0,*ar0               ; |166| 
     1014 00000197          L49:        
     1015                           .line   13
     1016                                                           ; Begin Epilog Code
     1017 00000197 50410b01         ldiu      *-fp(1),r1
     1018 00000198 504bc300         ldiu      *fp,fp
     1019                                                           ; Unallocate the Frame
     1020 00000199 18740002         subi      2,sp
     1021 0000019a 68000001         bu        r1
     1022                   ;*      Branch Occurs to r1 
     1023                           .endfunc        167,000000000h,0
     1024                   
     1025                   
     1026 0000019b                  .sect    ".text"
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   20

     1027                   
     1028                           .global _MODBUS_RX_nw
     1029                           .sym    _MODBUS_RX_nw,_MODBUS_RX_nw,32,2,0
     1030                           .func   169
     1031                   ;******************************************************************************
     1032                   ;* FUNCTION NAME: _MODBUS_RX_nw                                               *
     1033                   ;*                                                                            *
     1034                   ;*   Architecture       : TMS320C33                                           *
     1035                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1036                   ;*   Function Uses Regs : r0,r1,r2,r3,ar0,ar1,ar2,ar4,ar5,ir0,ir1,st          *
     1037                   ;*   Regs Saved         : ar4,ar5                                             *
     1038                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1039                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 2 SOE = 4 words          *
     1040                   ;******************************************************************************
     1041 0000019b          _MODBUS_RX_nw:
     1042                           .line   1
     1043                   ;----------------------------------------------------------------------
     1044                   ; 169 | void MODBUS_RX_nw(void)                                                
     1045                   ;----------------------------------------------------------------------
     1046 0000019b 0f2b0000         push      fp
     1047 0000019c 500b0014         ldiu      sp,fp
     1048 0000019d 0f2c0000         push      ar4
     1049 0000019e 0f2d0000         push      ar5
     1050                           .line   3
     1051                   ;----------------------------------------------------------------------
     1052                   ; 171 | PORT.TMR_enabled = FALSE;                                              
     1053                   ;----------------------------------------------------------------------
     1054 0000019f 08700000-        ldp       @CL8,DP
     1055 000001a0 50280007-        ldiu      @CL8,ar0              ; |171| 
     1056 000001a1 50600000         ldiu      0,r0                  ; |171| 
     1057 000001a2 1540c000         sti       r0,*ar0               ; |171| 
     1058                           .line   4
     1059                   ;----------------------------------------------------------------------
     1060                   ; 172 | PORT.i--;                                                              
     1061                   ;----------------------------------------------------------------------
     1062 000001a3 08700000-        ldp       @CL21,DP
     1063 000001a4 50280014-        ldiu      @CL21,ar0             ; |172| 
     1064 000001a5 50600001         ldiu      1,r0                  ; |172| 
     1065 000001a6 2720c000         subi3     r0,*ar0,r0            ; |172| Unsigned
     1066 000001a7 1540c000         sti       r0,*ar0               ; |172| 
     1067                           .line   5
     1068                   ;----------------------------------------------------------------------
     1069                   ; 173 | if (PORT.i)                                                            
     1070                   ;----------------------------------------------------------------------
     1071 000001a8 50280014-        ldiu      @CL21,ar0             ; |173| 
     1072 000001a9 5040c000         ldiu      *ar0,r0               ; |173| 
     1073 000001aa 04e00000         cmpi      0,r0                  ; |173| 
     1074 000001ab 6a050005         beq       L53                   ; |173| 
     1075                   ;*      Branch Occurs to L53            ; |173| 
     1076                           .line   7
     1077                   ;----------------------------------------------------------------------
     1078                   ; 175 | PORT.TMR_enabled = TRUE;                                               
     1079                   ;----------------------------------------------------------------------
     1080 000001ac 08700000-        ldp       @CL8,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   21

     1081 000001ad 50280007-        ldiu      @CL8,ar0              ; |175| 
     1082 000001ae 50600001         ldiu      1,r0                  ; |175| 
     1083 000001af 1540c000         sti       r0,*ar0               ; |175| 
     1084                           .line   8
     1085                   ;----------------------------------------------------------------------
     1086                   ; 176 | return;                                                                
     1087                   ;----------------------------------------------------------------------
     1088 000001b0 6a000020         bu        L54                   ; |176| 
     1089                   ;*      Branch Occurs to L54            ; |176| 
     1090 000001b1          L53:        
     1091                           .line   11
     1092                   ;----------------------------------------------------------------------
     1093                   ; 179 | PORT.i = ((PORT.RXbuf.buff[PORT.RXbuf.n-2]&0xFF)<<8) | (PORT.RXbuf.buff
     1094                   ;     | [PORT.RXbuf.n-1]&0xFF);                                                
     1095                   ;----------------------------------------------------------------------
     1096 000001b1 08700000-        ldp       @CL23,DP
     1097 000001b2 50630002         ldiu      2,r3                  ; |179| 
     1098 000001b3 50620001         ldiu      1,r2                  ; |179| 
     1099 000001b4 506000ff         ldiu      255,r0                ; |179| 
     1100 000001b5 502d0016-        ldiu      @CL23,ar5             ; |179| 
     1101 000001b6 502c0016-        ldiu      @CL23,ar4             ; |179| 
     1102 000001b7 506100ff         ldiu      255,r1                ; |179| 
     1103 000001b8 08700000-        ldp       @CL22,DP
     1104 000001b9 2731c503         subi3     r3,*ar5,ir0           ; |179| 
     1105 000001ba 50280015-        ldiu      @CL22,ar0             ; |179| 
     1106 000001bb 2732c402         subi3     r2,*ar4,ir1           ; |179| 
     1107 000001bc 502a0015-        ldiu      @CL22,ar2             ; |179| 
     1108 000001bd 21a04000         and3      r0,*+ar0(ir0),r0      ; |179| 
     1109 000001be 08700000-        ldp       @CL21,DP
     1110 000001bf 21a18201         and3      r1,*+ar2(ir1),r1      ; |179| 
     1111 000001c0 03e00008         ash       8,r0                  ; |179| 
     1112 000001c1 50290014-        ldiu      @CL21,ar1             ; |179| 
     1113 000001c2 25800100         or3       r0,r1,r0              ; |179| 
     1114 000001c3 1540c100         sti       r0,*ar1               ; |179| 
     1115                           .line   12
     1116                   ;----------------------------------------------------------------------
     1117                   ; 180 | PORT.i *= 4; /* n = word32, therefore n*4 bytes */                     
     1118                   ;----------------------------------------------------------------------
     1119 000001c4 50280014-        ldiu      @CL21,ar0             ; |180| 
     1120 000001c5 50600002         ldiu      2,r0                  ; |180| 
     1121 000001c6 22a0c000         ash3      r0,*ar0,r0            ; |180| 
     1122 000001c7 1540c000         sti       r0,*ar0               ; |180| 
     1123                           .line   13
     1124                   ;----------------------------------------------------------------------
     1125                   ; 181 | PORT.pvector = (int*) MODBUS_RX_nDATA;                                 
     1126                   ;----------------------------------------------------------------------
     1127 000001c8 08700000-        ldp       @CL4,DP
     1128 000001c9 50280003-        ldiu      @CL4,ar0              ; |181| 
     1129 000001ca 08700000-        ldp       @CL27,DP
     1130 000001cb 5020001a-        ldiu      @CL27,r0              ; |181| 
     1131 000001cc 1540c000         sti       r0,*ar0               ; |181| 
     1132                           .line   14
     1133                   ;----------------------------------------------------------------------
     1134                   ; 182 | PORT.TMR_enabled = TRUE;                                               
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   22

     1135                   ;----------------------------------------------------------------------
     1136 000001cd 08700000-        ldp       @CL8,DP
     1137 000001ce 50280007-        ldiu      @CL8,ar0              ; |182| 
     1138 000001cf 50600001         ldiu      1,r0                  ; |182| 
     1139 000001d0 1540c000         sti       r0,*ar0               ; |182| 
     1140 000001d1          L54:        
     1141                           .line   15
     1142                                                           ; Begin Epilog Code
     1143 000001d1 50410b01         ldiu      *-fp(1),r1
     1144 000001d2 504bc300         ldiu      *fp,fp
     1145                                                           ; Restore SOE Registers
     1146 000001d3 0e2d0000         pop       ar5
     1147 000001d4 0e2c0000         pop       ar4
     1148                                                           ; Unallocate the Frame
     1149 000001d5 18740002         subi      2,sp
     1150 000001d6 68000001         bu        r1
     1151                   ;*      Branch Occurs to r1 
     1152                           .endfunc        183,000003000h,0
     1153                   
     1154                   
     1155 000001d7                  .sect    ".text"
     1156                   
     1157                           .global _MODBUS_RX_nDATA
     1158                           .sym    _MODBUS_RX_nDATA,_MODBUS_RX_nDATA,32,2,0
     1159                           .func   185
     1160                   ;******************************************************************************
     1161                   ;* FUNCTION NAME: _MODBUS_RX_nDATA                                            *
     1162                   ;*                                                                            *
     1163                   ;*   Architecture       : TMS320C33                                           *
     1164                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1165                   ;*   Function Uses Regs : r0,ar0,st                                           *
     1166                   ;*   Regs Saved         :                                                     *
     1167                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1168                   ;*   Total Frame Size   : 2 Call + 0 Parm + 0 Auto + 0 SOE = 2 words          *
     1169                   ;******************************************************************************
     1170 000001d7          _MODBUS_RX_nDATA:
     1171                           .line   1
     1172                   ;----------------------------------------------------------------------
     1173                   ; 185 | void MODBUS_RX_nDATA(void)                                             
     1174                   ;----------------------------------------------------------------------
     1175 000001d7 0f2b0000         push      fp
     1176 000001d8 500b0014         ldiu      sp,fp
     1177                           .line   3
     1178                   ;----------------------------------------------------------------------
     1179                   ; 187 | PORT.TMR_enabled = FALSE;                                              
     1180                   ;----------------------------------------------------------------------
     1181 000001d9 08700000-        ldp       @CL8,DP
     1182 000001da 50280007-        ldiu      @CL8,ar0              ; |187| 
     1183 000001db 50600000         ldiu      0,r0                  ; |187| 
     1184 000001dc 1540c000         sti       r0,*ar0               ; |187| 
     1185                           .line   4
     1186                   ;----------------------------------------------------------------------
     1187                   ; 188 | PORT.i--;                                                              
     1188                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   23

     1189 000001dd 08700000-        ldp       @CL21,DP
     1190 000001de 50280014-        ldiu      @CL21,ar0             ; |188| 
     1191 000001df 50600001         ldiu      1,r0                  ; |188| 
     1192 000001e0 2720c000         subi3     r0,*ar0,r0            ; |188| Unsigned
     1193 000001e1 1540c000         sti       r0,*ar0               ; |188| 
     1194                           .line   5
     1195                   ;----------------------------------------------------------------------
     1196                   ; 189 | if (PORT.i)                                                            
     1197                   ;----------------------------------------------------------------------
     1198 000001e2 50280014-        ldiu      @CL21,ar0             ; |189| 
     1199 000001e3 5040c000         ldiu      *ar0,r0               ; |189| 
     1200 000001e4 04e00000         cmpi      0,r0                  ; |189| 
     1201 000001e5 6a050005         beq       L58                   ; |189| 
     1202                   ;*      Branch Occurs to L58            ; |189| 
     1203                           .line   7
     1204                   ;----------------------------------------------------------------------
     1205                   ; 191 | PORT.TMR_enabled = TRUE;                                               
     1206                   ;----------------------------------------------------------------------
     1207 000001e6 08700000-        ldp       @CL8,DP
     1208 000001e7 50280007-        ldiu      @CL8,ar0              ; |191| 
     1209 000001e8 50600001         ldiu      1,r0                  ; |191| 
     1210 000001e9 1540c000         sti       r0,*ar0               ; |191| 
     1211                           .line   8
     1212                   ;----------------------------------------------------------------------
     1213                   ; 192 | return;                                                                
     1214                   ;----------------------------------------------------------------------
     1215 000001ea 6a00000d         bu        L59                   ; |192| 
     1216                   ;*      Branch Occurs to L59            ; |192| 
     1217 000001eb          L58:        
     1218                           .line   11
     1219                   ;----------------------------------------------------------------------
     1220                   ; 195 | PORT.i = 2;                                                            
     1221                   ;----------------------------------------------------------------------
     1222 000001eb 08700000-        ldp       @CL21,DP
     1223 000001ec 50280014-        ldiu      @CL21,ar0             ; |195| 
     1224 000001ed 50600002         ldiu      2,r0                  ; |195| 
     1225 000001ee 1540c000         sti       r0,*ar0               ; |195| 
     1226                           .line   12
     1227                   ;----------------------------------------------------------------------
     1228                   ; 196 | PORT.pvector = (int*) MODBUS_RX_CRC;                                   
     1229                   ;----------------------------------------------------------------------
     1230 000001ef 08700000-        ldp       @CL4,DP
     1231 000001f0 50280003-        ldiu      @CL4,ar0              ; |196| 
     1232 000001f1 08700000-        ldp       @CL28,DP
     1233 000001f2 5020001b-        ldiu      @CL28,r0              ; |196| 
     1234 000001f3 1540c000         sti       r0,*ar0               ; |196| 
     1235                           .line   13
     1236                   ;----------------------------------------------------------------------
     1237                   ; 197 | PORT.TMR_enabled = TRUE;                                               
     1238                   ;----------------------------------------------------------------------
     1239 000001f4 08700000-        ldp       @CL8,DP
     1240 000001f5 50280007-        ldiu      @CL8,ar0              ; |197| 
     1241 000001f6 50600001         ldiu      1,r0                  ; |197| 
     1242 000001f7 1540c000         sti       r0,*ar0               ; |197| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   24

     1243 000001f8          L59:        
     1244                           .line   14
     1245                                                           ; Begin Epilog Code
     1246 000001f8 50410b01         ldiu      *-fp(1),r1
     1247 000001f9 504bc300         ldiu      *fp,fp
     1248                                                           ; Unallocate the Frame
     1249 000001fa 18740002         subi      2,sp
     1250 000001fb 68000001         bu        r1
     1251                   ;*      Branch Occurs to r1 
     1252                           .endfunc        198,000000000h,0
     1253                   
     1254                   
     1255 000001fc                  .sect    ".text"
     1256                   
     1257                           .global _MODBUS_RX_CRC
     1258                           .sym    _MODBUS_RX_CRC,_MODBUS_RX_CRC,32,2,0
     1259                           .func   200
     1260                   ;******************************************************************************
     1261                   ;* FUNCTION NAME: _MODBUS_RX_CRC                                              *
     1262                   ;*                                                                            *
     1263                   ;*   Architecture       : TMS320C33                                           *
     1264                   ;*   Calling Convention : TI Standard Register Parameters                     *
     1265                   ;*   Function Uses Regs : r0,r1,r2,r3,ar0,ar1,ar2,ir0,st                      *
     1266                   ;*   Regs Saved         :                                                     *
     1267                   ;*   Stack Frame        : Full (w/ debug)                                     *
     1268                   ;*   Total Frame Size   : 2 Call + 0 Parm + 9 Auto + 0 SOE = 11 words         *
     1269                   ;******************************************************************************
     1270 000001fc          _MODBUS_RX_CRC:
     1271                           .sym    _validated,1,14,1,32
     1272                           .sym    _reply,2,14,1,32
     1273                           .sym    _c,3,14,1,32
     1274                           .sym    _address,4,14,1,32
     1275                           .sym    _numreg,5,14,1,32
     1276                           .sym    _tmp0,6,14,1,32
     1277                           .sym    _tmp1,7,14,1,32
     1278                           .sym    _table,8,20,1,32
     1279                           .sym    _baud,9,4,1,32
     1280                           .line   1
     1281                   ;----------------------------------------------------------------------
     1282                   ; 200 | void MODBUS_RX_CRC(void)                                               
     1283                   ; 202 | BOOL                    validated;                                     
     1284                   ; 203 | BOOL                    reply;                                         
     1285                   ; 204 | BOOL                    c;                                             
     1286                   ; 205 | unsigned int    address;                                               
     1287                   ; 206 | unsigned int    numreg;                                                
     1288                   ; 207 | unsigned int    tmp0;                                                  
     1289                   ; 208 | unsigned int    tmp1;                                                  
     1290                   ; 209 | int*                    table;                                         
     1291                   ; 210 | int                             baud;                                  
     1292                   ;----------------------------------------------------------------------
     1293 000001fc 0f2b0000         push      fp
     1294 000001fd 500b0014         ldiu      sp,fp
     1295 000001fe 02740009         addi      9,sp
     1296                           .line   13
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   25

     1297                   ;----------------------------------------------------------------------
     1298                   ; 212 | PORT.TMR_enabled = FALSE;                                              
     1299                   ;----------------------------------------------------------------------
     1300 000001ff 08700000-        ldp       @CL8,DP
     1301 00000200 50280007-        ldiu      @CL8,ar0              ; |212| 
     1302 00000201 50600000         ldiu      0,r0                  ; |212| 
     1303 00000202 1540c000         sti       r0,*ar0               ; |212| 
     1304                           .line   14
     1305                   ;----------------------------------------------------------------------
     1306                   ; 213 | PORT.i--;                                                              
     1307                   ;----------------------------------------------------------------------
     1308 00000203 08700000-        ldp       @CL21,DP
     1309 00000204 50280014-        ldiu      @CL21,ar0             ; |213| 
     1310 00000205 50600001         ldiu      1,r0                  ; |213| 
     1311 00000206 2720c000         subi3     r0,*ar0,r0            ; |213| Unsigned
     1312 00000207 1540c000         sti       r0,*ar0               ; |213| 
     1313                           .line   15
     1314                   ;----------------------------------------------------------------------
     1315                   ; 214 | if (PORT.i)                                                            
     1316                   ;----------------------------------------------------------------------
     1317 00000208 50280014-        ldiu      @CL21,ar0             ; |214| 
     1318 00000209 5040c000         ldiu      *ar0,r0               ; |214| 
     1319 0000020a 04e00000         cmpi      0,r0                  ; |214| 
     1320 0000020b 6a050005         beq       L63                   ; |214| 
     1321                   ;*      Branch Occurs to L63            ; |214| 
     1322                           .line   17
     1323                   ;----------------------------------------------------------------------
     1324                   ; 216 | PORT.TMR_enabled = TRUE;                                               
     1325                   ;----------------------------------------------------------------------
     1326 0000020c 08700000-        ldp       @CL8,DP
     1327 0000020d 50280007-        ldiu      @CL8,ar0              ; |216| 
     1328 0000020e 50600001         ldiu      1,r0                  ; |216| 
     1329 0000020f 1540c000         sti       r0,*ar0               ; |216| 
     1330                           .line   18
     1331                   ;----------------------------------------------------------------------
     1332                   ; 217 | return;                                                                
     1333                   ;----------------------------------------------------------------------
     1334 00000210 6a000142         bu        L108                  ; |217| 
     1335                   ;*      Branch Occurs to L108           ; |217| 
     1336 00000211          L63:        
     1337                           .line   21
     1338                   ;----------------------------------------------------------------------
     1339                   ; 220 | validated = TRUE;                                                      
     1340                   ;----------------------------------------------------------------------
     1341 00000211 50600001         ldiu      1,r0                  ; |220| 
     1342 00000212 15400301         sti       r0,*+fp(1)            ; |220| 
     1343                           .line   23
     1344                   ;----------------------------------------------------------------------
     1345                   ; 222 | PORT.RXbuf.locked = TRUE;               /* lock the buffer */          
     1346                   ;----------------------------------------------------------------------
     1347 00000213 08700000-        ldp       @CL32,DP
     1348 00000214 5028001f-        ldiu      @CL32,ar0             ; |222| 
     1349 00000215 1540c000         sti       r0,*ar0               ; |222| 
     1350                           .line   26
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   26

     1351                   ;----------------------------------------------------------------------
     1352                   ; 225 | if(((int)PORT.Slave_ID != (int)(PORT.RXbuf.buff[0] & 0xFF)) || (PORT.RX
     1353                   ;     | buf.CRC16 != 0))                                                       
     1354                   ;----------------------------------------------------------------------
     1355 00000216 08700000-        ldp       @CL33,DP
     1356 00000217 50280020-        ldiu      @CL33,ar0             ; |225| 
     1357 00000218 08700000-        ldp       @CL22,DP
     1358 00000219 50290015-        ldiu      @CL22,ar1             ; |225| 
     1359 0000021a 506000ff         ldiu      255,r0                ; |225| 
     1360 0000021b 5041c000         ldiu      *ar0,r1               ; |225| 
     1361 0000021c 21a0c100         and3      r0,*ar1,r0            ; |225| 
     1362 0000021d 23800100         cmpi3     r0,r1                 ; |225| 
     1363 0000021e 6a060005         bne       L65                   ; |225| 
     1364                   ;*      Branch Occurs to L65            ; |225| 
     1365 0000021f 08700000-        ldp       @CL34,DP
     1366 00000220 50280021-        ldiu      @CL34,ar0             ; |225| 
     1367 00000221 5040c000         ldiu      *ar0,r0               ; |225| 
     1368 00000222 04e00000         cmpi      0,r0                  ; |225| 
     1369 00000223 6a050002         beq       L66                   ; |225| 
     1370                   ;*      Branch Occurs to L66            ; |225| 
     1371 00000224          L65:        
     1372                           .line   28
     1373                   ;----------------------------------------------------------------------
     1374                   ; 227 | validated = FALSE;                                                     
     1375                   ;----------------------------------------------------------------------
     1376 00000224 50600000         ldiu      0,r0                  ; |227| 
     1377 00000225 15400301         sti       r0,*+fp(1)            ; |227| 
     1378 00000226          L66:        
     1379                           .line   32
     1380                   ;----------------------------------------------------------------------
     1381                   ; 231 | if (validated)                                                         
     1382                   ;----------------------------------------------------------------------
     1383 00000226 50400301         ldiu      *+fp(1),r0            ; |231| 
     1384 00000227 04e00000         cmpi      0,r0                  ; |231| 
     1385 00000228 6a05011a         beq       L107                  ; |231| 
     1386                   ;*      Branch Occurs to L107           ; |231| 
     1387                           .line   34
     1388                   ;----------------------------------------------------------------------
     1389                   ; 233 | DISABLE_TINT0;          /* undo the 5 sec wait for exiting boot loader
     1390                   ;     | */                                                                     
     1391                   ;----------------------------------------------------------------------
     1392 00000229 03760100         andn    0100h, IE
     1393                           .line   36
     1394                   ;----------------------------------------------------------------------
     1395                   ; 235 | address =  (unsigned int) (PORT.RXbuf.buff[2] & 0xFF);                 
     1396                   ;----------------------------------------------------------------------
     1397 0000022a 08700000-        ldp       @CL35,DP
     1398 0000022b 50280022-        ldiu      @CL35,ar0             ; |235| 
     1399 0000022c 506000ff         ldiu      255,r0                ; |235| 
     1400 0000022d 21a0c000         and3      r0,*ar0,r0            ; |235| 
     1401 0000022e 15400304         sti       r0,*+fp(4)            ; |235| 
     1402                           .line   37
     1403                   ;----------------------------------------------------------------------
     1404                   ; 236 | address =  address << 8;                                               
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   27

     1405                   ;----------------------------------------------------------------------
     1406 0000022f 03e00008         ash       8,r0                  ; |236| 
     1407 00000230 15400304         sti       r0,*+fp(4)            ; |236| 
     1408                           .line   38
     1409                   ;----------------------------------------------------------------------
     1410                   ; 237 | address |= (unsigned int) (PORT.RXbuf.buff[3] & 0xFF);                 
     1411                   ;----------------------------------------------------------------------
     1412 00000231 08700000-        ldp       @CL36,DP
     1413 00000232 50280023-        ldiu      @CL36,ar0             ; |237| 
     1414 00000233 506000ff         ldiu      255,r0                ; |237| 
     1415 00000234 21a0c000         and3      r0,*ar0,r0            ; |237| 
     1416 00000235 10400304         or        *+fp(4),r0            ; |237| 
     1417 00000236 15400304         sti       r0,*+fp(4)            ; |237| 
     1418                           .line   39
     1419                   ;----------------------------------------------------------------------
     1420                   ; 238 | address =  address << 8;                                               
     1421                   ;----------------------------------------------------------------------
     1422 00000237 03e00008         ash       8,r0                  ; |238| 
     1423 00000238 15400304         sti       r0,*+fp(4)            ; |238| 
     1424                           .line   40
     1425                   ;----------------------------------------------------------------------
     1426                   ; 239 | address |= (unsigned int) (PORT.RXbuf.buff[4] & 0xFF);                 
     1427                   ;----------------------------------------------------------------------
     1428 00000239 08700000-        ldp       @CL37,DP
     1429 0000023a 50280024-        ldiu      @CL37,ar0             ; |239| 
     1430 0000023b 506000ff         ldiu      255,r0                ; |239| 
     1431 0000023c 21a0c000         and3      r0,*ar0,r0            ; |239| 
     1432 0000023d 10400304         or        *+fp(4),r0            ; |239| 
     1433 0000023e 15400304         sti       r0,*+fp(4)            ; |239| 
     1434                           .line   41
     1435                   ;----------------------------------------------------------------------
     1436                   ; 240 | address =  address << 8;                                               
     1437                   ;----------------------------------------------------------------------
     1438 0000023f 03e00008         ash       8,r0                  ; |240| 
     1439 00000240 15400304         sti       r0,*+fp(4)            ; |240| 
     1440                           .line   42
     1441                   ;----------------------------------------------------------------------
     1442                   ; 241 | address |= (unsigned int) (PORT.RXbuf.buff[5] & 0xFF);                 
     1443                   ;----------------------------------------------------------------------
     1444 00000241 08700000-        ldp       @CL38,DP
     1445 00000242 50280025-        ldiu      @CL38,ar0             ; |241| 
     1446 00000243 506000ff         ldiu      255,r0                ; |241| 
     1447 00000244 21a0c000         and3      r0,*ar0,r0            ; |241| 
     1448 00000245 10400304         or        *+fp(4),r0            ; |241| 
     1449 00000246 15400304         sti       r0,*+fp(4)            ; |241| 
     1450                           .line   44
     1451                   ;----------------------------------------------------------------------
     1452                   ; 243 | numreg  =  (unsigned int) (PORT.RXbuf.buff[6] & 0xFF);                 
     1453                   ;----------------------------------------------------------------------
     1454 00000247 08700000-        ldp       @CL39,DP
     1455 00000248 50280026-        ldiu      @CL39,ar0             ; |243| 
     1456 00000249 506000ff         ldiu      255,r0                ; |243| 
     1457 0000024a 21a0c000         and3      r0,*ar0,r0            ; |243| 
     1458 0000024b 15400305         sti       r0,*+fp(5)            ; |243| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   28

     1459                           .line   45
     1460                   ;----------------------------------------------------------------------
     1461                   ; 244 | numreg  =  numreg << 8;                                                
     1462                   ;----------------------------------------------------------------------
     1463 0000024c 03e00008         ash       8,r0                  ; |244| 
     1464 0000024d 15400305         sti       r0,*+fp(5)            ; |244| 
     1465                           .line   46
     1466                   ;----------------------------------------------------------------------
     1467                   ; 245 | numreg  |= (unsigned int) (PORT.RXbuf.buff[7] & 0xFF);                 
     1468                   ;----------------------------------------------------------------------
     1469 0000024e 08700000-        ldp       @CL40,DP
     1470 0000024f 50280027-        ldiu      @CL40,ar0             ; |245| 
     1471 00000250 506000ff         ldiu      255,r0                ; |245| 
     1472 00000251 21a0c000         and3      r0,*ar0,r0            ; |245| 
     1473 00000252 10400305         or        *+fp(5),r0            ; |245| 
     1474 00000253 15400305         sti       r0,*+fp(5)            ; |245| 
     1475                           .line   48
     1476                   ;----------------------------------------------------------------------
     1477                   ; 247 | Clear(&PORT.TXbuf);                                                    
     1478                   ;----------------------------------------------------------------------
     1479 00000254 08700000-        ldp       @CL41,DP
     1480 00000255 50200028-        ldiu      @CL41,r0              ; |247| 
     1481 00000256 08700000-        ldp       @CL19,DP
     1482 00000257 502a0012-        ldiu      @CL19,ar2             ; |247| 
     1483 00000258 70000000         callu     r0                    ; far call to _Clear    ; |247| 
     1484                                                           ; |247| Far Call Occurs
     1485                           .line   50
     1486                   ;----------------------------------------------------------------------
     1487                   ; 249 | c = TRUE;                                                              
     1488                   ;----------------------------------------------------------------------
     1489 00000259 50600001         ldiu      1,r0                  ; |249| 
     1490 0000025a 15400303         sti       r0,*+fp(3)            ; |249| 
     1491                           .line   52
     1492                   ;----------------------------------------------------------------------
     1493                   ; 251 | DISABLE_WDOG;                                                          
     1494                   ; 253 | switch(PORT.func)                                                      
     1495                   ; 255 |         case mb_cmd_pdi_RESET:                                         
     1496                   ;----------------------------------------------------------------------
     1497 0000025b 0f350000         push    ST                      
     1498 0000025c 03752000         andn    2000h, ST       
     1499 0000025d 08700000-        ldp       @CL42,DP
     1500 0000025e 50280029-        ldiu      @CL42,ar0             ; |251| 
     1501 0000025f 506000f7         ldiu      247,r0                ; |251| 
     1502 00000260 21a0c000         and3      r0,*ar0,r0            ; |251| 
     1503 00000261 1540c000         sti       r0,*ar0               ; |251| 
     1504 00000262 0e350000         pop             ST                      
     1505 00000263 6a00007d         bu        L96                   ; |199| 
     1506                   ;*      Branch Occurs to L96            ; |199| 
     1507                           .line   58
     1508                   ;----------------------------------------------------------------------
     1509                   ; 257 | if (!PROGRAM_MODE)                                                     
     1510                   ;----------------------------------------------------------------------
     1511                           .line   60
     1512                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   29

     1513                   ; 259 | Setup_UART(9600);                                                      
     1514                   ;----------------------------------------------------------------------
     1515                           .line   61
     1516                   ;----------------------------------------------------------------------
     1517                   ; 260 | c = FALSE;                                                             
     1518                   ;----------------------------------------------------------------------
     1519                           .line   62
     1520                   ;----------------------------------------------------------------------
     1521                   ; 261 | break;                                                                 
     1522                   ; 263 | else                                                                   
     1523                   ;----------------------------------------------------------------------
     1524 00000264          L69:        
     1525                           .line   66
     1526                   ;----------------------------------------------------------------------
     1527                   ; 265 | MASTER_RESET;                                                          
     1528                   ;----------------------------------------------------------------------
     1529 00000264 0f350000         push    ST                      
     1530 00000265 03752000         andn    2000h, ST       
     1531 00000266 08700000-        ldp       @CL42,DP
     1532 00000267 50280029-        ldiu      @CL42,ar0             ; |265| 
     1533 00000268 50600040         ldiu      64,r0                 ; |265| 
     1534 00000269 25a0c000         or3       r0,*ar0,r0            ; |265| 
     1535 0000026a 1540c000         sti       r0,*ar0               ; |265| 
     1536 0000026b 0e350000         pop             ST                      
     1537 0000026c          L70:        
     1538                           .line   67
     1539                   ;----------------------------------------------------------------------
     1540                   ; 266 | while(TRUE){}                                                          
     1541                   ; 270 | case mb_cmd_pdi_EXIT:                                                  
     1542                   ;----------------------------------------------------------------------
     1543 0000026c 6a00ffff         bu        L70                   ; |266| 
     1544                   ;*      Branch Occurs to L70            ; |266| 
     1545                           .line   73
     1546                   ;----------------------------------------------------------------------
     1547                   ; 272 | if (!PROGRAM_MODE)                                                     
     1548                   ;----------------------------------------------------------------------
     1549                           .line   75
     1550                   ;----------------------------------------------------------------------
     1551                   ; 274 | Setup_UART(9600);                                                      
     1552                   ;----------------------------------------------------------------------
     1553                           .line   76
     1554                   ;----------------------------------------------------------------------
     1555                   ; 275 | c = FALSE;                                                             
     1556                   ;----------------------------------------------------------------------
     1557                           .line   77
     1558                   ;----------------------------------------------------------------------
     1559                   ; 276 | break;                                                                 
     1560                   ; 278 | else                                                                   
     1561                   ;----------------------------------------------------------------------
     1562 0000026d          L72:        
     1563                           .line   81
     1564                   ;----------------------------------------------------------------------
     1565                   ; 280 | Exit_to_App();                                                         
     1566                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   30

     1567 0000026d 08700000-        ldp       @CL43,DP
     1568 0000026e 5020002a-        ldiu      @CL43,r0              ; |280| 
     1569 0000026f 70000000         callu     r0                    ; far call to _Exit_to_App      ; |280| 
     1570                                                           ; |280| Far Call Occurs
     1571                           .line   82
     1572                   ;----------------------------------------------------------------------
     1573                   ; 281 | MASTER_RESET;                                                          
     1574                   ;----------------------------------------------------------------------
     1575 00000270 0f350000         push    ST                      
     1576 00000271 03752000         andn    2000h, ST       
     1577 00000272 08700000-        ldp       @CL42,DP
     1578 00000273 50280029-        ldiu      @CL42,ar0             ; |281| 
     1579 00000274 50600040         ldiu      64,r0                 ; |281| 
     1580 00000275 25a0c000         or3       r0,*ar0,r0            ; |281| 
     1581 00000276 1540c000         sti       r0,*ar0               ; |281| 
     1582 00000277 0e350000         pop             ST                      
     1583 00000278          L73:        
     1584                           .line   83
     1585                   ;----------------------------------------------------------------------
     1586                   ; 282 | while(TRUE){}                                                          
     1587                   ; 286 | case mb_cmd_pdi_MAX_BAUD:                                              
     1588                   ;----------------------------------------------------------------------
     1589 00000278 6a00ffff         bu        L73                   ; |282| 
     1590                   ;*      Branch Occurs to L73            ; |282| 
     1591 00000279          L74:        
     1592                           .line   89
     1593                   ;----------------------------------------------------------------------
     1594                   ; 288 | Setup_UART(MAXBAUD);                                                   
     1595                   ;----------------------------------------------------------------------
     1596 00000279 08700000-        ldp       @CL44,DP
     1597 0000027a 502a002b-        ldiu      @CL44,ar2             ; |288| 
     1598 0000027b 08700000-        ldp       @CL1,DP
     1599 0000027c 50200000-        ldiu      @CL1,r0               ; |288| 
     1600 0000027d 70000000         callu     r0                    ; far call to _Setup_UART       ; |288| 
     1601                                                           ; |288| Far Call Occurs
     1602                           .line   90
     1603                   ;----------------------------------------------------------------------
     1604                   ; 289 | c = FALSE;                                                             
     1605                   ;----------------------------------------------------------------------
     1606 0000027e 50600000         ldiu      0,r0                  ; |289| 
     1607 0000027f 15400303         sti       r0,*+fp(3)            ; |289| 
     1608                           .line   91
     1609                   ;----------------------------------------------------------------------
     1610                   ; 290 | break;                                                                 
     1611                   ; 293 | case mb_cmd_pdi_BAUD:                                                  
     1612                   ;----------------------------------------------------------------------
     1613 00000280 6a000081         bu        L105                  ; |290| 
     1614                   ;*      Branch Occurs to L105           ; |290| 
     1615 00000281          L75:        
     1616                           .line   96
     1617                   ;----------------------------------------------------------------------
     1618                   ; 295 | baud =  (unsigned int) (PORT.RXbuf.buff[2] & 0xFF);                    
     1619                   ;----------------------------------------------------------------------
     1620 00000281 08700000-        ldp       @CL35,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   31

     1621 00000282 50280022-        ldiu      @CL35,ar0             ; |295| 
     1622 00000283 506000ff         ldiu      255,r0                ; |295| 
     1623 00000284 21a0c000         and3      r0,*ar0,r0            ; |295| 
     1624 00000285 15400309         sti       r0,*+fp(9)            ; |295| 
     1625                           .line   97
     1626                   ;----------------------------------------------------------------------
     1627                   ; 296 | baud =  baud << 8;                                                     
     1628                   ;----------------------------------------------------------------------
     1629 00000286 03e00008         ash       8,r0                  ; |296| 
     1630 00000287 15400309         sti       r0,*+fp(9)            ; |296| 
     1631                           .line   98
     1632                   ;----------------------------------------------------------------------
     1633                   ; 297 | baud |= (unsigned int) (PORT.RXbuf.buff[3] & 0xFF);                    
     1634                   ;----------------------------------------------------------------------
     1635 00000288 08700000-        ldp       @CL36,DP
     1636 00000289 50280023-        ldiu      @CL36,ar0             ; |297| 
     1637 0000028a 506000ff         ldiu      255,r0                ; |297| 
     1638 0000028b 21a0c000         and3      r0,*ar0,r0            ; |297| 
     1639 0000028c 10400309         or        *+fp(9),r0            ; |297| 
     1640 0000028d 15400309         sti       r0,*+fp(9)            ; |297| 
     1641                           .line   99
     1642                   ;----------------------------------------------------------------------
     1643                   ; 298 | baud *= 100;                                                           
     1644                   ; 300 | switch(baud)                                                           
     1645                   ; 302 |         case 9600:                                                     
     1646                   ; 303 |         case 19200:                                                    
     1647                   ; 304 |         case 38400:                                                    
     1648                   ; 305 |         case 57600:                                                    
     1649                   ; 306 |         case MAXBAUD:                                                  
     1650                   ;----------------------------------------------------------------------
     1651 0000028e 50610064         ldiu      100,r1                ; |298| 
     1652 0000028f 62000000!        call      MPY_K30               ; |298| 
     1653                                                           ; |298| Call Occurs
     1654 00000290 15400309         sti       r0,*+fp(9)            ; |298| 
     1655 00000291 6a000005         bu        L78                   ; |199| 
     1656                   ;*      Branch Occurs to L78            ; |199| 
     1657 00000292          L76:        
     1658                           .line   109
     1659                   ;----------------------------------------------------------------------
     1660                   ; 308 | Setup_UART(baud);                                                      
     1661                   ;----------------------------------------------------------------------
     1662 00000292 08700000-        ldp       @CL1,DP
     1663 00000293 504a0309         ldiu      *+fp(9),ar2           ; |308| 
     1664 00000294 50200000-        ldiu      @CL1,r0               ; |308| 
     1665 00000295 70000000         callu     r0                    ; far call to _Setup_UART       ; |308| 
     1666                                                           ; |308| Far Call Occurs
     1667                           .line   110
     1668                   ;----------------------------------------------------------------------
     1669                   ; 309 | break;                                                                 
     1670                   ;----------------------------------------------------------------------
     1671 00000296 6a00000e         bu        L83                   ; |309| 
     1672                   ;*      Branch Occurs to L83            ; |309| 
     1673 00000297          L78:        
     1674                           .line   101
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   32

     1675 00000297 50400309         ldiu      *+fp(9),r0            ; |300| 
     1676 00000298 04e02580         cmpi      9600,r0               ; |300| 
     1677 00000299 6a05fff8         beq       L76                   ; |300| 
     1678                   ;*      Branch Occurs to L76            ; |300| 
     1679 0000029a 04e04b00         cmpi      19200,r0              ; |300| 
     1680 0000029b 6a05fff6         beq       L76                   ; |300| 
     1681                   ;*      Branch Occurs to L76            ; |300| 
     1682 0000029c 08700000-        ldp       @CL45,DP
     1683 0000029d 04a0002c-        cmpi      @CL45,r0              ; |300| 
     1684 0000029e 6a05fff3         beq       L76                   ; |300| 
     1685                   ;*      Branch Occurs to L76            ; |300| 
     1686 0000029f 08700000-        ldp       @CL46,DP
     1687 000002a0 04a0002d-        cmpi      @CL46,r0              ; |300| 
     1688 000002a1 6a05fff0         beq       L76                   ; |300| 
     1689                   ;*      Branch Occurs to L76            ; |300| 
     1690 000002a2 08700000-        ldp       @CL44,DP
     1691 000002a3 04a0002b-        cmpi      @CL44,r0              ; |300| 
     1692 000002a4 6a05ffed         beq       L76                   ; |300| 
     1693                   ;*      Branch Occurs to L76            ; |300| 
     1694 000002a5          L83:        
     1695                           .line   114
     1696                   ;----------------------------------------------------------------------
     1697                   ; 313 | c = FALSE;                                                             
     1698                   ;----------------------------------------------------------------------
     1699 000002a5 50600000         ldiu      0,r0                  ; |313| 
     1700 000002a6 15400303         sti       r0,*+fp(3)            ; |313| 
     1701                           .line   115
     1702                   ;----------------------------------------------------------------------
     1703                   ; 314 | break;                                                                 
     1704                   ; 317 | case mb_cmd_pdi_RESTORE_FACTORY_DEFAULTS:                              
     1705                   ;----------------------------------------------------------------------
     1706 000002a7 6a00005a         bu        L105                  ; |314| 
     1707                   ;*      Branch Occurs to L105           ; |314| 
     1708 000002a8          L84:        
     1709                           .line   120
     1710                   ;----------------------------------------------------------------------
     1711                   ; 319 | Process_Restore_Factory_Defaults();                                    
     1712                   ;----------------------------------------------------------------------
     1713 000002a8 08700000-        ldp       @CL47,DP
     1714 000002a9 5020002e-        ldiu      @CL47,r0              ; |319| 
     1715 000002aa 70000000         callu     r0                    ; far call to _Process_Restore_Factory_Defaults ; |319| 
     1716                                                           ; |319| Far Call Occurs
     1717                           .line   121
     1718                   ;----------------------------------------------------------------------
     1719                   ; 320 | break;                                                                 
     1720                   ; 323 | case mb_cmd_pdi_store_scratchpad:                                      
     1721                   ;----------------------------------------------------------------------
     1722 000002ab 6a000056         bu        L105                  ; |320| 
     1723                   ;*      Branch Occurs to L105           ; |320| 
     1724 000002ac          L85:        
     1725                           .line   126
     1726                   ;----------------------------------------------------------------------
     1727                   ; 325 | Process_Store_Scratchpad(address);                                     
     1728                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   33

     1729 000002ac 08700000-        ldp       @CL48,DP
     1730 000002ad 504a0304         ldiu      *+fp(4),ar2           ; |325| 
     1731 000002ae 5020002f-        ldiu      @CL48,r0              ; |325| 
     1732 000002af 70000000         callu     r0                    ; far call to _Process_Store_Scratchpad ; |325| 
     1733                                                           ; |325| Far Call Occurs
     1734                           .line   127
     1735                   ;----------------------------------------------------------------------
     1736                   ; 326 | break;                                                                 
     1737                   ; 329 | case mb_cmd_pdi_clear_scratchpad:                                      
     1738                   ;----------------------------------------------------------------------
     1739 000002b0 6a000051         bu        L105                  ; |326| 
     1740                   ;*      Branch Occurs to L105           ; |326| 
     1741 000002b1          L86:        
     1742                           .line   132
     1743                   ;----------------------------------------------------------------------
     1744                   ; 331 | Process_Erase_Scratchpad();                                            
     1745                   ;----------------------------------------------------------------------
     1746 000002b1 08700000-        ldp       @CL49,DP
     1747 000002b2 50200030-        ldiu      @CL49,r0              ; |331| 
     1748 000002b3 70000000         callu     r0                    ; far call to _Process_Erase_Scratchpad ; |331| 
     1749                                                           ; |331| Far Call Occurs
     1750                           .line   133
     1751                   ;----------------------------------------------------------------------
     1752                   ; 332 | break;                                                                 
     1753                   ; 335 | case mb_cmd_pdi_ERASE_CFG:                                             
     1754                   ;----------------------------------------------------------------------
     1755 000002b4 6a00004d         bu        L105                  ; |332| 
     1756                   ;*      Branch Occurs to L105           ; |332| 
     1757 000002b5          L87:        
     1758                           .line   138
     1759                   ;----------------------------------------------------------------------
     1760                   ; 337 | Process_Erase_Cfg();                                                   
     1761                   ;----------------------------------------------------------------------
     1762 000002b5 08700000-        ldp       @CL50,DP
     1763 000002b6 50200031-        ldiu      @CL50,r0              ; |337| 
     1764 000002b7 70000000         callu     r0                    ; far call to _Process_Erase_Cfg        ; |337| 
     1765                                                           ; |337| Far Call Occurs
     1766                           .line   139
     1767                   ;----------------------------------------------------------------------
     1768                   ; 338 | break;                                                                 
     1769                   ; 341 | case mb_cmd_pdi_read_ESN:                                              
     1770                   ;----------------------------------------------------------------------
     1771 000002b8 6a000049         bu        L105                  ; |338| 
     1772                   ;*      Branch Occurs to L105           ; |338| 
     1773 000002b9          L88:        
     1774                           .line   144
     1775                   ;----------------------------------------------------------------------
     1776                   ; 343 | Process_Read_ESN();                                                    
     1777                   ;----------------------------------------------------------------------
     1778 000002b9 08700000-        ldp       @CL51,DP
     1779 000002ba 50200032-        ldiu      @CL51,r0              ; |343| 
     1780 000002bb 70000000         callu     r0                    ; far call to _Process_Read_ESN ; |343| 
     1781                                                           ; |343| Far Call Occurs
     1782                           .line   145
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   34

     1783                   ;----------------------------------------------------------------------
     1784                   ; 344 | break;                                                                 
     1785                   ; 347 | case mb_cmd_pdi_write_ESN:                                             
     1786                   ;----------------------------------------------------------------------
     1787 000002bc 6a000045         bu        L105                  ; |344| 
     1788                   ;*      Branch Occurs to L105           ; |344| 
     1789 000002bd          L89:        
     1790                           .line   150
     1791                   ;----------------------------------------------------------------------
     1792                   ; 349 | Process_Write_ESN(&PORT.RXbuf.buff[2]);                                
     1793                   ;----------------------------------------------------------------------
     1794 000002bd 08700000-        ldp       @CL52,DP
     1795 000002be 50200033-        ldiu      @CL52,r0              ; |349| 
     1796 000002bf 08700000-        ldp       @CL35,DP
     1797 000002c0 502a0022-        ldiu      @CL35,ar2             ; |349| 
     1798 000002c1 70000000         callu     r0                    ; far call to _Process_Write_ESN        ; |349| 
     1799                                                           ; |349| Far Call Occurs
     1800                           .line   151
     1801                   ;----------------------------------------------------------------------
     1802                   ; 350 | break;                                                                 
     1803                   ; 353 | case mb_cmd_pdi_read:                                                  
     1804                   ;----------------------------------------------------------------------
     1805 000002c2 6a00003f         bu        L105                  ; |350| 
     1806                   ;*      Branch Occurs to L105           ; |350| 
     1807 000002c3          L90:        
     1808                           .line   156
     1809                   ;----------------------------------------------------------------------
     1810                   ; 355 | Process_Read(address, numreg);                                         
     1811                   ;----------------------------------------------------------------------
     1812 000002c3 08700000-        ldp       @CL53,DP
     1813 000002c4 504a0304         ldiu      *+fp(4),ar2           ; |355| 
     1814 000002c5 50420305         ldiu      *+fp(5),r2            ; |355| 
     1815 000002c6 50200034-        ldiu      @CL53,r0              ; |355| 
     1816 000002c7 70000000         callu     r0                    ; far call to _Process_Read     ; |355| 
     1817                                                           ; |355| Far Call Occurs
     1818                           .line   157
     1819                   ;----------------------------------------------------------------------
     1820                   ; 356 | break;                                                                 
     1821                   ; 359 | case mb_cmd_pdi_write_scratchpad:                                      
     1822                   ;----------------------------------------------------------------------
     1823 000002c8 6a000039         bu        L105                  ; |356| 
     1824                   ;*      Branch Occurs to L105           ; |356| 
     1825 000002c9          L91:        
     1826                           .line   162
     1827                   ;----------------------------------------------------------------------
     1828                   ; 361 | Process_Write_Scratchpad(address, numreg, &PORT.RXbuf.buff[8]);        
     1829                   ;----------------------------------------------------------------------
     1830 000002c9 08700000-        ldp       @CL54,DP
     1831 000002ca 50230035-        ldiu      @CL54,r3              ; |361| 
     1832 000002cb 50420305         ldiu      *+fp(5),r2            ; |361| 
     1833 000002cc 08700000-        ldp       @CL55,DP
     1834 000002cd 504a0304         ldiu      *+fp(4),ar2           ; |361| 
     1835 000002ce 50200036-        ldiu      @CL55,r0              ; |361| 
     1836 000002cf 70000000         callu     r0                    ; far call to _Process_Write_Scratchpad ; |361| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   35

     1837                                                           ; |361| Far Call Occurs
     1838                           .line   163
     1839                   ;----------------------------------------------------------------------
     1840                   ; 362 | break;                                                                 
     1841                   ; 365 | case mb_cmd_pdi_write:                                                 
     1842                   ;----------------------------------------------------------------------
     1843 000002d0 6a000031         bu        L105                  ; |362| 
     1844                   ;*      Branch Occurs to L105           ; |362| 
     1845 000002d1          L92:        
     1846                           .line   168
     1847                   ;----------------------------------------------------------------------
     1848                   ; 367 | Process_Write(address, numreg, &PORT.RXbuf.buff[8]);                   
     1849                   ;----------------------------------------------------------------------
     1850 000002d1 08700000-        ldp       @CL54,DP
     1851 000002d2 50230035-        ldiu      @CL54,r3              ; |367| 
     1852 000002d3 50420305         ldiu      *+fp(5),r2            ; |367| 
     1853 000002d4 08700000-        ldp       @CL56,DP
     1854 000002d5 504a0304         ldiu      *+fp(4),ar2           ; |367| 
     1855 000002d6 50200037-        ldiu      @CL56,r0              ; |367| 
     1856 000002d7 70000000         callu     r0                    ; far call to _Process_Write    ; |367| 
     1857                                                           ; |367| Far Call Occurs
     1858                           .line   169
     1859                   ;----------------------------------------------------------------------
     1860                   ; 368 | break;                                                                 
     1861                   ; 371 | case mb_cmd_pdi_set_entry_point:                                       
     1862                   ;----------------------------------------------------------------------
     1863 000002d8 6a000029         bu        L105                  ; |368| 
     1864                   ;*      Branch Occurs to L105           ; |368| 
     1865 000002d9          L93:        
     1866                           .line   174
     1867                   ;----------------------------------------------------------------------
     1868                   ; 373 | Process_Set_Entry_Point(address);                                      
     1869                   ;----------------------------------------------------------------------
     1870 000002d9 08700000-        ldp       @CL57,DP
     1871 000002da 504a0304         ldiu      *+fp(4),ar2           ; |373| 
     1872 000002db 50200038-        ldiu      @CL57,r0              ; |373| 
     1873 000002dc 70000000         callu     r0                    ; far call to _Process_Set_Entry_Point  ; |373| 
     1874                                                           ; |373| Far Call Occurs
     1875                           .line   175
     1876                   ;----------------------------------------------------------------------
     1877                   ; 374 | break;                                                                 
     1878                   ; 377 | default:                                                               
     1879                   ;----------------------------------------------------------------------
     1880 000002dd 6a000024         bu        L105                  ; |374| 
     1881                   ;*      Branch Occurs to L105           ; |374| 
     1882 000002de          L94:        
     1883                           .line   180
     1884                   ;----------------------------------------------------------------------
     1885                   ; 379 | c = FALSE;                                                             
     1886                   ;----------------------------------------------------------------------
     1887 000002de 50600000         ldiu      0,r0                  ; |379| 
     1888 000002df 15400303         sti       r0,*+fp(3)            ; |379| 
     1889                           .line   181
     1890                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   36

     1891                   ; 380 | break;                                                                 
     1892                   ;----------------------------------------------------------------------
     1893 000002e0 6a000021         bu        L105                  ; |380| 
     1894                   ;*      Branch Occurs to L105           ; |380| 
     1895 000002e1          L96:        
     1896                           .line   54
     1897 000002e1 08700000-        ldp       @CL26,DP
     1898 000002e2 50280019-        ldiu      @CL26,ar0             ; |253| 
     1899 000002e3 50600041         ldiu      65,r0                 ; |253| 
     1900 000002e4 5051c000         ldiu      *ar0,ir0              ; |253| 
     1901 000002e5 19800011         subri     ir0,r0                ; |253| 
     1902 000002e6 04e00007         cmpi      7,r0                  ; |253| 
     1903 000002e7 6a02000d         bls       L104                  ; |253| 
     1904                   ;*      Branch Occurs to L104           ; |253| 
     1905 000002e8 04f10064         cmpi      100,ir0               ; |253| 
     1906 000002e9 6a05ff8f         beq       L74                   ; |253| 
     1907                   ;*      Branch Occurs to L74            ; |253| 
     1908 000002ea 04f10065         cmpi      101,ir0               ; |253| 
     1909 000002eb 6a05ffdd         beq       L91                   ; |253| 
     1910                   ;*      Branch Occurs to L91            ; |253| 
     1911 000002ec 04f10066         cmpi      102,ir0               ; |253| 
     1912 000002ed 6a05ffc3         beq       L86                   ; |253| 
     1913                   ;*      Branch Occurs to L86            ; |253| 
     1914 000002ee 04f10067         cmpi      103,ir0               ; |253| 
     1915 000002ef 6a05ffbc         beq       L85                   ; |253| 
     1916                   ;*      Branch Occurs to L85            ; |253| 
     1917 000002f0 04f10068         cmpi      104,ir0               ; |253| 
     1918 000002f1 6a05ff7b         beq       L72                   ; |253| 
     1919                   ;*      Branch Occurs to L72            ; |253| 
     1920 000002f2 04f10069         cmpi      105,ir0               ; |253| 
     1921 000002f3 6a05ff8d         beq       L75                   ; |253| 
     1922                   ;*      Branch Occurs to L75            ; |253| 
     1923 000002f4 6a00ffe9         bu        L94                   ; |253| 
     1924                   ;*      Branch Occurs to L94            ; |253| 
     1925 000002f5          L104:        
     1926 000002f5 08700000-        ldp       @CL58,DP
     1927 000002f6 18710041         subi      65,ir0                ; |253| Unsigned
     1928 000002f7 50280039-        ldiu      @CL58,ar0             ; |253| 
     1929 000002f8 50404000         ldiu      *+ar0(ir0),r0         ; |253| 
     1930 000002f9 68000000         bu        r0                    ; |253| 
     1931                   
     1932 000002fa                  .sect   ".text"
     1933 000002fa 000002d9'SW1:    .word   L93     ; 65
     1934 000002fb 000002c3'        .word   L90     ; 66
     1935 000002fc 000002d1'        .word   L92     ; 67
     1936 000002fd 000002b9'        .word   L88     ; 68
     1937 000002fe 000002bd'        .word   L89     ; 69
     1938 000002ff 000002a8'        .word   L84     ; 70
     1939 00000300 000002b5'        .word   L87     ; 71
     1940 00000301 00000264'        .word   L69     ; 72
     1941 00000302                  .sect   ".text"
     1942                   ;*      Branch Occurs to r0             ; |253| 
     1943 00000302          L105:        
     1944                           .line   185
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   37

     1945                   ;----------------------------------------------------------------------
     1946                   ; 384 | ENABLE_WDOG;                                                           
     1947                   ;----------------------------------------------------------------------
     1948 00000302 0f350000         push    ST                      
     1949 00000303 03752000         andn    2000h, ST       
     1950 00000304 08700000-        ldp       @CL42,DP
     1951 00000305 50280029-        ldiu      @CL42,ar0             ; |384| 
     1952 00000306 50600008         ldiu      8,r0                  ; |384| 
     1953 00000307 25a0c000         or3       r0,*ar0,r0            ; |384| 
     1954 00000308 1540c000         sti       r0,*ar0               ; |384| 
     1955 00000309 50600080         ldiu      128,r0                ; |384| 
     1956 0000030a 25a0c000         or3       r0,*ar0,r0            ; |384| 
     1957 0000030b 1540c000         sti       r0,*ar0               ; |384| 
     1958 0000030c 0e350000         pop             ST                      
     1959                           .line   187
     1960                   ;----------------------------------------------------------------------
     1961                   ; 386 | if (c)                                                                 
     1962                   ;----------------------------------------------------------------------
     1963 0000030d 50400303         ldiu      *+fp(3),r0            ; |386| 
     1964 0000030e 04e00000         cmpi      0,r0                  ; |386| 
     1965 0000030f 6a050033         beq       L107                  ; |386| 
     1966                   ;*      Branch Occurs to L107           ; |386| 
     1967                           .line   189
     1968                   ;----------------------------------------------------------------------
     1969                   ; 388 | tmp0 = PORT.TXbuf.CRC16;                                               
     1970                   ;----------------------------------------------------------------------
     1971 00000310 08700000-        ldp       @CL59,DP
     1972 00000311 5028003a-        ldiu      @CL59,ar0             ; |388| 
     1973 00000312 5040c000         ldiu      *ar0,r0               ; |388| 
     1974 00000313 15400306         sti       r0,*+fp(6)            ; |388| 
     1975                           .line   190
     1976                   ;----------------------------------------------------------------------
     1977                   ; 389 | tmp1 = tmp0 >> 8;                                                      
     1978                   ;----------------------------------------------------------------------
     1979 00000314 09e0fff8         lsh       -8,r0                 ; |389| 
     1980 00000315 15400307         sti       r0,*+fp(7)            ; |389| 
     1981                           .line   192
     1982                   ;----------------------------------------------------------------------
     1983                   ; 391 | Put(&PORT.TXbuf, tmp0);         /* CRCH */                             
     1984                   ;----------------------------------------------------------------------
     1985 00000316 08700000-        ldp       @CL60,DP
     1986 00000317 50420306         ldiu      *+fp(6),r2            ; |391| 
     1987 00000318 5020003b-        ldiu      @CL60,r0              ; |391| 
     1988 00000319 08700000-        ldp       @CL19,DP
     1989 0000031a 502a0012-        ldiu      @CL19,ar2             ; |391| 
     1990 0000031b 70000000         callu     r0                    ; far call to _Put      ; |391| 
     1991                                                           ; |391| Far Call Occurs
     1992                           .line   193
     1993                   ;----------------------------------------------------------------------
     1994                   ; 392 | Put(&PORT.TXbuf, tmp1);         /* CRCL */                             
     1995                   ;----------------------------------------------------------------------
     1996 0000031c 08700000-        ldp       @CL60,DP
     1997 0000031d 5020003b-        ldiu      @CL60,r0              ; |392| 
     1998 0000031e 08700000-        ldp       @CL19,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   38

     1999 0000031f 50420307         ldiu      *+fp(7),r2            ; |392| 
     2000 00000320 502a0012-        ldiu      @CL19,ar2             ; |392| 
     2001 00000321 70000000         callu     r0                    ; far call to _Put      ; |392| 
     2002                                                           ; |392| Far Call Occurs
     2003                           .line   194
     2004                   ;----------------------------------------------------------------------
     2005                   ; 393 | NOPS;                                                                  
     2006                   ;----------------------------------------------------------------------
     2007 00000322 0c800000         NOP                     
     2008 00000323 0c800000         NOP                     
     2009 00000324 0c800000         NOP                     
     2010                           .line   195
     2011                   ;----------------------------------------------------------------------
     2012                   ; 394 | UART[BOOTPORT][IER] = 0x00;     /* disable THR, disable RHR interrupts
     2013                   ;     | */                                                                     
     2014                   ;----------------------------------------------------------------------
     2015 00000325 08700000-        ldp       @CL14,DP
     2016 00000326 50600004         ldiu      4,r0                  ; |394| 
     2017 00000327 5028000d-        ldiu      @CL14,ar0             ; |394| 
     2018 00000328 08700000-        ldp       @CL18,DP
     2019 00000329 22b1c000         ash3      r0,*ar0,ir0           ; |394| 
     2020 0000032a 50290011-        ldiu      @CL18,ar1             ; |394| 
     2021 0000032b 50600000         ldiu      0,r0                  ; |394| 
     2022 0000032c 15404100         sti       r0,*+ar1(ir0)         ; |394| 
     2023                           .line   196
     2024                   ;----------------------------------------------------------------------
     2025                   ; 395 | NOPS;                                                                  
     2026                   ;----------------------------------------------------------------------
     2027 0000032d 0c800000         NOP                     
     2028 0000032e 0c800000         NOP                     
     2029 0000032f 0c800000         NOP                     
     2030                           .line   197
     2031                   ;----------------------------------------------------------------------
     2032                   ; 396 | UART[BOOTPORT][FCR] = 0x07;     /* clear FIFOS */                      
     2033                   ;----------------------------------------------------------------------
     2034 00000330 08700000-        ldp       @CL14,DP
     2035 00000331 5028000d-        ldiu      @CL14,ar0             ; |396| 
     2036 00000332 50600004         ldiu      4,r0                  ; |396| 
     2037 00000333 08700000-        ldp       @CL61,DP
     2038 00000334 22b1c000         ash3      r0,*ar0,ir0           ; |396| 
     2039 00000335 5029003c-        ldiu      @CL61,ar1             ; |396| 
     2040 00000336 50600007         ldiu      7,r0                  ; |396| 
     2041 00000337 15404100         sti       r0,*+ar1(ir0)         ; |396| 
     2042                           .line   198
     2043                   ;----------------------------------------------------------------------
     2044                   ; 397 | PORT.tvector = (int*)TX_P;                                             
     2045                   ;----------------------------------------------------------------------
     2046 00000338 08700000-        ldp       @CL2,DP
     2047 00000339 50280001-        ldiu      @CL2,ar0              ; |397| 
     2048 0000033a 08700000-        ldp       @CL62,DP
     2049 0000033b 5020003d-        ldiu      @CL62,r0              ; |397| 
     2050 0000033c 1540c000         sti       r0,*ar0               ; |397| 
     2051                           .line   199
     2052                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   39

     2053                   ; 398 | TIMER1_COUNTER = PORT.TMR_EOT_Delay;                                   
     2054                   ;----------------------------------------------------------------------
     2055 0000033d 08700000-        ldp       @CL63,DP
     2056 0000033e 5028003e-        ldiu      @CL63,ar0             ; |398| 
     2057 0000033f 08700000-        ldp       @CL6,DP
     2058 00000340 50290005-        ldiu      @CL6,ar1              ; |398| 
     2059 00000341 5040c000         ldiu      *ar0,r0               ; |398| 
     2060 00000342 1540c100         sti       r0,*ar1               ; |398| 
     2061 00000343          L107:        
     2062                           .line   203
     2063                   ;----------------------------------------------------------------------
     2064                   ; 402 | PORT.RXbuf.locked = FALSE;              /* unlock the buffer */        
     2065                   ;----------------------------------------------------------------------
     2066 00000343 08700000-        ldp       @CL32,DP
     2067 00000344 5028001f-        ldiu      @CL32,ar0             ; |402| 
     2068 00000345 50600000         ldiu      0,r0                  ; |402| 
     2069 00000346 1540c000         sti       r0,*ar0               ; |402| 
     2070                           .line   204
     2071                   ;----------------------------------------------------------------------
     2072                   ; 403 | Clear_RX();                                                            
     2073                   ;----------------------------------------------------------------------
     2074 00000347 08700000-        ldp       @CL10,DP
     2075 00000348 50200009-        ldiu      @CL10,r0              ; |403| 
     2076 00000349 70000000         callu     r0                    ; far call to _Clear_RX ; |403| 
     2077                                                           ; |403| Far Call Occurs
     2078                           .line   205
     2079                   ;----------------------------------------------------------------------
     2080                   ; 404 | PORT.pvector = (int*)MODBUS_RX_ID;                                     
     2081                   ;----------------------------------------------------------------------
     2082 0000034a 08700000-        ldp       @CL4,DP
     2083 0000034b 50280003-        ldiu      @CL4,ar0              ; |404| 
     2084 0000034c 08700000-        ldp       @CL5,DP
     2085 0000034d 50200004-        ldiu      @CL5,r0               ; |404| 
     2086 0000034e 1540c000         sti       r0,*ar0               ; |404| 
     2087                           .line   206
     2088                   ;----------------------------------------------------------------------
     2089                   ; 405 | PORT.TMR_enabled = TRUE;                                               
     2090                   ;----------------------------------------------------------------------
     2091 0000034f 08700000-        ldp       @CL8,DP
     2092 00000350 50280007-        ldiu      @CL8,ar0              ; |405| 
     2093 00000351 50600001         ldiu      1,r0                  ; |405| 
     2094 00000352 1540c000         sti       r0,*ar0               ; |405| 
     2095 00000353          L108:        
     2096                           .line   207
     2097                                                           ; Begin Epilog Code
     2098 00000353 50410b01         ldiu      *-fp(1),r1
     2099 00000354 504bc300         ldiu      *fp,fp
     2100                                                           ; Unallocate the Frame
     2101 00000355 1874000b         subi      11,sp
     2102 00000356 68000001         bu        r1
     2103                   ;*      Branch Occurs to r1 
     2104                           .endfunc        406,000000000h,9
     2105                   
     2106                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   40

     2107 00000357                  .sect    ".text"
     2108                   
     2109                           .global _MB_exception
     2110                           .sym    _MB_exception,_MB_exception,32,2,0
     2111                           .func   408
     2112                   ;******************************************************************************
     2113                   ;* FUNCTION NAME: _MB_exception                                               *
     2114                   ;*                                                                            *
     2115                   ;*   Architecture       : TMS320C33                                           *
     2116                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2117                   ;*   Function Uses Regs : r0,r1,r2,ar0,ar2                                    *
     2118                   ;*   Regs Saved         :                                                     *
     2119                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2120                   ;*   Total Frame Size   : 2 Call + 0 Parm + 1 Auto + 0 SOE = 3 words          *
     2121                   ;******************************************************************************
     2122 00000357          _MB_exception:
     2123                   ;* ar2   assigned to _ex
     2124                           .sym    _ex,10,4,17,32
     2125                           .sym    _ex,1,4,1,32
     2126                           .line   1
     2127                   ;----------------------------------------------------------------------
     2128                   ; 408 | void MB_exception(int ex)                                              
     2129                   ;----------------------------------------------------------------------
     2130 00000357 0f2b0000         push      fp
     2131 00000358 500b0014         ldiu      sp,fp
     2132 00000359 02740001         addi      1,sp
     2133                           .line   2
     2134 0000035a 154a0301         sti       ar2,*+fp(1)           ; |409| 
     2135                           .line   3
     2136                   ;----------------------------------------------------------------------
     2137                   ; 410 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     2138                   ;     | e */                                                                   
     2139                   ;----------------------------------------------------------------------
     2140 0000035b 08700000-        ldp       @CL33,DP
     2141 0000035c 50280020-        ldiu      @CL33,ar0             ; |410| 
     2142 0000035d 08700000-        ldp       @CL60,DP
     2143 0000035e 5020003b-        ldiu      @CL60,r0              ; |410| 
     2144 0000035f 08700000-        ldp       @CL19,DP
     2145 00000360 5042c000         ldiu      *ar0,r2               ; |410| 
     2146 00000361 502a0012-        ldiu      @CL19,ar2             ; |410| 
     2147 00000362 70000000         callu     r0                    ; far call to _Put      ; |410| 
     2148                                                           ; |410| Far Call Occurs
     2149                           .line   4
     2150                   ;----------------------------------------------------------------------
     2151                   ; 411 | Put(&PORT.TXbuf, PORT.func|0x80);
     2152                   ;     |  /* function w/ exception */                                           
     2153                   ;----------------------------------------------------------------------
     2154 00000363 08700000-        ldp       @CL26,DP
     2155 00000364 50280019-        ldiu      @CL26,ar0             ; |411| 
     2156 00000365 08700000-        ldp       @CL60,DP
     2157 00000366 5020003b-        ldiu      @CL60,r0              ; |411| 
     2158 00000367 08700000-        ldp       @CL19,DP
     2159 00000368 50610080         ldiu      128,r1                ; |411| 
     2160 00000369 502a0012-        ldiu      @CL19,ar2             ; |411| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   41

     2161 0000036a 25a2c001         or3       r1,*ar0,r2            ; |411| 
     2162 0000036b 70000000         callu     r0                    ; far call to _Put      ; |411| 
     2163                                                           ; |411| Far Call Occurs
     2164                           .line   5
     2165                   ;----------------------------------------------------------------------
     2166                   ; 412 | Put(&PORT.TXbuf, ex);
     2167                   ;     |          /* exception code */                                          
     2168                   ;----------------------------------------------------------------------
     2169 0000036c 08700000-        ldp       @CL60,DP
     2170 0000036d 5020003b-        ldiu      @CL60,r0              ; |412| 
     2171 0000036e 08700000-        ldp       @CL19,DP
     2172 0000036f 502a0012-        ldiu      @CL19,ar2             ; |412| 
     2173 00000370 50420301         ldiu      *+fp(1),r2            ; |412| 
     2174 00000371 70000000         callu     r0                    ; far call to _Put      ; |412| 
     2175                                                           ; |412| Far Call Occurs
     2176                           .line   6
     2177                                                           ; Begin Epilog Code
     2178 00000372 50410b01         ldiu      *-fp(1),r1
     2179 00000373 504bc300         ldiu      *fp,fp
     2180                                                           ; Unallocate the Frame
     2181 00000374 18740003         subi      3,sp
     2182 00000375 68000001         bu        r1
     2183                   ;*      Branch Occurs to r1 
     2184                           .endfunc        413,000000000h,1
     2185                   
     2186                   
     2187 00000376                  .sect    ".text"
     2188                   
     2189                           .global _Process_Read
     2190                           .sym    _Process_Read,_Process_Read,32,2,0
     2191                           .func   415
     2192                   ;******************************************************************************
     2193                   ;* FUNCTION NAME: _Process_Read                                               *
     2194                   ;*                                                                            *
     2195                   ;*   Architecture       : TMS320C33                                           *
     2196                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2197                   ;*   Function Uses Regs : r0,r1,r2,r4,r5,ar0,ar2,ar4,st                       *
     2198                   ;*   Regs Saved         : r4,r5,ar4                                           *
     2199                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2200                   ;*   Total Frame Size   : 2 Call + 0 Parm + 6 Auto + 3 SOE = 11 words         *
     2201                   ;******************************************************************************
     2202 00000376          _Process_Read:
     2203                   ;* ar2   assigned to _addr
     2204                           .sym    _addr,10,14,17,32
     2205                   ;* r2    assigned to _n
     2206                           .sym    _n,2,14,17,32
     2207                           .sym    _addr,1,14,1,32
     2208                           .sym    _n,2,14,1,32
     2209                           .sym    _i,3,14,1,32
     2210                           .sym    _f,4,14,1,32
     2211                           .sym    _c,5,30,1,32
     2212                           .sym    _j,6,14,1,32
     2213                           .line   1
     2214                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   42

     2215                   ; 415 | void Process_Read(unsigned int addr, unsigned int n)                   
     2216                   ;----------------------------------------------------------------------
     2217 00000376 0f2b0000         push      fp
     2218 00000377 500b0014         ldiu      sp,fp
     2219 00000378 02740006         addi      6,sp
     2220 00000379 0f240000         push      r4
     2221 0000037a 0f250000         push      r5
     2222 0000037b 0f2c0000         push      ar4
     2223                           .line   2
     2224                   ;----------------------------------------------------------------------
     2225                   ; 417 | unsigned int i;                                                        
     2226                   ; 418 | unsigned int f;                                                        
     2227                   ; 419 | unsigned int* c;                                                       
     2228                   ; 420 | unsigned int j;                                                        
     2229                   ;----------------------------------------------------------------------
     2230 0000037c 15420302         sti       r2,*+fp(2)            ; |416| 
     2231 0000037d 154a0301         sti       ar2,*+fp(1)           ; |416| 
     2232                           .line   8
     2233                   ;----------------------------------------------------------------------
     2234                   ; 422 | f = FLASH_SIZE();                                                      
     2235                   ;----------------------------------------------------------------------
     2236 0000037e 08700000-        ldp       @CL64,DP
     2237 0000037f 5020003f-        ldiu      @CL64,r0              ; |422| 
     2238 00000380 70000000         callu     r0                    ; far call to _FLASH_SIZE       ; |422| 
     2239                                                           ; |422| Far Call Occurs
     2240 00000381 15400304         sti       r0,*+fp(4)            ; |422| 
     2241                           .line   9
     2242                   ;----------------------------------------------------------------------
     2243                   ; 423 | if ((   (addr < (unsigned int)FLASH_LOC) || ((addr+n)>=(f+(unsigned int
     2244                   ;     | )FLASH_LOC))                     &&                                    
     2245                   ; 424 |                 (addr < (unsigned int)0x800000)  || ((addr+n)>=((unsign
     2246                   ;     | ed int)0x808000))                        &&                            
     2247                   ; 425 |                 (addr < (unsigned int)0x809800)  || ((addr+n)>=((unsign
     2248                   ;     | ed int)0x80A000))                                                      
     2249                   ; 426 |         ) || (n==0) )                                                  
     2250                   ;----------------------------------------------------------------------
     2251 00000382 08700000-        ldp       @CL65,DP
     2252 00000383 50400301         ldiu      *+fp(1),r0            ; |423| 
     2253 00000384 04a00040-        cmpi      @CL65,r0              ; |423| 
     2254 00000385 6a01001c         blo       L120                  ; |423| 
     2255                   ;*      Branch Occurs to L120           ; |423| 
     2256 00000386 08700000-        ldp       @CL65,DP
     2257 00000387 50410302         ldiu      *+fp(2),r1            ; |423| 
     2258 00000388 50200040-        ldiu      @CL65,r0              ; |423| 
     2259 00000389 02410301         addi      *+fp(1),r1            ; |423| Unsigned
     2260 0000038a 02400304         addi      *+fp(4),r0            ; |423| Unsigned
     2261 0000038b 23800100         cmpi3     r0,r1                 ; |423| 
     2262 0000038c 6a010004         blo       L116                  ; |423| 
     2263                   ;*      Branch Occurs to L116           ; |423| 
     2264 0000038d 08700000-        ldp       @CL66,DP
     2265 0000038e 50400301         ldiu      *+fp(1),r0            ; |423| 
     2266 0000038f 04a00041-        cmpi      @CL66,r0              ; |423| 
     2267 00000390 6a010011         blo       L120                  ; |423| 
     2268                   ;*      Branch Occurs to L120           ; |423| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   43

     2269 00000391          L116:        
     2270 00000391 50400302         ldiu      *+fp(2),r0            ; |423| 
     2271 00000392 08700000-        ldp       @CL67,DP
     2272 00000393 02400301         addi      *+fp(1),r0            ; |423| Unsigned
     2273 00000394 04a00042-        cmpi      @CL67,r0              ; |423| 
     2274 00000395 6a010004         blo       L118                  ; |423| 
     2275                   ;*      Branch Occurs to L118           ; |423| 
     2276 00000396 08700000-        ldp       @CL68,DP
     2277 00000397 50400301         ldiu      *+fp(1),r0            ; |423| 
     2278 00000398 04a00043-        cmpi      @CL68,r0              ; |423| 
     2279 00000399 6a010008         blo       L120                  ; |423| 
     2280                   ;*      Branch Occurs to L120           ; |423| 
     2281 0000039a          L118:        
     2282 0000039a 50400302         ldiu      *+fp(2),r0            ; |423| 
     2283 0000039b 08700000-        ldp       @CL69,DP
     2284 0000039c 02400301         addi      *+fp(1),r0            ; |423| Unsigned
     2285 0000039d 04a00044-        cmpi      @CL69,r0              ; |423| 
     2286 0000039e 6a040003         bhs       L120                  ; |423| 
     2287                   ;*      Branch Occurs to L120           ; |423| 
     2288 0000039f 50400302         ldiu      *+fp(2),r0            ; |423| 
     2289 000003a0 04e00000         cmpi      0,r0                  ; |423| 
     2290 000003a1 6a060005         bne       L121                  ; |423| 
     2291                   ;*      Branch Occurs to L121           ; |423| 
     2292 000003a2          L120:        
     2293                           .line   14
     2294                   ;----------------------------------------------------------------------
     2295                   ; 428 | MB_exception(mb_excp_illegal_addr);                                    
     2296                   ;----------------------------------------------------------------------
     2297 000003a2 08700000-        ldp       @CL70,DP
     2298 000003a3 506a0002         ldiu      2,ar2                 ; |428| 
     2299 000003a4 50200045-        ldiu      @CL70,r0              ; |428| 
     2300 000003a5 70000000         callu     r0                    ; far call to _MB_exception     ; |428| 
     2301                                                           ; |428| Far Call Occurs
     2302                           .line   15
     2303                   ;----------------------------------------------------------------------
     2304                   ; 429 | return;                                                                
     2305                   ;----------------------------------------------------------------------
     2306 000003a6 6a00004a         bu        L123                  ; |429| 
     2307                   ;*      Branch Occurs to L123           ; |429| 
     2308 000003a7          L121:        
     2309                           .line   18
     2310                   ;----------------------------------------------------------------------
     2311                   ; 432 | c = (unsigned int*) addr;                                              
     2312                   ;----------------------------------------------------------------------
     2313 000003a7 50400301         ldiu      *+fp(1),r0            ; |432| 
     2314 000003a8 15400305         sti       r0,*+fp(5)            ; |432| 
     2315                           .line   20
     2316                   ;----------------------------------------------------------------------
     2317                   ; 434 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     2318                   ;     | e */                                                                   
     2319                   ;----------------------------------------------------------------------
     2320 000003a9 08700000-        ldp       @CL33,DP
     2321 000003aa 50280020-        ldiu      @CL33,ar0             ; |434| 
     2322 000003ab 08700000-        ldp       @CL60,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   44

     2323 000003ac 5020003b-        ldiu      @CL60,r0              ; |434| 
     2324 000003ad 08700000-        ldp       @CL19,DP
     2325 000003ae 5042c000         ldiu      *ar0,r2               ; |434| 
     2326 000003af 502a0012-        ldiu      @CL19,ar2             ; |434| 
     2327 000003b0 70000000         callu     r0                    ; far call to _Put      ; |434| 
     2328                                                           ; |434| Far Call Occurs
     2329                           .line   21
     2330                   ;----------------------------------------------------------------------
     2331                   ; 435 | Put(&PORT.TXbuf, PORT.func);
     2332                   ;     |  /* function */                                                        
     2333                   ;----------------------------------------------------------------------
     2334 000003b1 08700000-        ldp       @CL26,DP
     2335 000003b2 50280019-        ldiu      @CL26,ar0             ; |435| 
     2336 000003b3 08700000-        ldp       @CL60,DP
     2337 000003b4 5020003b-        ldiu      @CL60,r0              ; |435| 
     2338 000003b5 08700000-        ldp       @CL19,DP
     2339 000003b6 5042c000         ldiu      *ar0,r2               ; |435| 
     2340 000003b7 502a0012-        ldiu      @CL19,ar2             ; |435| 
     2341 000003b8 70000000         callu     r0                    ; far call to _Put      ; |435| 
     2342                                                           ; |435| Far Call Occurs
     2343                           .line   22
     2344                   ;----------------------------------------------------------------------
     2345                   ; 436 | Put(&PORT.TXbuf, (n>>8));
     2346                   ;     |          /* n word32 */                                                
     2347                   ;----------------------------------------------------------------------
     2348 000003b9 08700000-        ldp       @CL60,DP
     2349 000003ba 5020003b-        ldiu      @CL60,r0              ; |436| 
     2350 000003bb 50420302         ldiu      *+fp(2),r2            ; |436| 
     2351 000003bc 09e2fff8         lsh       -8,r2                 ; |436| 
     2352 000003bd 08700000-        ldp       @CL19,DP
     2353 000003be 502a0012-        ldiu      @CL19,ar2             ; |436| 
     2354 000003bf 70000000         callu     r0                    ; far call to _Put      ; |436| 
     2355                                                           ; |436| Far Call Occurs
     2356                           .line   23
     2357                   ;----------------------------------------------------------------------
     2358                   ; 437 | Put(&PORT.TXbuf, n);                                                   
     2359                   ;----------------------------------------------------------------------
     2360 000003c0 08700000-        ldp       @CL60,DP
     2361 000003c1 5020003b-        ldiu      @CL60,r0              ; |437| 
     2362 000003c2 08700000-        ldp       @CL19,DP
     2363 000003c3 502a0012-        ldiu      @CL19,ar2             ; |437| 
     2364 000003c4 50420302         ldiu      *+fp(2),r2            ; |437| 
     2365 000003c5 70000000         callu     r0                    ; far call to _Put      ; |437| 
     2366                                                           ; |437| Far Call Occurs
     2367                           .line   25
     2368                   ;----------------------------------------------------------------------
     2369                   ; 439 | for (i=0;i<n;i++)                                                      
     2370                   ;----------------------------------------------------------------------
     2371 000003c6 50600000         ldiu      0,r0                  ; |439| 
     2372 000003c7 15400303         sti       r0,*+fp(3)            ; |439| 
     2373 000003c8 506cfff8         ldiu      -8,ar4                ; |443| 
     2374 000003c9 5065fff0         ldiu      -16,r5                ; |442| 
     2375 000003ca 5064ffe8         ldiu      -24,r4                ; |441| 
     2376 000003cb 04c00302         cmpi      *+fp(2),r0            ; |439| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   45

     2377 000003cc 6a040024         bhs       L123                  ; |439| 
     2378                   ;*      Branch Occurs to L123           ; |439| 
     2379 000003cd          L122:        
     2380                           .line   27
     2381                   ;----------------------------------------------------------------------
     2382                   ; 441 | Put(&PORT.TXbuf, c[0]>>24);                                            
     2383                   ;----------------------------------------------------------------------
     2384 000003cd 08700000-        ldp       @CL60,DP
     2385 000003ce 50480305         ldiu      *+fp(5),ar0           ; |441| 
     2386 000003cf 5020003b-        ldiu      @CL60,r0              ; |441| 
     2387 000003d0 08700000-        ldp       @CL19,DP
     2388 000003d1 2422c004         lsh3      r4,*ar0,r2            ; |441| 
     2389 000003d2 502a0012-        ldiu      @CL19,ar2             ; |441| 
     2390 000003d3 70000000         callu     r0                    ; far call to _Put      ; |441| 
     2391                                                           ; |441| Far Call Occurs
     2392                           .line   28
     2393                   ;----------------------------------------------------------------------
     2394                   ; 442 | Put(&PORT.TXbuf, c[0]>>16);                                            
     2395                   ;----------------------------------------------------------------------
     2396 000003d4 08700000-        ldp       @CL60,DP
     2397 000003d5 5020003b-        ldiu      @CL60,r0              ; |442| 
     2398 000003d6 08700000-        ldp       @CL19,DP
     2399 000003d7 50480305         ldiu      *+fp(5),ar0           ; |442| 
     2400 000003d8 502a0012-        ldiu      @CL19,ar2             ; |442| 
     2401 000003d9 2422c005         lsh3      r5,*ar0,r2            ; |442| 
     2402 000003da 70000000         callu     r0                    ; far call to _Put      ; |442| 
     2403                                                           ; |442| Far Call Occurs
     2404                           .line   29
     2405                   ;----------------------------------------------------------------------
     2406                   ; 443 | Put(&PORT.TXbuf, c[0]>>8);                                             
     2407                   ;----------------------------------------------------------------------
     2408 000003db 08700000-        ldp       @CL60,DP
     2409 000003dc 5020003b-        ldiu      @CL60,r0              ; |443| 
     2410 000003dd 50480305         ldiu      *+fp(5),ar0           ; |443| 
     2411 000003de 08700000-        ldp       @CL19,DP
     2412 000003df 2422c00c         lsh3      ar4,*ar0,r2           ; |443| 
     2413 000003e0 502a0012-        ldiu      @CL19,ar2             ; |443| 
     2414 000003e1 70000000         callu     r0                    ; far call to _Put      ; |443| 
     2415                                                           ; |443| Far Call Occurs
     2416                           .line   30
     2417                   ;----------------------------------------------------------------------
     2418                   ; 444 | Put(&PORT.TXbuf, c[0]);                                                
     2419                   ;----------------------------------------------------------------------
     2420 000003e2 08700000-        ldp       @CL60,DP
     2421 000003e3 5020003b-        ldiu      @CL60,r0              ; |444| 
     2422 000003e4 08700000-        ldp       @CL19,DP
     2423 000003e5 50480305         ldiu      *+fp(5),ar0           ; |444| 
     2424 000003e6 502a0012-        ldiu      @CL19,ar2             ; |444| 
     2425 000003e7 5042c000         ldiu      *ar0,r2               ; |444| 
     2426 000003e8 70000000         callu     r0                    ; far call to _Put      ; |444| 
     2427                                                           ; |444| Far Call Occurs
     2428                           .line   31
     2429                   ;----------------------------------------------------------------------
     2430                   ; 445 | c++;                                                                   
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   46

     2431                   ;----------------------------------------------------------------------
     2432 000003e9 50600001         ldiu      1,r0                  ; |445| 
     2433 000003ea 02400305         addi      *+fp(5),r0            ; |445| Unsigned
     2434 000003eb 15400305         sti       r0,*+fp(5)            ; |445| 
     2435                           .line   25
     2436 000003ec 50600001         ldiu      1,r0                  ; |439| 
     2437 000003ed 02400303         addi      *+fp(3),r0            ; |439| Unsigned
     2438 000003ee 15400303         sti       r0,*+fp(3)            ; |439| 
     2439 000003ef 04c00302         cmpi      *+fp(2),r0            ; |439| 
     2440 000003f0 6a01ffdc         blo       L122                  ; |439| 
     2441                   ;*      Branch Occurs to L122           ; |439| 
     2442 000003f1          L123:        
     2443                           .line   33
     2444                                                           ; Begin Epilog Code
     2445 000003f1 50410b01         ldiu      *-fp(1),r1
     2446 000003f2 504bc300         ldiu      *fp,fp
     2447                                                           ; Restore SOE Registers
     2448 000003f3 0e2c0000         pop       ar4
     2449 000003f4 0e250000         pop       r5
     2450 000003f5 0e240000         pop       r4
     2451                                                           ; Unallocate the Frame
     2452 000003f6 18740008         subi      8,sp
     2453 000003f7 68000001         bu        r1
     2454                   ;*      Branch Occurs to r1 
     2455                           .endfunc        447,000001030h,6
     2456                   
     2457                   
     2458 000003f8                  .sect    ".text"
     2459                   
     2460                           .global _Process_Write_Scratchpad
     2461                           .sym    _Process_Write_Scratchpad,_Process_Write_Scratchpad,32,2,0
     2462                           .func   449
     2463                   ;******************************************************************************
     2464                   ;* FUNCTION NAME: _Process_Write_Scratchpad                                   *
     2465                   ;*                                                                            *
     2466                   ;*   Architecture       : TMS320C33                                           *
     2467                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2468                   ;*   Function Uses Regs : r0,r1,r2,r3,ar0,ar1,ar2,ar4,ir0,st,rs               *
     2469                   ;*   Regs Saved         : ar4                                                 *
     2470                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2471                   ;*   Total Frame Size   : 2 Call + 0 Parm + 7 Auto + 1 SOE = 10 words         *
     2472                   ;******************************************************************************
     2473 000003f8          _Process_Write_Scratchpad:
     2474                   ;* ar2   assigned to _destination
     2475                           .sym    _destination,10,14,17,32
     2476                   ;* r2    assigned to _n
     2477                           .sym    _n,2,14,17,32
     2478                   ;* r3    assigned to _source
     2479                           .sym    _source,3,30,17,32
     2480                           .sym    _destination,1,14,1,32
     2481                           .sym    _n,2,14,1,32
     2482                           .sym    _source,3,30,1,32
     2483                           .sym    _i,4,14,1,32
     2484                           .sym    _z,5,14,1,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   47

     2485                           .sym    _a,6,30,1,32
     2486                           .sym    _s,7,30,1,32
     2487                           .line   1
     2488                   ;----------------------------------------------------------------------
     2489                   ; 449 | void Process_Write_Scratchpad(unsigned int destination, unsigned int n,
     2490                   ;     |  unsigned int* source)                                                 
     2491                   ;----------------------------------------------------------------------
     2492 000003f8 0f2b0000         push      fp
     2493 000003f9 500b0014         ldiu      sp,fp
     2494 000003fa 02740007         addi      7,sp
     2495 000003fb 0f2c0000         push      ar4
     2496                           .line   2
     2497                   ;----------------------------------------------------------------------
     2498                   ; 451 | unsigned int i;                                                        
     2499                   ; 452 | unsigned int z;                                                        
     2500                   ; 453 | unsigned int* a;                                                       
     2501                   ; 454 | unsigned int* s;                                                       
     2502                   ;----------------------------------------------------------------------
     2503 000003fc 15430303         sti       r3,*+fp(3)            ; |450| 
     2504 000003fd 15420302         sti       r2,*+fp(2)            ; |450| 
     2505 000003fe 154a0301         sti       ar2,*+fp(1)           ; |450| 
     2506                           .line   8
     2507                   ;----------------------------------------------------------------------
     2508                   ; 456 | a = (unsigned int*) MEM_LOC;                                           
     2509                   ;----------------------------------------------------------------------
     2510 000003ff 08700000-        ldp       @CL71,DP
     2511 00000400 50200046-        ldiu      @CL71,r0              ; |456| 
     2512 00000401 15400306         sti       r0,*+fp(6)            ; |456| 
     2513                           .line   10
     2514                   ;----------------------------------------------------------------------
     2515                   ; 458 | if ((destination+n)>(FLASH_SECTOR_SIZE))                               
     2516                   ;----------------------------------------------------------------------
     2517 00000402 08700000-        ldp       @CL72,DP
     2518 00000403 50000002         ldiu      r2,r0
     2519 00000404 02400301         addi      *+fp(1),r0            ; |458| Unsigned
     2520 00000405 04a00047-        cmpi      @CL72,r0              ; |458| 
     2521 00000406 6a020005         bls       L127                  ; |458| 
     2522                   ;*      Branch Occurs to L127           ; |458| 
     2523                           .line   12
     2524                   ;----------------------------------------------------------------------
     2525                   ; 460 | MB_exception(mb_excp_illegal_addr);                                    
     2526                   ;----------------------------------------------------------------------
     2527 00000407 08700000-        ldp       @CL70,DP
     2528 00000408 506a0002         ldiu      2,ar2                 ; |460| 
     2529 00000409 50200045-        ldiu      @CL70,r0              ; |460| 
     2530 0000040a 70000000         callu     r0                    ; far call to _MB_exception     ; |460| 
     2531                                                           ; |460| Far Call Occurs
     2532                           .line   13
     2533                   ;----------------------------------------------------------------------
     2534                   ; 461 | return;                                                                
     2535                   ;----------------------------------------------------------------------
     2536 0000040b 6a000099         bu        L136                  ; |461| 
     2537                   ;*      Branch Occurs to L136           ; |461| 
     2538 0000040c          L127:        
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   48

     2539                           .line   16
     2540                   ;----------------------------------------------------------------------
     2541                   ; 464 | if (n>0x8000)                                                          
     2542                   ;----------------------------------------------------------------------
     2543 0000040c 08700000-        ldp       @CL72,DP
     2544 0000040d 50400302         ldiu      *+fp(2),r0            ; |464| 
     2545 0000040e 04a00047-        cmpi      @CL72,r0              ; |464| 
     2546 0000040f 6a020005         bls       L129                  ; |464| 
     2547                   ;*      Branch Occurs to L129           ; |464| 
     2548                           .line   18
     2549                   ;----------------------------------------------------------------------
     2550                   ; 466 | MB_exception(mb_excp_illegal_data);                                    
     2551                   ;----------------------------------------------------------------------
     2552 00000410 08700000-        ldp       @CL70,DP
     2553 00000411 506a0003         ldiu      3,ar2                 ; |466| 
     2554 00000412 50200045-        ldiu      @CL70,r0              ; |466| 
     2555 00000413 70000000         callu     r0                    ; far call to _MB_exception     ; |466| 
     2556                                                           ; |466| Far Call Occurs
     2557                           .line   19
     2558                   ;----------------------------------------------------------------------
     2559                   ; 467 | return;                                                                
     2560                   ;----------------------------------------------------------------------
     2561 00000414 6a000090         bu        L136                  ; |467| 
     2562                   ;*      Branch Occurs to L136           ; |467| 
     2563 00000415          L129:        
     2564                           .line   22
     2565                   ;----------------------------------------------------------------------
     2566                   ; 470 | s = source;                                                            
     2567                   ;----------------------------------------------------------------------
     2568 00000415 50400303         ldiu      *+fp(3),r0            ; |470| 
     2569 00000416 15400307         sti       r0,*+fp(7)            ; |470| 
     2570                           .line   23
     2571                   ;----------------------------------------------------------------------
     2572                   ; 471 | for (i=destination;i<(destination+n);i++)                              
     2573                   ;----------------------------------------------------------------------
     2574 00000417 50400301         ldiu      *+fp(1),r0            ; |471| 
     2575 00000418 15400304         sti       r0,*+fp(4)            ; |471| 
     2576 00000419 50400302         ldiu      *+fp(2),r0            ; |471| 
     2577 0000041a 50410304         ldiu      *+fp(4),r1            ; |471| 
     2578 0000041b 02400301         addi      *+fp(1),r0            ; |471| Unsigned
     2579 0000041c 23800100         cmpi3     r0,r1                 ; |471| 
     2580 0000041d 506300ff         ldiu      255,r3                ; |473| 
     2581 0000041e 6a040020         bhs       L131                  ; |471| 
     2582                   ;*      Branch Occurs to L131           ; |471| 
     2583 0000041f          L130:        
     2584                           .line   25
     2585                   ;----------------------------------------------------------------------
     2586                   ; 473 | z = ((source[0]&0xFF)<<24) | ((source[1]&0xFF)<<16) | ((source[2]&0xFF)
     2587                   ;     | <<8) | (source[3]&0xFF);                                               
     2588                   ;----------------------------------------------------------------------
     2589 0000041f 50480303         ldiu      *+fp(3),ar0           ; |473| 
     2590 00000420 506100ff         ldiu      255,r1                ; |473| 
     2591 00000421 506000ff         ldiu      255,r0                ; |473| 
     2592 00000422 506200ff         ldiu      255,r2                ; |473| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   49

     2593 00000423 50090008         ldiu      ar0,ar1               ; |473| 
     2594 00000424 21b9c003         and3      r3,*ar0,rs            ; |473| 
     2595 00000425 500a0008         ldiu      ar0,ar2               ; |473| 
     2596 00000426 500c0008         ldiu      ar0,ar4               ; |473| 
     2597 00000427 02c10101         and       *+ar1(1),r1           ; |473| 
     2598 00000428 03f90018         ash       24,rs                 ; |473| 
     2599 00000429 02c00202         and       *+ar2(2),r0           ; |473| 
     2600 0000042a 02c20403         and       *+ar4(3),r2           ; |473| 
     2601 0000042b 03e10010         ash       16,r1                 ; |473| 
     2602 0000042c 03e00008         ash       8,r0                  ; |473| 
     2603 0000042d 25810119         or3       rs,r1,r1              ; |473| 
     2604 0000042e 25800001         or3       r1,r0,r0              ; |473| 
     2605 0000042f 25800200         or3       r0,r2,r0              ; |473| 
     2606 00000430 15400305         sti       r0,*+fp(5)            ; |473| 
     2607                           .line   26
     2608                   ;----------------------------------------------------------------------
     2609                   ; 474 | a[i] = z;                                                              
     2610                   ;----------------------------------------------------------------------
     2611 00000431 50510306         ldiu      *+fp(6),ir0           ; |474| 
     2612 00000432 50480304         ldiu      *+fp(4),ar0           ; |474| 
     2613 00000433 15404000         sti       r0,*+ar0(ir0)         ; |474| 
     2614                           .line   27
     2615                   ;----------------------------------------------------------------------
     2616                   ; 475 | source += 4;                                                           
     2617                   ;----------------------------------------------------------------------
     2618 00000434 50600004         ldiu      4,r0                  ; |475| 
     2619 00000435 02400303         addi      *+fp(3),r0            ; |475| Unsigned
     2620 00000436 15400303         sti       r0,*+fp(3)            ; |475| 
     2621                           .line   23
     2622 00000437 50600001         ldiu      1,r0                  ; |471| 
     2623 00000438 02400304         addi      *+fp(4),r0            ; |471| Unsigned
     2624 00000439 15400304         sti       r0,*+fp(4)            ; |471| 
     2625 0000043a 50400302         ldiu      *+fp(2),r0            ; |471| 
     2626 0000043b 02400301         addi      *+fp(1),r0            ; |471| Unsigned
     2627 0000043c 50410304         ldiu      *+fp(4),r1            ; |471| 
     2628 0000043d 23800100         cmpi3     r0,r1                 ; |471| 
     2629 0000043e 6a01ffe0         blo       L130                  ; |471| 
     2630                   ;*      Branch Occurs to L130           ; |471| 
     2631 0000043f          L131:        
     2632                           .line   30
     2633                   ;----------------------------------------------------------------------
     2634                   ; 478 | for (i=destination;i<(destination+n);i++)                              
     2635                   ;----------------------------------------------------------------------
     2636 0000043f 50400301         ldiu      *+fp(1),r0            ; |478| 
     2637 00000440 15400304         sti       r0,*+fp(4)            ; |478| 
     2638 00000441 50400302         ldiu      *+fp(2),r0            ; |478| 
     2639 00000442 50410304         ldiu      *+fp(4),r1            ; |478| 
     2640 00000443 02400301         addi      *+fp(1),r0            ; |478| Unsigned
     2641 00000444 23800100         cmpi3     r0,r1                 ; |478| 
     2642 00000445 6a040026         bhs       L135                  ; |478| 
     2643                   ;*      Branch Occurs to L135           ; |478| 
     2644 00000446          L132:        
     2645                           .line   32
     2646                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   50

     2647                   ; 480 | z = ((s[0]&0xFF)<<24) | ((s[1]&0xFF)<<16) | ((s[2]&0xFF)<<8) | (s[3]&0x
     2648                   ;     | FF);                                                                   
     2649                   ;----------------------------------------------------------------------
     2650 00000446 504a0307         ldiu      *+fp(7),ar2           ; |480| 
     2651 00000447 506100ff         ldiu      255,r1                ; |480| 
     2652 00000448 506200ff         ldiu      255,r2                ; |480| 
     2653 00000449 506000ff         ldiu      255,r0                ; |480| 
     2654 0000044a 506300ff         ldiu      255,r3                ; |480| 
     2655 0000044b 5008000a         ldiu      ar2,ar0               ; |480| 
     2656 0000044c 500c000a         ldiu      ar2,ar4               ; |480| 
     2657 0000044d 21a1c201         and3      r1,*ar2,r1            ; |480| 
     2658 0000044e 50090008         ldiu      ar0,ar1               ; |480| 
     2659 0000044f 02c20401         and       *+ar4(1),r2           ; |480| 
     2660 00000450 02c00002         and       *+ar0(2),r0           ; |480| 
     2661 00000451 03e10018         ash       24,r1                 ; |480| 
     2662 00000452 03e20010         ash       16,r2                 ; |480| 
     2663 00000453 02c30103         and       *+ar1(3),r3           ; |480| 
     2664 00000454 03e00008         ash       8,r0                  ; |480| 
     2665 00000455 25810201         or3       r1,r2,r1              ; |480| 
     2666 00000456 25800001         or3       r1,r0,r0              ; |480| 
     2667 00000457 25800300         or3       r0,r3,r0              ; |480| 
     2668 00000458 15400305         sti       r0,*+fp(5)            ; |480| 
     2669                           .line   33
     2670                   ;----------------------------------------------------------------------
     2671                   ; 481 | if (a[i] != z)                                                         
     2672                   ;----------------------------------------------------------------------
     2673 00000459 50510306         ldiu      *+fp(6),ir0           ; |481| 
     2674 0000045a 50480304         ldiu      *+fp(4),ar0           ; |481| 
     2675 0000045b 50404000         ldiu      *+ar0(ir0),r0         ; |481| 
     2676 0000045c 04c00305         cmpi      *+fp(5),r0            ; |481| 
     2677 0000045d 6a050004         beq       L134                  ; |481| 
     2678                   ;*      Branch Occurs to L134           ; |481| 
     2679                           .line   35
     2680                   ;----------------------------------------------------------------------
     2681                   ; 483 | MB_exception(mb_excp_memory_error);                                    
     2682                   ;----------------------------------------------------------------------
     2683 0000045e 08700000-        ldp       @CL70,DP
     2684 0000045f 506a0008         ldiu      8,ar2                 ; |483| 
     2685 00000460 50200045-        ldiu      @CL70,r0              ; |483| 
     2686 00000461 70000000         callu     r0                    ; far call to _MB_exception     ; |483| 
     2687                                                           ; |483| Far Call Occurs
     2688 00000462          L134:        
     2689                           .line   37
     2690                   ;----------------------------------------------------------------------
     2691                   ; 485 | s += 4;                                                                
     2692                   ;----------------------------------------------------------------------
     2693 00000462 50600004         ldiu      4,r0                  ; |485| 
     2694 00000463 02400307         addi      *+fp(7),r0            ; |485| Unsigned
     2695 00000464 15400307         sti       r0,*+fp(7)            ; |485| 
     2696                           .line   30
     2697 00000465 50600001         ldiu      1,r0                  ; |478| 
     2698 00000466 02400304         addi      *+fp(4),r0            ; |478| Unsigned
     2699 00000467 15400304         sti       r0,*+fp(4)            ; |478| 
     2700 00000468 50410302         ldiu      *+fp(2),r1            ; |478| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   51

     2701 00000469 02410301         addi      *+fp(1),r1            ; |478| Unsigned
     2702 0000046a 23800001         cmpi3     r1,r0                 ; |478| 
     2703 0000046b 6a01ffda         blo       L132                  ; |478| 
     2704                   ;*      Branch Occurs to L132           ; |478| 
     2705 0000046c          L135:        
     2706                           .line   40
     2707                   ;----------------------------------------------------------------------
     2708                   ; 488 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     2709                   ;     | e */                                                                   
     2710                   ;----------------------------------------------------------------------
     2711 0000046c 08700000-        ldp       @CL33,DP
     2712 0000046d 50280020-        ldiu      @CL33,ar0             ; |488| 
     2713 0000046e 08700000-        ldp       @CL60,DP
     2714 0000046f 5020003b-        ldiu      @CL60,r0              ; |488| 
     2715 00000470 08700000-        ldp       @CL19,DP
     2716 00000471 5042c000         ldiu      *ar0,r2               ; |488| 
     2717 00000472 502a0012-        ldiu      @CL19,ar2             ; |488| 
     2718 00000473 70000000         callu     r0                    ; far call to _Put      ; |488| 
     2719                                                           ; |488| Far Call Occurs
     2720                           .line   41
     2721                   ;----------------------------------------------------------------------
     2722                   ; 489 | Put(&PORT.TXbuf, PORT.func);
     2723                   ;     |  /* function */                                                        
     2724                   ;----------------------------------------------------------------------
     2725 00000474 08700000-        ldp       @CL26,DP
     2726 00000475 50280019-        ldiu      @CL26,ar0             ; |489| 
     2727 00000476 08700000-        ldp       @CL60,DP
     2728 00000477 5020003b-        ldiu      @CL60,r0              ; |489| 
     2729 00000478 08700000-        ldp       @CL19,DP
     2730 00000479 5042c000         ldiu      *ar0,r2               ; |489| 
     2731 0000047a 502a0012-        ldiu      @CL19,ar2             ; |489| 
     2732 0000047b 70000000         callu     r0                    ; far call to _Put      ; |489| 
     2733                                                           ; |489| Far Call Occurs
     2734                           .line   42
     2735                   ;----------------------------------------------------------------------
     2736                   ; 490 | Put(&PORT.TXbuf, destination>>24);                                     
     2737                   ;----------------------------------------------------------------------
     2738 0000047c 08700000-        ldp       @CL60,DP
     2739 0000047d 50420301         ldiu      *+fp(1),r2            ; |490| 
     2740 0000047e 5020003b-        ldiu      @CL60,r0              ; |490| 
     2741 0000047f 09e2ffe8         lsh       -24,r2                ; |490| 
     2742 00000480 08700000-        ldp       @CL19,DP
     2743 00000481 502a0012-        ldiu      @CL19,ar2             ; |490| 
     2744 00000482 70000000         callu     r0                    ; far call to _Put      ; |490| 
     2745                                                           ; |490| Far Call Occurs
     2746                           .line   43
     2747                   ;----------------------------------------------------------------------
     2748                   ; 491 | Put(&PORT.TXbuf, destination>>16);                                     
     2749                   ;----------------------------------------------------------------------
     2750 00000483 08700000-        ldp       @CL60,DP
     2751 00000484 5020003b-        ldiu      @CL60,r0              ; |491| 
     2752 00000485 50420301         ldiu      *+fp(1),r2            ; |491| 
     2753 00000486 09e2fff0         lsh       -16,r2                ; |491| 
     2754 00000487 08700000-        ldp       @CL19,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   52

     2755 00000488 502a0012-        ldiu      @CL19,ar2             ; |491| 
     2756 00000489 70000000         callu     r0                    ; far call to _Put      ; |491| 
     2757                                                           ; |491| Far Call Occurs
     2758                           .line   44
     2759                   ;----------------------------------------------------------------------
     2760                   ; 492 | Put(&PORT.TXbuf, destination>>8);                                      
     2761                   ;----------------------------------------------------------------------
     2762 0000048a 08700000-        ldp       @CL60,DP
     2763 0000048b 5020003b-        ldiu      @CL60,r0              ; |492| 
     2764 0000048c 50420301         ldiu      *+fp(1),r2            ; |492| 
     2765 0000048d 09e2fff8         lsh       -8,r2                 ; |492| 
     2766 0000048e 08700000-        ldp       @CL19,DP
     2767 0000048f 502a0012-        ldiu      @CL19,ar2             ; |492| 
     2768 00000490 70000000         callu     r0                    ; far call to _Put      ; |492| 
     2769                                                           ; |492| Far Call Occurs
     2770                           .line   45
     2771                   ;----------------------------------------------------------------------
     2772                   ; 493 | Put(&PORT.TXbuf, destination);                                         
     2773                   ;----------------------------------------------------------------------
     2774 00000491 08700000-        ldp       @CL60,DP
     2775 00000492 5020003b-        ldiu      @CL60,r0              ; |493| 
     2776 00000493 08700000-        ldp       @CL19,DP
     2777 00000494 502a0012-        ldiu      @CL19,ar2             ; |493| 
     2778 00000495 50420301         ldiu      *+fp(1),r2            ; |493| 
     2779 00000496 70000000         callu     r0                    ; far call to _Put      ; |493| 
     2780                                                           ; |493| Far Call Occurs
     2781                           .line   46
     2782                   ;----------------------------------------------------------------------
     2783                   ; 494 | Put(&PORT.TXbuf, source[0]);
     2784                   ;     |  /* CRC of prev pkt */                                                 
     2785                   ;----------------------------------------------------------------------
     2786 00000497 08700000-        ldp       @CL60,DP
     2787 00000498 5020003b-        ldiu      @CL60,r0              ; |494| 
     2788 00000499 50480303         ldiu      *+fp(3),ar0           ; |494| 
     2789 0000049a 08700000-        ldp       @CL19,DP
     2790 0000049b 5042c000         ldiu      *ar0,r2               ; |494| 
     2791 0000049c 502a0012-        ldiu      @CL19,ar2             ; |494| 
     2792 0000049d 70000000         callu     r0                    ; far call to _Put      ; |494| 
     2793                                                           ; |494| Far Call Occurs
     2794                           .line   47
     2795                   ;----------------------------------------------------------------------
     2796                   ; 495 | Put(&PORT.TXbuf, source[1]);
     2797                   ;     |  /* CRC of prev pkt */                                                 
     2798                   ;----------------------------------------------------------------------
     2799 0000049e 08700000-        ldp       @CL60,DP
     2800 0000049f 5020003b-        ldiu      @CL60,r0              ; |495| 
     2801 000004a0 08700000-        ldp       @CL19,DP
     2802 000004a1 50480303         ldiu      *+fp(3),ar0           ; |495| 
     2803 000004a2 502a0012-        ldiu      @CL19,ar2             ; |495| 
     2804 000004a3 50420001         ldiu      *+ar0(1),r2           ; |495| 
     2805 000004a4 70000000         callu     r0                    ; far call to _Put      ; |495| 
     2806                                                           ; |495| Far Call Occurs
     2807 000004a5          L136:        
     2808                           .line   48
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   53

     2809                                                           ; Begin Epilog Code
     2810 000004a5 50410b01         ldiu      *-fp(1),r1
     2811 000004a6 504bc300         ldiu      *fp,fp
     2812                                                           ; Restore SOE Registers
     2813 000004a7 0e2c0000         pop       ar4
     2814                                                           ; Unallocate the Frame
     2815 000004a8 18740009         subi      9,sp
     2816 000004a9 68000001         bu        r1
     2817                   ;*      Branch Occurs to r1 
     2818                           .endfunc        496,000001000h,7
     2819                   
     2820                   
     2821 000004aa                  .sect    ".text"
     2822                   
     2823                           .global _Process_Write
     2824                           .sym    _Process_Write,_Process_Write,32,2,0
     2825                           .func   498
     2826                   ;******************************************************************************
     2827                   ;* FUNCTION NAME: _Process_Write                                              *
     2828                   ;*                                                                            *
     2829                   ;*   Architecture       : TMS320C33                                           *
     2830                   ;*   Calling Convention : TI Standard Register Parameters                     *
     2831                   ;*   Function Uses Regs : r0,r1,r2,r3,ar0,ar1,ar2,ar4,ir0,ir1,st              *
     2832                   ;*   Regs Saved         : ar4                                                 *
     2833                   ;*   Stack Frame        : Full (w/ debug)                                     *
     2834                   ;*   Total Frame Size   : 2 Call + 0 Parm + 13 Auto + 1 SOE = 16 words        *
     2835                   ;******************************************************************************
     2836 000004aa          _Process_Write:
     2837                   ;* ar2   assigned to _destination
     2838                           .sym    _destination,10,14,17,32
     2839                   ;* r2    assigned to _n
     2840                           .sym    _n,2,14,17,32
     2841                   ;* r3    assigned to _source
     2842                           .sym    _source,3,30,17,32
     2843                           .sym    _destination,1,14,1,32
     2844                           .sym    _n,2,14,1,32
     2845                           .sym    _source,3,30,1,32
     2846                           .sym    _i,4,14,1,32
     2847                           .sym    _f,5,14,1,32
     2848                           .sym    _z,6,14,1,32
     2849                           .sym    _a,7,30,1,32
     2850                           .sym    _s,8,30,1,32
     2851                           .sym    _current_block_size,9,14,1,32
     2852                           .sym    _current_block_ptr,10,14,1,32
     2853                           .sym    _current_block_addr,11,30,1,32
     2854                           .sym    _nreg,12,4,1,32
     2855                           .sym    _nr,13,4,1,32
     2856                           .line   1
     2857                   ;----------------------------------------------------------------------
     2858                   ; 498 | void Process_Write(unsigned int destination, unsigned int n, unsigned i
     2859                   ;     | nt* source)                                                            
     2860                   ;----------------------------------------------------------------------
     2861 000004aa 0f2b0000         push      fp
     2862 000004ab 500b0014         ldiu      sp,fp
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   54

     2863 000004ac 0274000d         addi      13,sp
     2864 000004ad 0f2c0000         push      ar4
     2865                           .line   2
     2866                   ;----------------------------------------------------------------------
     2867                   ; 500 | unsigned int i;                                                        
     2868                   ; 501 | unsigned int f;                                                        
     2869                   ; 502 | unsigned int z;                                                        
     2870                   ; 503 | unsigned int* a;                                                       
     2871                   ; 504 | unsigned int* s;                                                       
     2872                   ; 505 | unsigned int current_block_size;                                       
     2873                   ; 506 | unsigned int current_block_ptr;                                        
     2874                   ; 507 | unsigned int* current_block_addr;                                      
     2875                   ; 508 | int     nreg;                                                          
     2876                   ; 509 | int     nr;                                                            
     2877                   ;----------------------------------------------------------------------
     2878 000004ae 15430303         sti       r3,*+fp(3)            ; |499| 
     2879 000004af 15420302         sti       r2,*+fp(2)            ; |499| 
     2880 000004b0 154a0301         sti       ar2,*+fp(1)           ; |499| 
     2881                           .line   14
     2882                   ;----------------------------------------------------------------------
     2883                   ; 511 | nreg = n;                                                              
     2884                   ;----------------------------------------------------------------------
     2885 000004b1 50400302         ldiu      *+fp(2),r0            ; |511| 
     2886 000004b2 1540030c         sti       r0,*+fp(12)           ; |511| 
     2887                           .line   16
     2888                   ;----------------------------------------------------------------------
     2889                   ; 513 | a = (unsigned int*) MEM_LOC;                                           
     2890                   ;----------------------------------------------------------------------
     2891 000004b3 08700000-        ldp       @CL71,DP
     2892 000004b4 50200046-        ldiu      @CL71,r0              ; |513| 
     2893 000004b5 15400307         sti       r0,*+fp(7)            ; |513| 
     2894                           .line   18
     2895                   ;----------------------------------------------------------------------
     2896                   ; 515 | f = FLASH_SIZE();                                                      
     2897                   ;----------------------------------------------------------------------
     2898 000004b6 08700000-        ldp       @CL64,DP
     2899 000004b7 5020003f-        ldiu      @CL64,r0              ; |515| 
     2900 000004b8 70000000         callu     r0                    ; far call to _FLASH_SIZE       ; |515| 
     2901                                                           ; |515| Far Call Occurs
     2902 000004b9 15400305         sti       r0,*+fp(5)            ; |515| 
     2903                           .line   19
     2904                   ;----------------------------------------------------------------------
     2905                   ; 516 | if ((destination < (unsigned int)FLASH_LOC) || ((destination+n)>=(f+(un
     2906                   ;     | signed int)FLASH_LOC)))                                                
     2907                   ;----------------------------------------------------------------------
     2908 000004ba 08700000-        ldp       @CL65,DP
     2909 000004bb 50400301         ldiu      *+fp(1),r0            ; |516| 
     2910 000004bc 04a00040-        cmpi      @CL65,r0              ; |516| 
     2911 000004bd 6a010007         blo       L140                  ; |516| 
     2912                   ;*      Branch Occurs to L140           ; |516| 
     2913 000004be 08700000-        ldp       @CL65,DP
     2914 000004bf 50410302         ldiu      *+fp(2),r1            ; |516| 
     2915 000004c0 50200040-        ldiu      @CL65,r0              ; |516| 
     2916 000004c1 02410301         addi      *+fp(1),r1            ; |516| Unsigned
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   55

     2917 000004c2 02400305         addi      *+fp(5),r0            ; |516| Unsigned
     2918 000004c3 23800100         cmpi3     r0,r1                 ; |516| 
     2919 000004c4 6a010005         blo       L141                  ; |516| 
     2920                   ;*      Branch Occurs to L141           ; |516| 
     2921 000004c5          L140:        
     2922                           .line   21
     2923                   ;----------------------------------------------------------------------
     2924                   ; 518 | MB_exception(mb_excp_illegal_addr);                                    
     2925                   ;----------------------------------------------------------------------
     2926 000004c5 08700000-        ldp       @CL70,DP
     2927 000004c6 506a0002         ldiu      2,ar2                 ; |518| 
     2928 000004c7 50200045-        ldiu      @CL70,r0              ; |518| 
     2929 000004c8 70000000         callu     r0                    ; far call to _MB_exception     ; |518| 
     2930                                                           ; |518| Far Call Occurs
     2931                           .line   22
     2932                   ;----------------------------------------------------------------------
     2933                   ; 519 | return;                                                                
     2934                   ;----------------------------------------------------------------------
     2935 000004c9 6a000109         bu        L167                  ; |519| 
     2936                   ;*      Branch Occurs to L167           ; |519| 
     2937 000004ca          L141:        
     2938                           .line   25
     2939                   ;----------------------------------------------------------------------
     2940                   ; 522 | if (n>0x8000)                                                          
     2941                   ;----------------------------------------------------------------------
     2942 000004ca 08700000-        ldp       @CL72,DP
     2943 000004cb 50400302         ldiu      *+fp(2),r0            ; |522| 
     2944 000004cc 04a00047-        cmpi      @CL72,r0              ; |522| 
     2945 000004cd 6a020005         bls       L143                  ; |522| 
     2946                   ;*      Branch Occurs to L143           ; |522| 
     2947                           .line   27
     2948                   ;----------------------------------------------------------------------
     2949                   ; 524 | MB_exception(mb_excp_illegal_data);                                    
     2950                   ;----------------------------------------------------------------------
     2951 000004ce 08700000-        ldp       @CL70,DP
     2952 000004cf 506a0003         ldiu      3,ar2                 ; |524| 
     2953 000004d0 50200045-        ldiu      @CL70,r0              ; |524| 
     2954 000004d1 70000000         callu     r0                    ; far call to _MB_exception     ; |524| 
     2955                                                           ; |524| Far Call Occurs
     2956                           .line   28
     2957                   ;----------------------------------------------------------------------
     2958                   ; 525 | return;                                                                
     2959                   ;----------------------------------------------------------------------
     2960 000004d2 6a000100         bu        L167                  ; |525| 
     2961                   ;*      Branch Occurs to L167           ; |525| 
     2962 000004d3          L143:        
     2963                           .line   31
     2964                   ;----------------------------------------------------------------------
     2965                   ; 528 | current_block_addr = (unsigned int*) destination;                      
     2966                   ;----------------------------------------------------------------------
     2967 000004d3 50400301         ldiu      *+fp(1),r0            ; |528| 
     2968 000004d4 1540030b         sti       r0,*+fp(11)           ; |528| 
     2969                           .line   33
     2970                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   56

     2971                   ; 530 | while(nreg>0)                                                          
     2972                   ;----------------------------------------------------------------------
     2973 000004d5 5040030c         ldiu      *+fp(12),r0           ; |530| 
     2974 000004d6 04e00000         cmpi      0,r0                  ; |530| 
     2975 000004d7 6a0800c2         ble       L166                  ; |530| 
     2976                   ;*      Branch Occurs to L166           ; |530| 
     2977 000004d8          L144:        
     2978                           .line   35
     2979                   ;----------------------------------------------------------------------
     2980                   ; 532 | if ( current_block_addr < (FLASH_LOC+FLASH_SECTOR_SIZE) )              
     2981                   ;----------------------------------------------------------------------
     2982 000004d8 08700000-        ldp       @CL73,DP
     2983 000004d9 5040030b         ldiu      *+fp(11),r0           ; |532| 
     2984 000004da 04a00048-        cmpi      @CL73,r0              ; |532| 
     2985 000004db 6a04000a         bhs       L146                  ; |532| 
     2986                   ;*      Branch Occurs to L146           ; |532| 
     2987                           .line   37
     2988                   ;----------------------------------------------------------------------
     2989                   ; 534 | current_block_size = FLASH_CFGB_SIZE;                                  
     2990                   ;----------------------------------------------------------------------
     2991 000004dc 50601000         ldiu      4096,r0               ; |534| 
     2992 000004dd 15400309         sti       r0,*+fp(9)            ; |534| 
     2993                           .line   38
     2994                   ;----------------------------------------------------------------------
     2995                   ; 535 | current_block_ptr  = (unsigned int)current_block_addr & 0xFFF;         
     2996                   ;----------------------------------------------------------------------
     2997 000004de 50600fff         ldiu      4095,r0               ; |535| 
     2998 000004df 02c0030b         and       *+fp(11),r0           ; |535| 
     2999 000004e0 1540030a         sti       r0,*+fp(10)           ; |535| 
     3000                           .line   39
     3001                   ;----------------------------------------------------------------------
     3002                   ; 536 | current_block_addr = (unsigned int*)((unsigned int)current_block_addr &
     3003                   ;     |  0xFFF000);                                                            
     3004                   ; 538 | else                                                                   
     3005                   ;----------------------------------------------------------------------
     3006 000004e1 08700000-        ldp       @CL74,DP
     3007 000004e2 50200049-        ldiu      @CL74,r0              ; |536| 
     3008 000004e3 02c0030b         and       *+fp(11),r0           ; |536| 
     3009 000004e4 1540030b         sti       r0,*+fp(11)           ; |536| 
     3010 000004e5 6a00000a         bu        L147                  ; |497| 
     3011                   ;*      Branch Occurs to L147           ; |497| 
     3012 000004e6          L146:        
     3013                           .line   43
     3014                   ;----------------------------------------------------------------------
     3015                   ; 540 | current_block_size = FLASH_SECTOR_SIZE;                                
     3016                   ;----------------------------------------------------------------------
     3017 000004e6 08700000-        ldp       @CL72,DP
     3018 000004e7 50200047-        ldiu      @CL72,r0              ; |540| 
     3019 000004e8 15400309         sti       r0,*+fp(9)            ; |540| 
     3020                           .line   44
     3021                   ;----------------------------------------------------------------------
     3022                   ; 541 | current_block_ptr  = (unsigned int)current_block_addr & 0x7FFF;        
     3023                   ;----------------------------------------------------------------------
     3024 000004e9 50607fff         ldiu      32767,r0              ; |541| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   57

     3025 000004ea 02c0030b         and       *+fp(11),r0           ; |541| 
     3026 000004eb 1540030a         sti       r0,*+fp(10)           ; |541| 
     3027                           .line   45
     3028                   ;----------------------------------------------------------------------
     3029                   ; 542 | current_block_addr = (unsigned int*)((unsigned int)current_block_addr &
     3030                   ;     |  0xFF8000);                                                            
     3031                   ;----------------------------------------------------------------------
     3032 000004ec 08700000-        ldp       @CL75,DP
     3033 000004ed 5020004a-        ldiu      @CL75,r0              ; |542| 
     3034 000004ee 02c0030b         and       *+fp(11),r0           ; |542| 
     3035 000004ef 1540030b         sti       r0,*+fp(11)           ; |542| 
     3036 000004f0          L147:        
     3037                           .line   48
     3038                   ;----------------------------------------------------------------------
     3039                   ; 545 | for (i=0;i<current_block_size;i++)                                     
     3040                   ;----------------------------------------------------------------------
     3041 000004f0 50600000         ldiu      0,r0                  ; |545| 
     3042 000004f1 15400304         sti       r0,*+fp(4)            ; |545| 
     3043 000004f2 04c00309         cmpi      *+fp(9),r0            ; |545| 
     3044 000004f3 6a04000b         bhs       L149                  ; |545| 
     3045                   ;*      Branch Occurs to L149           ; |545| 
     3046 000004f4          L148:        
     3047                           .line   50
     3048                   ;----------------------------------------------------------------------
     3049                   ; 547 | a[i] = current_block_addr[i];                                          
     3050                   ;----------------------------------------------------------------------
     3051 000004f4 50480304         ldiu      *+fp(4),ar0           ; |547| 
     3052 000004f5 5051030b         ldiu      *+fp(11),ir0          ; |547| 
     3053 000004f6 50520307         ldiu      *+fp(7),ir1           ; |547| 
     3054 000004f7 50090008         ldiu      ar0,ar1               ; |547| 
     3055 000004f8 50404000         ldiu      *+ar0(ir0),r0         ; |547| 
     3056 000004f9 15408100         sti       r0,*+ar1(ir1)         ; |547| 
     3057                           .line   48
     3058 000004fa 50600001         ldiu      1,r0                  ; |545| 
     3059 000004fb 02400304         addi      *+fp(4),r0            ; |545| Unsigned
     3060 000004fc 15400304         sti       r0,*+fp(4)            ; |545| 
     3061 000004fd 04c00309         cmpi      *+fp(9),r0            ; |545| 
     3062 000004fe 6a01fff5         blo       L148                  ; |545| 
     3063                   ;*      Branch Occurs to L148           ; |545| 
     3064 000004ff          L149:        
     3065                           .line   53
     3066                   ;----------------------------------------------------------------------
     3067                   ; 550 | s = source;                                                            
     3068                   ;----------------------------------------------------------------------
     3069 000004ff 50400303         ldiu      *+fp(3),r0            ; |550| 
     3070 00000500 15400308         sti       r0,*+fp(8)            ; |550| 
     3071                           .line   54
     3072                   ;----------------------------------------------------------------------
     3073                   ; 551 | nr = nreg;                                                             
     3074                   ;----------------------------------------------------------------------
     3075 00000501 5040030c         ldiu      *+fp(12),r0           ; |551| 
     3076 00000502 1540030d         sti       r0,*+fp(13)           ; |551| 
     3077                           .line   55
     3078                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   58

     3079                   ; 552 | for (i=current_block_ptr;i<current_block_size;i++)                     
     3080                   ;----------------------------------------------------------------------
     3081 00000503 5040030a         ldiu      *+fp(10),r0           ; |552| 
     3082 00000504 15400304         sti       r0,*+fp(4)            ; |552| 
     3083 00000505 04c00309         cmpi      *+fp(9),r0            ; |552| 
     3084 00000506 6a040023         bhs       L152                  ; |552| 
     3085                   ;*      Branch Occurs to L152           ; |552| 
     3086 00000507          L150:        
     3087                           .line   57
     3088                   ;----------------------------------------------------------------------
     3089                   ; 554 | z = ((source[0]&0xFF)<<24) | ((source[1]&0xFF)<<16) | ((source[2]&0xFF)
     3090                   ;     | <<8) | (source[3]&0xFF);                                               
     3091                   ;----------------------------------------------------------------------
     3092 00000507 504c0303         ldiu      *+fp(3),ar4           ; |554| 
     3093 00000508 506300ff         ldiu      255,r3                ; |554| 
     3094 00000509 506200ff         ldiu      255,r2                ; |554| 
     3095 0000050a 5008000c         ldiu      ar4,ar0               ; |554| 
     3096 0000050b 506100ff         ldiu      255,r1                ; |554| 
     3097 0000050c 506000ff         ldiu      255,r0                ; |554| 
     3098 0000050d 500a0008         ldiu      ar0,ar2               ; |554| 
     3099 0000050e 21a3c403         and3      r3,*ar4,r3            ; |554| 
     3100 0000050f 50090008         ldiu      ar0,ar1               ; |554| 
     3101 00000510 02c20001         and       *+ar0(1),r2           ; |554| 
     3102 00000511 02c10202         and       *+ar2(2),r1           ; |554| 
     3103 00000512 03e30018         ash       24,r3                 ; |554| 
     3104 00000513 03e20010         ash       16,r2                 ; |554| 
     3105 00000514 02c00103         and       *+ar1(3),r0           ; |554| 
     3106 00000515 03e10008         ash       8,r1                  ; |554| 
     3107 00000516 25820203         or3       r3,r2,r2              ; |554| 
     3108 00000517 25810102         or3       r2,r1,r1              ; |554| 
     3109 00000518 25800001         or3       r1,r0,r0              ; |554| 
     3110 00000519 15400306         sti       r0,*+fp(6)            ; |554| 
     3111                           .line   58
     3112                   ;----------------------------------------------------------------------
     3113                   ; 555 | a[i] = z;                                                              
     3114                   ;----------------------------------------------------------------------
     3115 0000051a 50510307         ldiu      *+fp(7),ir0           ; |555| 
     3116 0000051b 50480304         ldiu      *+fp(4),ar0           ; |555| 
     3117 0000051c 15404000         sti       r0,*+ar0(ir0)         ; |555| 
     3118                           .line   59
     3119                   ;----------------------------------------------------------------------
     3120                   ; 556 | source += 4;                                                           
     3121                   ;----------------------------------------------------------------------
     3122 0000051d 50600004         ldiu      4,r0                  ; |556| 
     3123 0000051e 02400303         addi      *+fp(3),r0            ; |556| Unsigned
     3124 0000051f 15400303         sti       r0,*+fp(3)            ; |556| 
     3125                           .line   60
     3126                   ;----------------------------------------------------------------------
     3127                   ; 557 | nreg--;                                                                
     3128                   ;----------------------------------------------------------------------
     3129 00000520 50600001         ldiu      1,r0                  ; |557| 
     3130 00000521 19c0030c         subri     *+fp(12),r0           ; |557| 
     3131 00000522 1540030c         sti       r0,*+fp(12)           ; |557| 
     3132                           .line   61
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   59

     3133                   ;----------------------------------------------------------------------
     3134                   ; 558 | if (nreg<=0)                                                           
     3135                   ;----------------------------------------------------------------------
     3136 00000523 04e00000         cmpi      0,r0                  ; |558| 
     3137 00000524 6a080005         ble       L152                  ; |558| 
     3138                   ;*      Branch Occurs to L152           ; |558| 
     3139                           .line   63
     3140                   ;----------------------------------------------------------------------
     3141                   ; 560 | break;                                                                 
     3142                   ;----------------------------------------------------------------------
     3143                           .line   55
     3144 00000525 50600001         ldiu      1,r0                  ; |552| 
     3145 00000526 02400304         addi      *+fp(4),r0            ; |552| Unsigned
     3146 00000527 15400304         sti       r0,*+fp(4)            ; |552| 
     3147 00000528 04c00309         cmpi      *+fp(9),r0            ; |552| 
     3148 00000529 6a01ffdd         blo       L150                  ; |552| 
     3149                   ;*      Branch Occurs to L150           ; |552| 
     3150 0000052a          L152:        
     3151                           .line   67
     3152                   ;----------------------------------------------------------------------
     3153                   ; 564 | for (i=current_block_ptr;i<current_block_size;i++)                     
     3154                   ;----------------------------------------------------------------------
     3155 0000052a 5040030a         ldiu      *+fp(10),r0           ; |564| 
     3156 0000052b 15400304         sti       r0,*+fp(4)            ; |564| 
     3157 0000052c 04c00309         cmpi      *+fp(9),r0            ; |564| 
     3158 0000052d 6a04002a         bhs       L157                  ; |564| 
     3159                   ;*      Branch Occurs to L157           ; |564| 
     3160 0000052e          L153:        
     3161                           .line   69
     3162                   ;----------------------------------------------------------------------
     3163                   ; 566 | z = ((s[0]&0xFF)<<24) | ((s[1]&0xFF)<<16) | ((s[2]&0xFF)<<8) | (s[3]&0x
     3164                   ;     | FF);                                                                   
     3165                   ;----------------------------------------------------------------------
     3166 0000052e 50480308         ldiu      *+fp(8),ar0           ; |566| 
     3167 0000052f 506300ff         ldiu      255,r3                ; |566| 
     3168 00000530 506100ff         ldiu      255,r1                ; |566| 
     3169 00000531 506000ff         ldiu      255,r0                ; |566| 
     3170 00000532 506200ff         ldiu      255,r2                ; |566| 
     3171 00000533 500c0008         ldiu      ar0,ar4               ; |566| 
     3172 00000534 50090008         ldiu      ar0,ar1               ; |566| 
     3173 00000535 500a0008         ldiu      ar0,ar2               ; |566| 
     3174 00000536 21a3c003         and3      r3,*ar0,r3            ; |566| 
     3175 00000537 02c10401         and       *+ar4(1),r1           ; |566| 
     3176 00000538 02c00102         and       *+ar1(2),r0           ; |566| 
     3177 00000539 02c20203         and       *+ar2(3),r2           ; |566| 
     3178 0000053a 03e30018         ash       24,r3                 ; |566| 
     3179 0000053b 03e10010         ash       16,r1                 ; |566| 
     3180 0000053c 03e00008         ash       8,r0                  ; |566| 
     3181 0000053d 25810103         or3       r3,r1,r1              ; |566| 
     3182 0000053e 25800001         or3       r1,r0,r0              ; |566| 
     3183 0000053f 25800200         or3       r0,r2,r0              ; |566| 
     3184 00000540 15400306         sti       r0,*+fp(6)            ; |566| 
     3185                           .line   70
     3186                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   60

     3187                   ; 567 | if (a[i] != z)                                                         
     3188                   ;----------------------------------------------------------------------
     3189 00000541 50510307         ldiu      *+fp(7),ir0           ; |567| 
     3190 00000542 50480304         ldiu      *+fp(4),ar0           ; |567| 
     3191 00000543 50404000         ldiu      *+ar0(ir0),r0         ; |567| 
     3192 00000544 04c00306         cmpi      *+fp(6),r0            ; |567| 
     3193 00000545 6a050005         beq       L155                  ; |567| 
     3194                   ;*      Branch Occurs to L155           ; |567| 
     3195                           .line   72
     3196                   ;----------------------------------------------------------------------
     3197                   ; 569 | MB_exception(mb_excp_memory_error);                                    
     3198                   ;----------------------------------------------------------------------
     3199 00000546 08700000-        ldp       @CL70,DP
     3200 00000547 506a0008         ldiu      8,ar2                 ; |569| 
     3201 00000548 50200045-        ldiu      @CL70,r0              ; |569| 
     3202 00000549 70000000         callu     r0                    ; far call to _MB_exception     ; |569| 
     3203                                                           ; |569| Far Call Occurs
     3204                           .line   73
     3205                   ;----------------------------------------------------------------------
     3206                   ; 570 | return;                                                                
     3207                   ;----------------------------------------------------------------------
     3208 0000054a 6a000088         bu        L167                  ; |570| 
     3209                   ;*      Branch Occurs to L167           ; |570| 
     3210 0000054b          L155:        
     3211                           .line   75
     3212                   ;----------------------------------------------------------------------
     3213                   ; 572 | s += 4;                                                                
     3214                   ;----------------------------------------------------------------------
     3215 0000054b 50600004         ldiu      4,r0                  ; |572| 
     3216 0000054c 02400308         addi      *+fp(8),r0            ; |572| Unsigned
     3217 0000054d 15400308         sti       r0,*+fp(8)            ; |572| 
     3218                           .line   76
     3219                   ;----------------------------------------------------------------------
     3220                   ; 573 | nr--;                                                                  
     3221                   ;----------------------------------------------------------------------
     3222 0000054e 50600001         ldiu      1,r0                  ; |573| 
     3223 0000054f 19c0030d         subri     *+fp(13),r0           ; |573| 
     3224 00000550 1540030d         sti       r0,*+fp(13)           ; |573| 
     3225                           .line   77
     3226                   ;----------------------------------------------------------------------
     3227                   ; 574 | if (nr<=0)                                                             
     3228                   ;----------------------------------------------------------------------
     3229 00000551 04e00000         cmpi      0,r0                  ; |574| 
     3230 00000552 6a080005         ble       L157                  ; |574| 
     3231                   ;*      Branch Occurs to L157           ; |574| 
     3232                           .line   79
     3233                   ;----------------------------------------------------------------------
     3234                   ; 576 | break;                                                                 
     3235                   ;----------------------------------------------------------------------
     3236                           .line   67
     3237 00000553 50600001         ldiu      1,r0                  ; |564| 
     3238 00000554 02400304         addi      *+fp(4),r0            ; |564| Unsigned
     3239 00000555 15400304         sti       r0,*+fp(4)            ; |564| 
     3240 00000556 04c00309         cmpi      *+fp(9),r0            ; |564| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   61

     3241 00000557 6a01ffd6         blo       L153                  ; |564| 
     3242                   ;*      Branch Occurs to L153           ; |564| 
     3243 00000558          L157:        
     3244                           .line   83
     3245                   ;----------------------------------------------------------------------
     3246                   ; 580 | LEDR_ON; LEDG_OFF;                                                     
     3247                   ;----------------------------------------------------------------------
     3248 00000558 0f350000         push    ST                      
     3249 00000559 03752000         andn    2000h, ST       
     3250 0000055a 08700000-        ldp       @CL76,DP
     3251 0000055b 5028004b-        ldiu      @CL76,ar0             ; |580| 
     3252 0000055c 5060007f         ldiu      127,r0                ; |580| 
     3253 0000055d 21a0c000         and3      r0,*ar0,r0            ; |580| 
     3254 0000055e 1540c000         sti       r0,*ar0               ; |580| 
     3255 0000055f 0e350000         pop             ST                      
     3256 00000560 0f350000         push    ST                      
     3257 00000561 03752000         andn    2000h, ST       
     3258 00000562 50600040         ldiu      64,r0                 ; |580| 
     3259 00000563 25a0c000         or3       r0,*ar0,r0            ; |580| 
     3260 00000564 1540c000         sti       r0,*ar0               ; |580| 
     3261 00000565 0e350000         pop             ST                      
     3262                           .line   84
     3263                   ;----------------------------------------------------------------------
     3264                   ; 581 | i = FLASH_ERASE_BLK(current_block_addr);                               
     3265                   ;----------------------------------------------------------------------
     3266 00000566 08700000-        ldp       @CL77,DP
     3267 00000567 504a030b         ldiu      *+fp(11),ar2          ; |581| 
     3268 00000568 5020004c-        ldiu      @CL77,r0              ; |581| 
     3269 00000569 70000000         callu     r0                    ; far call to _FLASH_ERASE_BLK  ; |581| 
     3270                                                           ; |581| Far Call Occurs
     3271 0000056a 15400304         sti       r0,*+fp(4)            ; |581| 
     3272                           .line   85
     3273                   ;----------------------------------------------------------------------
     3274                   ; 582 | if (i)                                                                 
     3275                   ;----------------------------------------------------------------------
     3276 0000056b 04e00000         cmpi      0,r0                  ; |582| 
     3277 0000056c 6a050005         beq       L159                  ; |582| 
     3278                   ;*      Branch Occurs to L159           ; |582| 
     3279                           .line   87
     3280                   ;----------------------------------------------------------------------
     3281                   ; 584 | MB_exception(mb_excp_memory_error);                                    
     3282                   ;----------------------------------------------------------------------
     3283 0000056d 08700000-        ldp       @CL70,DP
     3284 0000056e 506a0008         ldiu      8,ar2                 ; |584| 
     3285 0000056f 50200045-        ldiu      @CL70,r0              ; |584| 
     3286 00000570 70000000         callu     r0                    ; far call to _MB_exception     ; |584| 
     3287                                                           ; |584| Far Call Occurs
     3288                           .line   88
     3289                   ;----------------------------------------------------------------------
     3290                   ; 585 | return;                                                                
     3291                   ;----------------------------------------------------------------------
     3292 00000571 6a000061         bu        L167                  ; |585| 
     3293                   ;*      Branch Occurs to L167           ; |585| 
     3294 00000572          L159:        
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   62

     3295                           .line   91
     3296                   ;----------------------------------------------------------------------
     3297                   ; 588 | i = FLASH_WRITE_BLK(current_block_addr, a, current_block_size);        
     3298                   ;----------------------------------------------------------------------
     3299 00000572 08700000-        ldp       @CL78,DP
     3300 00000573 504a030b         ldiu      *+fp(11),ar2          ; |588| 
     3301 00000574 50420307         ldiu      *+fp(7),r2            ; |588| 
     3302 00000575 50430309         ldiu      *+fp(9),r3            ; |588| 
     3303 00000576 5020004d-        ldiu      @CL78,r0              ; |588| 
     3304 00000577 70000000         callu     r0                    ; far call to _FLASH_WRITE_BLK  ; |588| 
     3305                                                           ; |588| Far Call Occurs
     3306 00000578 15400304         sti       r0,*+fp(4)            ; |588| 
     3307                           .line   92
     3308                   ;----------------------------------------------------------------------
     3309                   ; 589 | if (i)                                                                 
     3310                   ;----------------------------------------------------------------------
     3311 00000579 04e00000         cmpi      0,r0                  ; |589| 
     3312 0000057a 6a050005         beq       L161                  ; |589| 
     3313                   ;*      Branch Occurs to L161           ; |589| 
     3314                           .line   94
     3315                   ;----------------------------------------------------------------------
     3316                   ; 591 | MB_exception(mb_excp_memory_error);                                    
     3317                   ;----------------------------------------------------------------------
     3318 0000057b 08700000-        ldp       @CL70,DP
     3319 0000057c 506a0008         ldiu      8,ar2                 ; |591| 
     3320 0000057d 50200045-        ldiu      @CL70,r0              ; |591| 
     3321 0000057e 70000000         callu     r0                    ; far call to _MB_exception     ; |591| 
     3322                                                           ; |591| Far Call Occurs
     3323                           .line   95
     3324                   ;----------------------------------------------------------------------
     3325                   ; 592 | return;                                                                
     3326                   ;----------------------------------------------------------------------
     3327 0000057f 6a000053         bu        L167                  ; |592| 
     3328                   ;*      Branch Occurs to L167           ; |592| 
     3329 00000580          L161:        
     3330                           .line   98
     3331                   ;----------------------------------------------------------------------
     3332                   ; 595 | for (i=0;i<current_block_size;i++)                                     
     3333                   ;----------------------------------------------------------------------
     3334 00000580 50600000         ldiu      0,r0                  ; |595| 
     3335 00000581 15400304         sti       r0,*+fp(4)            ; |595| 
     3336 00000582 04c00309         cmpi      *+fp(9),r0            ; |595| 
     3337 00000583 6a040010         bhs       L165                  ; |595| 
     3338                   ;*      Branch Occurs to L165           ; |595| 
     3339 00000584          L162:        
     3340                           .line   100
     3341                   ;----------------------------------------------------------------------
     3342                   ; 597 | if (current_block_addr[i] != a[i])                                     
     3343                   ;----------------------------------------------------------------------
     3344 00000584 50490304         ldiu      *+fp(4),ar1           ; |597| 
     3345 00000585 50510307         ldiu      *+fp(7),ir0           ; |597| 
     3346 00000586 5052030b         ldiu      *+fp(11),ir1          ; |597| 
     3347 00000587 50080009         ldiu      ar1,ar0               ; |597| 
     3348 00000588 23e08041         cmpi3     *+ar1(ir0),*+ar0(ir1) ; |597| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   63

     3349 00000589 6a050005         beq       L164                  ; |597| 
     3350                   ;*      Branch Occurs to L164           ; |597| 
     3351                           .line   102
     3352                   ;----------------------------------------------------------------------
     3353                   ; 599 | MB_exception(mb_excp_memory_error);                                    
     3354                   ;----------------------------------------------------------------------
     3355 0000058a 08700000-        ldp       @CL70,DP
     3356 0000058b 506a0008         ldiu      8,ar2                 ; |599| 
     3357 0000058c 50200045-        ldiu      @CL70,r0              ; |599| 
     3358 0000058d 70000000         callu     r0                    ; far call to _MB_exception     ; |599| 
     3359                                                           ; |599| Far Call Occurs
     3360                           .line   103
     3361                   ;----------------------------------------------------------------------
     3362                   ; 600 | return;                                                                
     3363                   ;----------------------------------------------------------------------
     3364 0000058e 6a000044         bu        L167                  ; |600| 
     3365                   ;*      Branch Occurs to L167           ; |600| 
     3366 0000058f          L164:        
     3367                           .line   98
     3368 0000058f 50600001         ldiu      1,r0                  ; |595| 
     3369 00000590 02400304         addi      *+fp(4),r0            ; |595| Unsigned
     3370 00000591 15400304         sti       r0,*+fp(4)            ; |595| 
     3371 00000592 04c00309         cmpi      *+fp(9),r0            ; |595| 
     3372 00000593 6a01fff0         blo       L162                  ; |595| 
     3373                   ;*      Branch Occurs to L162           ; |595| 
     3374 00000594          L165:        
     3375                           .line   107
     3376                   ;----------------------------------------------------------------------
     3377                   ; 604 | current_block_addr += current_block_size;                              
     3378                   ;----------------------------------------------------------------------
     3379 00000594 50400309         ldiu      *+fp(9),r0            ; |604| 
     3380 00000595 0240030b         addi      *+fp(11),r0           ; |604| Unsigned
     3381 00000596 1540030b         sti       r0,*+fp(11)           ; |604| 
     3382                           .line   33
     3383 00000597 5040030c         ldiu      *+fp(12),r0           ; |530| 
     3384 00000598 04e00000         cmpi      0,r0                  ; |530| 
     3385 00000599 6a09ff3e         bgt       L144                  ; |530| 
     3386                   ;*      Branch Occurs to L144           ; |530| 
     3387 0000059a          L166:        
     3388                           .line   110
     3389                   ;----------------------------------------------------------------------
     3390                   ; 607 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     3391                   ;     | e */                                                                   
     3392                   ;----------------------------------------------------------------------
     3393 0000059a 08700000-        ldp       @CL33,DP
     3394 0000059b 50280020-        ldiu      @CL33,ar0             ; |607| 
     3395 0000059c 08700000-        ldp       @CL60,DP
     3396 0000059d 5020003b-        ldiu      @CL60,r0              ; |607| 
     3397 0000059e 08700000-        ldp       @CL19,DP
     3398 0000059f 5042c000         ldiu      *ar0,r2               ; |607| 
     3399 000005a0 502a0012-        ldiu      @CL19,ar2             ; |607| 
     3400 000005a1 70000000         callu     r0                    ; far call to _Put      ; |607| 
     3401                                                           ; |607| Far Call Occurs
     3402                           .line   111
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   64

     3403                   ;----------------------------------------------------------------------
     3404                   ; 608 | Put(&PORT.TXbuf, PORT.func);
     3405                   ;     |  /* function */                                                        
     3406                   ;----------------------------------------------------------------------
     3407 000005a2 08700000-        ldp       @CL26,DP
     3408 000005a3 50280019-        ldiu      @CL26,ar0             ; |608| 
     3409 000005a4 08700000-        ldp       @CL60,DP
     3410 000005a5 5020003b-        ldiu      @CL60,r0              ; |608| 
     3411 000005a6 08700000-        ldp       @CL19,DP
     3412 000005a7 5042c000         ldiu      *ar0,r2               ; |608| 
     3413 000005a8 502a0012-        ldiu      @CL19,ar2             ; |608| 
     3414 000005a9 70000000         callu     r0                    ; far call to _Put      ; |608| 
     3415                                                           ; |608| Far Call Occurs
     3416                           .line   112
     3417                   ;----------------------------------------------------------------------
     3418                   ; 609 | Put(&PORT.TXbuf, destination>>24);                                     
     3419                   ;----------------------------------------------------------------------
     3420 000005aa 08700000-        ldp       @CL60,DP
     3421 000005ab 50420301         ldiu      *+fp(1),r2            ; |609| 
     3422 000005ac 5020003b-        ldiu      @CL60,r0              ; |609| 
     3423 000005ad 09e2ffe8         lsh       -24,r2                ; |609| 
     3424 000005ae 08700000-        ldp       @CL19,DP
     3425 000005af 502a0012-        ldiu      @CL19,ar2             ; |609| 
     3426 000005b0 70000000         callu     r0                    ; far call to _Put      ; |609| 
     3427                                                           ; |609| Far Call Occurs
     3428                           .line   113
     3429                   ;----------------------------------------------------------------------
     3430                   ; 610 | Put(&PORT.TXbuf, destination>>16);                                     
     3431                   ;----------------------------------------------------------------------
     3432 000005b1 08700000-        ldp       @CL60,DP
     3433 000005b2 5020003b-        ldiu      @CL60,r0              ; |610| 
     3434 000005b3 50420301         ldiu      *+fp(1),r2            ; |610| 
     3435 000005b4 09e2fff0         lsh       -16,r2                ; |610| 
     3436 000005b5 08700000-        ldp       @CL19,DP
     3437 000005b6 502a0012-        ldiu      @CL19,ar2             ; |610| 
     3438 000005b7 70000000         callu     r0                    ; far call to _Put      ; |610| 
     3439                                                           ; |610| Far Call Occurs
     3440                           .line   114
     3441                   ;----------------------------------------------------------------------
     3442                   ; 611 | Put(&PORT.TXbuf, destination>>8);                                      
     3443                   ;----------------------------------------------------------------------
     3444 000005b8 08700000-        ldp       @CL60,DP
     3445 000005b9 5020003b-        ldiu      @CL60,r0              ; |611| 
     3446 000005ba 50420301         ldiu      *+fp(1),r2            ; |611| 
     3447 000005bb 09e2fff8         lsh       -8,r2                 ; |611| 
     3448 000005bc 08700000-        ldp       @CL19,DP
     3449 000005bd 502a0012-        ldiu      @CL19,ar2             ; |611| 
     3450 000005be 70000000         callu     r0                    ; far call to _Put      ; |611| 
     3451                                                           ; |611| Far Call Occurs
     3452                           .line   115
     3453                   ;----------------------------------------------------------------------
     3454                   ; 612 | Put(&PORT.TXbuf, destination);                                         
     3455                   ;----------------------------------------------------------------------
     3456 000005bf 08700000-        ldp       @CL60,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   65

     3457 000005c0 5020003b-        ldiu      @CL60,r0              ; |612| 
     3458 000005c1 08700000-        ldp       @CL19,DP
     3459 000005c2 502a0012-        ldiu      @CL19,ar2             ; |612| 
     3460 000005c3 50420301         ldiu      *+fp(1),r2            ; |612| 
     3461 000005c4 70000000         callu     r0                    ; far call to _Put      ; |612| 
     3462                                                           ; |612| Far Call Occurs
     3463                           .line   116
     3464                   ;----------------------------------------------------------------------
     3465                   ; 613 | Put(&PORT.TXbuf, source[0]);
     3466                   ;     |  /* CRC of prev pkt */                                                 
     3467                   ;----------------------------------------------------------------------
     3468 000005c5 08700000-        ldp       @CL60,DP
     3469 000005c6 5020003b-        ldiu      @CL60,r0              ; |613| 
     3470 000005c7 50480303         ldiu      *+fp(3),ar0           ; |613| 
     3471 000005c8 08700000-        ldp       @CL19,DP
     3472 000005c9 5042c000         ldiu      *ar0,r2               ; |613| 
     3473 000005ca 502a0012-        ldiu      @CL19,ar2             ; |613| 
     3474 000005cb 70000000         callu     r0                    ; far call to _Put      ; |613| 
     3475                                                           ; |613| Far Call Occurs
     3476                           .line   117
     3477                   ;----------------------------------------------------------------------
     3478                   ; 614 | Put(&PORT.TXbuf, source[1]);
     3479                   ;     |  /* CRC of prev pkt */                                                 
     3480                   ;----------------------------------------------------------------------
     3481 000005cc 08700000-        ldp       @CL60,DP
     3482 000005cd 5020003b-        ldiu      @CL60,r0              ; |614| 
     3483 000005ce 08700000-        ldp       @CL19,DP
     3484 000005cf 50480303         ldiu      *+fp(3),ar0           ; |614| 
     3485 000005d0 502a0012-        ldiu      @CL19,ar2             ; |614| 
     3486 000005d1 50420001         ldiu      *+ar0(1),r2           ; |614| 
     3487 000005d2 70000000         callu     r0                    ; far call to _Put      ; |614| 
     3488                                                           ; |614| Far Call Occurs
     3489 000005d3          L167:        
     3490                           .line   118
     3491                                                           ; Begin Epilog Code
     3492 000005d3 50410b01         ldiu      *-fp(1),r1
     3493 000005d4 504bc300         ldiu      *fp,fp
     3494                                                           ; Restore SOE Registers
     3495 000005d5 0e2c0000         pop       ar4
     3496                                                           ; Unallocate the Frame
     3497 000005d6 1874000f         subi      15,sp
     3498 000005d7 68000001         bu        r1
     3499                   ;*      Branch Occurs to r1 
     3500                           .endfunc        615,000001000h,13
     3501                   
     3502                   
     3503 000005d8                  .sect    ".text"
     3504                   
     3505                           .global _Process_Read_ESN
     3506                           .sym    _Process_Read_ESN,_Process_Read_ESN,32,2,0
     3507                           .func   617
     3508                   ;******************************************************************************
     3509                   ;* FUNCTION NAME: _Process_Read_ESN                                           *
     3510                   ;*                                                                            *
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   66

     3511                   ;*   Architecture       : TMS320C33                                           *
     3512                   ;*   Calling Convention : TI Standard Register Parameters                     *
     3513                   ;*   Function Uses Regs : r0,r2,r4,r5,ar0,ar2,ar4,ir0,st                      *
     3514                   ;*   Regs Saved         : r4,r5,ar4                                           *
     3515                   ;*   Stack Frame        : Full (w/ debug)                                     *
     3516                   ;*   Total Frame Size   : 2 Call + 0 Parm + 1 Auto + 3 SOE = 6 words          *
     3517                   ;******************************************************************************
     3518 000005d8          _Process_Read_ESN:
     3519                           .sym    _i,1,4,1,32
     3520                           .line   1
     3521                   ;----------------------------------------------------------------------
     3522                   ; 617 | void Process_Read_ESN(void)                                            
     3523                   ; 619 | int i;                                                                 
     3524                   ;----------------------------------------------------------------------
     3525 000005d8 0f2b0000         push      fp
     3526 000005d9 500b0014         ldiu      sp,fp
     3527 000005da 02740001         addi      1,sp
     3528 000005db 0f240000         push      r4
     3529 000005dc 0f250000         push      r5
     3530 000005dd 0f2c0000         push      ar4
     3531                           .line   5
     3532                   ;----------------------------------------------------------------------
     3533                   ; 621 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     3534                   ;     | e */                                                                   
     3535                   ;----------------------------------------------------------------------
     3536 000005de 08700000-        ldp       @CL33,DP
     3537 000005df 50280020-        ldiu      @CL33,ar0             ; |621| 
     3538 000005e0 08700000-        ldp       @CL60,DP
     3539 000005e1 5020003b-        ldiu      @CL60,r0              ; |621| 
     3540 000005e2 08700000-        ldp       @CL19,DP
     3541 000005e3 502a0012-        ldiu      @CL19,ar2             ; |621| 
     3542 000005e4 5042c000         ldiu      *ar0,r2               ; |621| 
     3543 000005e5 70000000         callu     r0                    ; far call to _Put      ; |621| 
     3544                                                           ; |621| Far Call Occurs
     3545                           .line   6
     3546                   ;----------------------------------------------------------------------
     3547                   ; 622 | Put(&PORT.TXbuf, PORT.func);
     3548                   ;     |  /* function */                                                        
     3549                   ;----------------------------------------------------------------------
     3550 000005e6 08700000-        ldp       @CL26,DP
     3551 000005e7 50280019-        ldiu      @CL26,ar0             ; |622| 
     3552 000005e8 08700000-        ldp       @CL60,DP
     3553 000005e9 5020003b-        ldiu      @CL60,r0              ; |622| 
     3554 000005ea 08700000-        ldp       @CL19,DP
     3555 000005eb 5042c000         ldiu      *ar0,r2               ; |622| 
     3556 000005ec 502a0012-        ldiu      @CL19,ar2             ; |622| 
     3557 000005ed 70000000         callu     r0                    ; far call to _Put      ; |622| 
     3558                                                           ; |622| Far Call Occurs
     3559                           .line   8
     3560                   ;----------------------------------------------------------------------
     3561                   ; 624 | for(i=0;i<9;i++)                                                       
     3562                   ;----------------------------------------------------------------------
     3563 000005ee 50600000         ldiu      0,r0                  ; |624| 
     3564 000005ef 15400301         sti       r0,*+fp(1)            ; |624| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   67

     3565 000005f0 506cfff8         ldiu      -8,ar4                ; |628| 
     3566 000005f1 5064ffe8         ldiu      -24,r4                ; |626| 
     3567 000005f2 5065fff0         ldiu      -16,r5                ; |627| 
     3568 000005f3 04e00009         cmpi      9,r0                  ; |624| 
     3569 000005f4 6a0a0029         bge       L171                  ; |624| 
     3570                   ;*      Branch Occurs to L171           ; |624| 
     3571 000005f5          L170:        
     3572                           .line   10
     3573                   ;----------------------------------------------------------------------
     3574                   ; 626 | Put(&PORT.TXbuf, ESN[i]>>24);                                          
     3575                   ;----------------------------------------------------------------------
     3576 000005f5 08700000-        ldp       @CL79,DP
     3577 000005f6 5028004e-        ldiu      @CL79,ar0             ; |626| 
     3578 000005f7 08700000-        ldp       @CL60,DP
     3579 000005f8 50510301         ldiu      *+fp(1),ir0           ; |626| 
     3580 000005f9 5020003b-        ldiu      @CL60,r0              ; |626| 
     3581 000005fa 08700000-        ldp       @CL19,DP
     3582 000005fb 24224004         lsh3      r4,*+ar0(ir0),r2      ; |626| 
     3583 000005fc 502a0012-        ldiu      @CL19,ar2             ; |626| 
     3584 000005fd 70000000         callu     r0                    ; far call to _Put      ; |626| 
     3585                                                           ; |626| Far Call Occurs
     3586                           .line   11
     3587                   ;----------------------------------------------------------------------
     3588                   ; 627 | Put(&PORT.TXbuf, ESN[i]>>16);                                          
     3589                   ;----------------------------------------------------------------------
     3590 000005fe 08700000-        ldp       @CL79,DP
     3591 000005ff 5028004e-        ldiu      @CL79,ar0             ; |627| 
     3592 00000600 08700000-        ldp       @CL60,DP
     3593 00000601 5020003b-        ldiu      @CL60,r0              ; |627| 
     3594 00000602 08700000-        ldp       @CL19,DP
     3595 00000603 50510301         ldiu      *+fp(1),ir0           ; |627| 
     3596 00000604 502a0012-        ldiu      @CL19,ar2             ; |627| 
     3597 00000605 24224005         lsh3      r5,*+ar0(ir0),r2      ; |627| 
     3598 00000606 70000000         callu     r0                    ; far call to _Put      ; |627| 
     3599                                                           ; |627| Far Call Occurs
     3600                           .line   12
     3601                   ;----------------------------------------------------------------------
     3602                   ; 628 | Put(&PORT.TXbuf, ESN[i]>>8);                                           
     3603                   ;----------------------------------------------------------------------
     3604 00000607 08700000-        ldp       @CL79,DP
     3605 00000608 5028004e-        ldiu      @CL79,ar0             ; |628| 
     3606 00000609 08700000-        ldp       @CL60,DP
     3607 0000060a 5020003b-        ldiu      @CL60,r0              ; |628| 
     3608 0000060b 50510301         ldiu      *+fp(1),ir0           ; |628| 
     3609 0000060c 08700000-        ldp       @CL19,DP
     3610 0000060d 2422400c         lsh3      ar4,*+ar0(ir0),r2     ; |628| 
     3611 0000060e 502a0012-        ldiu      @CL19,ar2             ; |628| 
     3612 0000060f 70000000         callu     r0                    ; far call to _Put      ; |628| 
     3613                                                           ; |628| Far Call Occurs
     3614                           .line   13
     3615                   ;----------------------------------------------------------------------
     3616                   ; 629 | Put(&PORT.TXbuf, ESN[i]);                                              
     3617                   ;----------------------------------------------------------------------
     3618 00000610 08700000-        ldp       @CL79,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   68

     3619 00000611 5028004e-        ldiu      @CL79,ar0             ; |629| 
     3620 00000612 08700000-        ldp       @CL60,DP
     3621 00000613 5020003b-        ldiu      @CL60,r0              ; |629| 
     3622 00000614 08700000-        ldp       @CL19,DP
     3623 00000615 50510301         ldiu      *+fp(1),ir0           ; |629| 
     3624 00000616 502a0012-        ldiu      @CL19,ar2             ; |629| 
     3625 00000617 50424000         ldiu      *+ar0(ir0),r2         ; |629| 
     3626 00000618 70000000         callu     r0                    ; far call to _Put      ; |629| 
     3627                                                           ; |629| Far Call Occurs
     3628                           .line   8
     3629 00000619 50600001         ldiu      1,r0                  ; |624| 
     3630 0000061a 02400301         addi      *+fp(1),r0            ; |624| 
     3631 0000061b 15400301         sti       r0,*+fp(1)            ; |624| 
     3632 0000061c 04e00009         cmpi      9,r0                  ; |624| 
     3633 0000061d 6a07ffd7         blt       L170                  ; |624| 
     3634                   ;*      Branch Occurs to L170           ; |624| 
     3635 0000061e          L171:        
     3636                           .line   15
     3637                                                           ; Begin Epilog Code
     3638 0000061e 50410b01         ldiu      *-fp(1),r1
     3639 0000061f 504bc300         ldiu      *fp,fp
     3640                                                           ; Restore SOE Registers
     3641 00000620 0e2c0000         pop       ar4
     3642 00000621 0e250000         pop       r5
     3643 00000622 0e240000         pop       r4
     3644                                                           ; Unallocate the Frame
     3645 00000623 18740003         subi      3,sp
     3646 00000624 68000001         bu        r1
     3647                   ;*      Branch Occurs to r1 
     3648                           .endfunc        631,000001030h,1
     3649                   
     3650                   
     3651 00000625                  .sect    ".text"
     3652                   
     3653                           .global _Process_Write_ESN
     3654                           .sym    _Process_Write_ESN,_Process_Write_ESN,32,2,0
     3655                           .func   633
     3656                   ;******************************************************************************
     3657                   ;* FUNCTION NAME: _Process_Write_ESN                                          *
     3658                   ;*                                                                            *
     3659                   ;*   Architecture       : TMS320C33                                           *
     3660                   ;*   Calling Convention : TI Standard Register Parameters                     *
     3661                   ;*   Function Uses Regs : r0,r1,r2,r3,ar0,ar1,ar2,fp,ar4,ir0,st,rs            *
     3662                   ;*   Regs Saved         : ar4                                                 *
     3663                   ;*   Stack Frame        : Full (w/ debug)                                     *
     3664                   ;*   Total Frame Size   : 2 Call + 0 Parm + 6 Auto + 1 SOE = 9 words          *
     3665                   ;******************************************************************************
     3666 00000625          _Process_Write_ESN:
     3667                   ;* ar2   assigned to _dat
     3668                           .sym    _dat,10,30,17,32
     3669                           .sym    _dat,1,30,1,32
     3670                           .sym    _i,2,4,1,32
     3671                           .sym    _ESNU,3,62,1,128,,4
     3672                           .line   1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   69

     3673                   ;----------------------------------------------------------------------
     3674                   ; 633 | void Process_Write_ESN(unsigned int* dat)                              
     3675                   ;----------------------------------------------------------------------
     3676 00000625 0f2b0000         push      fp
     3677 00000626 500b0014         ldiu      sp,fp
     3678 00000627 02740006         addi      6,sp
     3679 00000628 0f2c0000         push      ar4
     3680                           .line   2
     3681                   ;----------------------------------------------------------------------
     3682                   ; 635 | int i;                                                                 
     3683                   ; 636 | unsigned int ESNU[4];                                                  
     3684                   ;----------------------------------------------------------------------
     3685 00000629 154a0301         sti       ar2,*+fp(1)           ; |634| 
     3686                           .line   6
     3687                   ;----------------------------------------------------------------------
     3688                   ; 638 | for(i=0;i<4;i++)                                                       
     3689                   ;----------------------------------------------------------------------
     3690 0000062a 50600000         ldiu      0,r0                  ; |638| 
     3691 0000062b 15400302         sti       r0,*+fp(2)            ; |638| 
     3692 0000062c 50630018         ldiu      24,r3                 ; |640| 
     3693 0000062d 04e00004         cmpi      4,r0                  ; |638| 
     3694 0000062e 50610010         ldiu      16,r1                 ; |640| 
     3695 0000062f 6a0a0016         bge       L175                  ; |638| 
     3696                   ;*      Branch Occurs to L175           ; |638| 
     3697 00000630          L174:        
     3698                           .line   8
     3699                   ;----------------------------------------------------------------------
     3700                   ; 640 | ESNU[i] = (dat[0]<<24) | (dat[1]<<16) | (dat[2]<<8) | (dat[3]);        
     3701                   ;----------------------------------------------------------------------
     3702 00000630 504c0301         ldiu      *+fp(1),ar4           ; |640| 
     3703 00000631 5008000b         ldiu      fp,ar0                ; |640| 
     3704 00000632 500a000c         ldiu      ar4,ar2               ; |640| 
     3705 00000633 50400402         ldiu      *+ar4(2),r0           ; |640| 
     3706 00000634 5009000a         ldiu      ar2,ar1               ; |640| 
     3707 00000635 22b9c203         ash3      r3,*ar2,rs            ; |640| 
     3708 00000636 22a20101         ash3      r1,*+ar1,r2           ; |640| 
     3709 00000637 03e00008         ash       8,r0                  ; |640| 
     3710 00000638 50510302         ldiu      *+fp(2),ir0           ; |640| 
     3711 00000639 02680003         addi      3,ar0                 ; |640| 
     3712 0000063a 25820219         or3       rs,r2,r2              ; |640| 
     3713 0000063b 25800002         or3       r2,r0,r0              ; |640| 
     3714 0000063c 10400403         or        *+ar4(3),r0           ; |640| 
     3715 0000063d 15404000         sti       r0,*+ar0(ir0)         ; |640| 
     3716                           .line   9
     3717                   ;----------------------------------------------------------------------
     3718                   ; 641 | dat += 4;                                                              
     3719                   ;----------------------------------------------------------------------
     3720 0000063e 50600004         ldiu      4,r0                  ; |641| 
     3721 0000063f 02400301         addi      *+fp(1),r0            ; |641| Unsigned
     3722 00000640 15400301         sti       r0,*+fp(1)            ; |641| 
     3723                           .line   6
     3724 00000641 50600001         ldiu      1,r0                  ; |638| 
     3725 00000642 02400302         addi      *+fp(2),r0            ; |638| 
     3726 00000643 15400302         sti       r0,*+fp(2)            ; |638| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   70

     3727 00000644 04e00004         cmpi      4,r0                  ; |638| 
     3728 00000645 6a07ffea         blt       L174                  ; |638| 
     3729                   ;*      Branch Occurs to L174           ; |638| 
     3730 00000646          L175:        
     3731                           .line   12
     3732                   ;----------------------------------------------------------------------
     3733                   ; 644 | if (FLASH_WRITE_ESN_USER(&ESNU[0]))                                    
     3734                   ;----------------------------------------------------------------------
     3735 00000646 08700000-        ldp       @CL80,DP
     3736 00000647 500a000b         ldiu      fp,ar2                ; |644| 
     3737 00000648 5020004f-        ldiu      @CL80,r0              ; |644| 
     3738 00000649 026a0003         addi      3,ar2                 ; |644| 
     3739 0000064a 70000000         callu     r0                    ; far call to _FLASH_WRITE_ESN_USER     ; |644| 
     3740                                                           ; |644| Far Call Occurs
     3741 0000064b 04e00000         cmpi      0,r0                  ; |644| 
     3742 0000064c 6a050005         beq       L177                  ; |644| 
     3743                   ;*      Branch Occurs to L177           ; |644| 
     3744                           .line   14
     3745                   ;----------------------------------------------------------------------
     3746                   ; 646 | MB_exception(mb_excp_memory_error);                                    
     3747                   ;----------------------------------------------------------------------
     3748 0000064d 08700000-        ldp       @CL70,DP
     3749 0000064e 506a0008         ldiu      8,ar2                 ; |646| 
     3750 0000064f 50200045-        ldiu      @CL70,r0              ; |646| 
     3751 00000650 70000000         callu     r0                    ; far call to _MB_exception     ; |646| 
     3752                                                           ; |646| Far Call Occurs
     3753                           .line   15
     3754                   ;----------------------------------------------------------------------
     3755                   ; 647 | return;                                                                
     3756                   ;----------------------------------------------------------------------
     3757 00000651 6a000015         bu        L178                  ; |647| 
     3758                   ;*      Branch Occurs to L178           ; |647| 
     3759 00000652          L177:        
     3760                           .line   18
     3761                   ;----------------------------------------------------------------------
     3762                   ; 650 | FLASH_READ_ESN_USER(&ESN[4]);                                          
     3763                   ;----------------------------------------------------------------------
     3764 00000652 08700000-        ldp       @CL82,DP
     3765 00000653 50200051-        ldiu      @CL82,r0              ; |650| 
     3766 00000654 08700000-        ldp       @CL81,DP
     3767 00000655 502a0050-        ldiu      @CL81,ar2             ; |650| 
     3768 00000656 70000000         callu     r0                    ; far call to _FLASH_READ_ESN_USER      ; |650| 
     3769                                                           ; |650| Far Call Occurs
     3770                           .line   20
     3771                   ;----------------------------------------------------------------------
     3772                   ; 652 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     3773                   ;     | e */                                                                   
     3774                   ;----------------------------------------------------------------------
     3775 00000657 08700000-        ldp       @CL33,DP
     3776 00000658 50280020-        ldiu      @CL33,ar0             ; |652| 
     3777 00000659 08700000-        ldp       @CL60,DP
     3778 0000065a 5020003b-        ldiu      @CL60,r0              ; |652| 
     3779 0000065b 08700000-        ldp       @CL19,DP
     3780 0000065c 5042c000         ldiu      *ar0,r2               ; |652| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   71

     3781 0000065d 502a0012-        ldiu      @CL19,ar2             ; |652| 
     3782 0000065e 70000000         callu     r0                    ; far call to _Put      ; |652| 
     3783                                                           ; |652| Far Call Occurs
     3784                           .line   21
     3785                   ;----------------------------------------------------------------------
     3786                   ; 653 | Put(&PORT.TXbuf, PORT.func);
     3787                   ;     |  /* function */                                                        
     3788                   ;----------------------------------------------------------------------
     3789 0000065f 08700000-        ldp       @CL26,DP
     3790 00000660 50280019-        ldiu      @CL26,ar0             ; |653| 
     3791 00000661 08700000-        ldp       @CL60,DP
     3792 00000662 5020003b-        ldiu      @CL60,r0              ; |653| 
     3793 00000663 5042c000         ldiu      *ar0,r2               ; |653| 
     3794 00000664 08700000-        ldp       @CL19,DP
     3795 00000665 502a0012-        ldiu      @CL19,ar2             ; |653| 
     3796 00000666 70000000         callu     r0                    ; far call to _Put      ; |653| 
     3797                                                           ; |653| Far Call Occurs
     3798 00000667          L178:        
     3799                           .line   22
     3800                                                           ; Begin Epilog Code
     3801 00000667 50410b01         ldiu      *-fp(1),r1
     3802 00000668 504bc300         ldiu      *fp,fp
     3803                                                           ; Restore SOE Registers
     3804 00000669 0e2c0000         pop       ar4
     3805                                                           ; Unallocate the Frame
     3806 0000066a 18740008         subi      8,sp
     3807 0000066b 68000001         bu        r1
     3808                   ;*      Branch Occurs to r1 
     3809                           .endfunc        654,000001000h,6
     3810                   
     3811                   
     3812 0000066c                  .sect    ".text"
     3813                   
     3814                           .global _Process_Set_Entry_Point
     3815                           .sym    _Process_Set_Entry_Point,_Process_Set_Entry_Point,32,2,0
     3816                           .func   656
     3817                   ;******************************************************************************
     3818                   ;* FUNCTION NAME: _Process_Set_Entry_Point                                    *
     3819                   ;*                                                                            *
     3820                   ;*   Architecture       : TMS320C33                                           *
     3821                   ;*   Calling Convention : TI Standard Register Parameters                     *
     3822                   ;*   Function Uses Regs : r0,r2,r3,ar0,ar1,ar2,ir0,ir1,st                     *
     3823                   ;*   Regs Saved         :                                                     *
     3824                   ;*   Stack Frame        : Full (w/ debug)                                     *
     3825                   ;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
     3826                   ;******************************************************************************
     3827 0000066c          _Process_Set_Entry_Point:
     3828                   ;* ar2   assigned to _addr
     3829                           .sym    _addr,10,14,17,32
     3830                           .sym    _addr,1,14,1,32
     3831                           .sym    _m,2,30,1,32
     3832                           .sym    _f,3,30,1,32
     3833                           .sym    _i,4,14,1,32
     3834                           .line   1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   72

     3835                   ;----------------------------------------------------------------------
     3836                   ; 656 | void Process_Set_Entry_Point(unsigned int addr)                        
     3837                   ;----------------------------------------------------------------------
     3838 0000066c 0f2b0000         push      fp
     3839 0000066d 500b0014         ldiu      sp,fp
     3840 0000066e 02740004         addi      4,sp
     3841                           .line   2
     3842                   ;----------------------------------------------------------------------
     3843                   ; 658 | unsigned int* m;                                                       
     3844                   ; 659 | unsigned int* f;                                                       
     3845                   ; 660 | unsigned int i;                                                        
     3846                   ;----------------------------------------------------------------------
     3847 0000066f 154a0301         sti       ar2,*+fp(1)           ; |657| 
     3848                           .line   7
     3849                   ;----------------------------------------------------------------------
     3850                   ; 662 | m = (unsigned int*) MEM_LOC;                                           
     3851                   ;----------------------------------------------------------------------
     3852 00000670 08700000-        ldp       @CL71,DP
     3853 00000671 50200046-        ldiu      @CL71,r0              ; |662| 
     3854 00000672 15400302         sti       r0,*+fp(2)            ; |662| 
     3855                           .line   8
     3856                   ;----------------------------------------------------------------------
     3857                   ; 663 | f = (unsigned int*) FLASH_LOC;                                         
     3858                   ;----------------------------------------------------------------------
     3859 00000673 08700000-        ldp       @CL83,DP
     3860 00000674 50200052-        ldiu      @CL83,r0              ; |663| 
     3861 00000675 15400303         sti       r0,*+fp(3)            ; |663| 
     3862                           .line   10
     3863                   ;----------------------------------------------------------------------
     3864                   ; 665 | for (i=0;i<FLASH_BOOT_SIZE;i++)                                        
     3865                   ;----------------------------------------------------------------------
     3866 00000676 50600000         ldiu      0,r0                  ; |665| 
     3867 00000677 15400304         sti       r0,*+fp(4)            ; |665| 
     3868 00000678 04e02000         cmpi      8192,r0               ; |665| 
     3869 00000679 6a04000b         bhs       L182                  ; |665| 
     3870                   ;*      Branch Occurs to L182           ; |665| 
     3871 0000067a          L181:        
     3872                           .line   12
     3873                   ;----------------------------------------------------------------------
     3874                   ; 667 | m[i] = f[i];                                                           
     3875                   ;----------------------------------------------------------------------
     3876 0000067a 50480304         ldiu      *+fp(4),ar0           ; |667| 
     3877 0000067b 50510303         ldiu      *+fp(3),ir0           ; |667| 
     3878 0000067c 50520302         ldiu      *+fp(2),ir1           ; |667| 
     3879 0000067d 50090008         ldiu      ar0,ar1               ; |667| 
     3880 0000067e 50404000         ldiu      *+ar0(ir0),r0         ; |667| 
     3881 0000067f 15408100         sti       r0,*+ar1(ir1)         ; |667| 
     3882                           .line   10
     3883 00000680 50600001         ldiu      1,r0                  ; |665| 
     3884 00000681 02400304         addi      *+fp(4),r0            ; |665| Unsigned
     3885 00000682 15400304         sti       r0,*+fp(4)            ; |665| 
     3886 00000683 04e02000         cmpi      8192,r0               ; |665| 
     3887 00000684 6a01fff5         blo       L181                  ; |665| 
     3888                   ;*      Branch Occurs to L181           ; |665| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   73

     3889 00000685          L182:        
     3890                           .line   15
     3891                   ;----------------------------------------------------------------------
     3892                   ; 670 | m[FLASH_ENTRY_POINT_APP] = addr;                                       
     3893                   ;----------------------------------------------------------------------
     3894 00000685 50510302         ldiu      *+fp(2),ir0           ; |670| 
     3895 00000686 50681fff         ldiu      8191,ar0              ; |670| 
     3896 00000687 50400301         ldiu      *+fp(1),r0            ; |670| 
     3897 00000688 15404000         sti       r0,*+ar0(ir0)         ; |670| 
     3898                           .line   17
     3899                   ;----------------------------------------------------------------------
     3900                   ; 672 | LEDR_ON; LEDG_OFF;                                                     
     3901                   ;----------------------------------------------------------------------
     3902 00000689 0f350000         push    ST                      
     3903 0000068a 03752000         andn    2000h, ST       
     3904 0000068b 08700000-        ldp       @CL76,DP
     3905 0000068c 5028004b-        ldiu      @CL76,ar0             ; |672| 
     3906 0000068d 5060007f         ldiu      127,r0                ; |672| 
     3907 0000068e 21a0c000         and3      r0,*ar0,r0            ; |672| 
     3908 0000068f 1540c000         sti       r0,*ar0               ; |672| 
     3909 00000690 0e350000         pop             ST                      
     3910 00000691 0f350000         push    ST                      
     3911 00000692 03752000         andn    2000h, ST       
     3912 00000693 50600040         ldiu      64,r0                 ; |672| 
     3913 00000694 25a0c000         or3       r0,*ar0,r0            ; |672| 
     3914 00000695 1540c000         sti       r0,*ar0               ; |672| 
     3915 00000696 0e350000         pop             ST                      
     3916                           .line   18
     3917                   ;----------------------------------------------------------------------
     3918                   ; 673 | i = FLASH_ERASE_BLK((unsigned int*)FLASH_LOC+FLASH_CFGB_SIZE);         
     3919                   ;----------------------------------------------------------------------
     3920 00000697 08700000-        ldp       @CL84,DP
     3921 00000698 502a0053-        ldiu      @CL84,ar2             ; |673| 
     3922 00000699 08700000-        ldp       @CL77,DP
     3923 0000069a 5020004c-        ldiu      @CL77,r0              ; |673| 
     3924 0000069b 70000000         callu     r0                    ; far call to _FLASH_ERASE_BLK  ; |673| 
     3925                                                           ; |673| Far Call Occurs
     3926 0000069c 15400304         sti       r0,*+fp(4)            ; |673| 
     3927                           .line   19
     3928                   ;----------------------------------------------------------------------
     3929                   ; 674 | i |= FLASH_WRITE_BLK((unsigned int*)FLASH_LOC+FLASH_CFGB_SIZE, m+FLASH_
     3930                   ;     | CFGB_SIZE, FLASH_CFGB_SIZE);                                           
     3931                   ;----------------------------------------------------------------------
     3932 0000069d 08700000-        ldp       @CL78,DP
     3933 0000069e 5020004d-        ldiu      @CL78,r0              ; |674| 
     3934 0000069f 08700000-        ldp       @CL84,DP
     3935 000006a0 50621000         ldiu      4096,r2               ; |674| 
     3936 000006a1 50631000         ldiu      4096,r3               ; |674| 
     3937 000006a2 502a0053-        ldiu      @CL84,ar2             ; |674| 
     3938 000006a3 02420302         addi      *+fp(2),r2            ; |674| Unsigned
     3939 000006a4 70000000         callu     r0                    ; far call to _FLASH_WRITE_BLK  ; |674| 
     3940                                                           ; |674| Far Call Occurs
     3941 000006a5 10400304         or        *+fp(4),r0            ; |674| 
     3942 000006a6 15400304         sti       r0,*+fp(4)            ; |674| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   74

     3943                           .line   21
     3944                   ;----------------------------------------------------------------------
     3945                   ; 676 | if (i)                                                                 
     3946                   ;----------------------------------------------------------------------
     3947 000006a7 04e00000         cmpi      0,r0                  ; |676| 
     3948 000006a8 6a050005         beq       L184                  ; |676| 
     3949                   ;*      Branch Occurs to L184           ; |676| 
     3950                           .line   23
     3951                   ;----------------------------------------------------------------------
     3952                   ; 678 | MB_exception(mb_excp_memory_error);                                    
     3953                   ;----------------------------------------------------------------------
     3954 000006a9 08700000-        ldp       @CL70,DP
     3955 000006aa 506a0008         ldiu      8,ar2                 ; |678| 
     3956 000006ab 50200045-        ldiu      @CL70,r0              ; |678| 
     3957 000006ac 70000000         callu     r0                    ; far call to _MB_exception     ; |678| 
     3958                                                           ; |678| Far Call Occurs
     3959                           .line   24
     3960                   ;----------------------------------------------------------------------
     3961                   ; 679 | return;                                                                
     3962                   ;----------------------------------------------------------------------
     3963 000006ad 6a000010         bu        L185                  ; |679| 
     3964                   ;*      Branch Occurs to L185           ; |679| 
     3965 000006ae          L184:        
     3966                           .line   27
     3967                   ;----------------------------------------------------------------------
     3968                   ; 682 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     3969                   ;     | e */                                                                   
     3970                   ;----------------------------------------------------------------------
     3971 000006ae 08700000-        ldp       @CL33,DP
     3972 000006af 50280020-        ldiu      @CL33,ar0             ; |682| 
     3973 000006b0 08700000-        ldp       @CL60,DP
     3974 000006b1 5020003b-        ldiu      @CL60,r0              ; |682| 
     3975 000006b2 08700000-        ldp       @CL19,DP
     3976 000006b3 5042c000         ldiu      *ar0,r2               ; |682| 
     3977 000006b4 502a0012-        ldiu      @CL19,ar2             ; |682| 
     3978 000006b5 70000000         callu     r0                    ; far call to _Put      ; |682| 
     3979                                                           ; |682| Far Call Occurs
     3980                           .line   28
     3981                   ;----------------------------------------------------------------------
     3982                   ; 683 | Put(&PORT.TXbuf, PORT.func);
     3983                   ;     |  /* function */                                                        
     3984                   ;----------------------------------------------------------------------
     3985 000006b6 08700000-        ldp       @CL26,DP
     3986 000006b7 50280019-        ldiu      @CL26,ar0             ; |683| 
     3987 000006b8 08700000-        ldp       @CL60,DP
     3988 000006b9 5020003b-        ldiu      @CL60,r0              ; |683| 
     3989 000006ba 08700000-        ldp       @CL19,DP
     3990 000006bb 5042c000         ldiu      *ar0,r2               ; |683| 
     3991 000006bc 502a0012-        ldiu      @CL19,ar2             ; |683| 
     3992 000006bd 70000000         callu     r0                    ; far call to _Put      ; |683| 
     3993                                                           ; |683| Far Call Occurs
     3994 000006be          L185:        
     3995                           .line   29
     3996                                                           ; Begin Epilog Code
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   75

     3997 000006be 50410b01         ldiu      *-fp(1),r1
     3998 000006bf 504bc300         ldiu      *fp,fp
     3999                                                           ; Unallocate the Frame
     4000 000006c0 18740006         subi      6,sp
     4001 000006c1 68000001         bu        r1
     4002                   ;*      Branch Occurs to r1 
     4003                           .endfunc        684,000000000h,4
     4004                   
     4005                   
     4006 000006c2                  .sect    ".text"
     4007                   
     4008                           .global _Copy_Block
     4009                           .sym    _Copy_Block,_Copy_Block,46,2,0
     4010                           .func   686
     4011                   ;******************************************************************************
     4012                   ;* FUNCTION NAME: _Copy_Block                                                 *
     4013                   ;*                                                                            *
     4014                   ;*   Architecture       : TMS320C33                                           *
     4015                   ;*   Calling Convention : TI Standard Register Parameters                     *
     4016                   ;*   Function Uses Regs : r0,r2,r3,ar0,ar1,ar2,ir0,ir1,st                     *
     4017                   ;*   Regs Saved         :                                                     *
     4018                   ;*   Stack Frame        : Full (w/ debug)                                     *
     4019                   ;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
     4020                   ;******************************************************************************
     4021 000006c2          _Copy_Block:
     4022                   ;* ar2   assigned to _s
     4023                           .sym    _s,10,30,17,32
     4024                   ;* r2    assigned to _d
     4025                           .sym    _d,2,30,17,32
     4026                           .sym    _s,1,30,1,32
     4027                           .sym    _d,2,30,1,32
     4028                           .sym    _i,3,14,1,32
     4029                           .sym    _m,4,30,1,32
     4030                           .line   1
     4031                   ;----------------------------------------------------------------------
     4032                   ; 686 | unsigned int Copy_Block(unsigned int* s, unsigned int* d)              
     4033                   ;----------------------------------------------------------------------
     4034 000006c2 0f2b0000         push      fp
     4035 000006c3 500b0014         ldiu      sp,fp
     4036 000006c4 02740004         addi      4,sp
     4037                           .line   2
     4038                   ;----------------------------------------------------------------------
     4039                   ; 688 | unsigned int i;                                                        
     4040                   ; 689 | unsigned int* m;                                                       
     4041                   ;----------------------------------------------------------------------
     4042 000006c5 15420302         sti       r2,*+fp(2)            ; |687| 
     4043 000006c6 154a0301         sti       ar2,*+fp(1)           ; |687| 
     4044                           .line   6
     4045                   ;----------------------------------------------------------------------
     4046                   ; 691 | m = (unsigned int*) MEM_LOC;                                           
     4047                   ;----------------------------------------------------------------------
     4048 000006c7 08700000-        ldp       @CL71,DP
     4049 000006c8 50200046-        ldiu      @CL71,r0              ; |691| 
     4050 000006c9 15400304         sti       r0,*+fp(4)            ; |691| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   76

     4051                           .line   8
     4052                   ;----------------------------------------------------------------------
     4053                   ; 693 | for (i=0;i<FLASH_CFG_SIZE;i++)                                         
     4054                   ;----------------------------------------------------------------------
     4055 000006ca 50600000         ldiu      0,r0                  ; |693| 
     4056 000006cb 15400303         sti       r0,*+fp(3)            ; |693| 
     4057 000006cc 08700000-        ldp       @CL72,DP
     4058 000006cd 04a00047-        cmpi      @CL72,r0              ; |693| 
     4059 000006ce 6a04000c         bhs       L189                  ; |693| 
     4060                   ;*      Branch Occurs to L189           ; |693| 
     4061 000006cf          L188:        
     4062                           .line   10
     4063                   ;----------------------------------------------------------------------
     4064                   ; 695 | m[i] = s[i];                                                           
     4065                   ;----------------------------------------------------------------------
     4066 000006cf 50480303         ldiu      *+fp(3),ar0           ; |695| 
     4067 000006d0 50510301         ldiu      *+fp(1),ir0           ; |695| 
     4068 000006d1 50520304         ldiu      *+fp(4),ir1           ; |695| 
     4069 000006d2 50090008         ldiu      ar0,ar1               ; |695| 
     4070 000006d3 50404000         ldiu      *+ar0(ir0),r0         ; |695| 
     4071 000006d4 15408100         sti       r0,*+ar1(ir1)         ; |695| 
     4072                           .line   8
     4073 000006d5 50600001         ldiu      1,r0                  ; |693| 
     4074 000006d6 02400303         addi      *+fp(3),r0            ; |693| Unsigned
     4075 000006d7 15400303         sti       r0,*+fp(3)            ; |693| 
     4076 000006d8 08700000-        ldp       @CL72,DP
     4077 000006d9 04a00047-        cmpi      @CL72,r0              ; |693| 
     4078 000006da 6a01fff4         blo       L188                  ; |693| 
     4079                   ;*      Branch Occurs to L188           ; |693| 
     4080 000006db          L189:        
     4081                           .line   13
     4082                   ;----------------------------------------------------------------------
     4083                   ; 698 | LEDR_ON; LEDG_OFF;                                                     
     4084                   ;----------------------------------------------------------------------
     4085 000006db 0f350000         push    ST                      
     4086 000006dc 03752000         andn    2000h, ST       
     4087 000006dd 08700000-        ldp       @CL76,DP
     4088 000006de 5028004b-        ldiu      @CL76,ar0             ; |698| 
     4089 000006df 5060007f         ldiu      127,r0                ; |698| 
     4090 000006e0 21a0c000         and3      r0,*ar0,r0            ; |698| 
     4091 000006e1 1540c000         sti       r0,*ar0               ; |698| 
     4092 000006e2 0e350000         pop             ST                      
     4093 000006e3 0f350000         push    ST                      
     4094 000006e4 03752000         andn    2000h, ST       
     4095 000006e5 50600040         ldiu      64,r0                 ; |698| 
     4096 000006e6 25a0c000         or3       r0,*ar0,r0            ; |698| 
     4097 000006e7 1540c000         sti       r0,*ar0               ; |698| 
     4098 000006e8 0e350000         pop             ST                      
     4099                           .line   14
     4100                   ;----------------------------------------------------------------------
     4101                   ; 699 | i = FLASH_ERASE_BLK(d);                                                
     4102                   ;----------------------------------------------------------------------
     4103 000006e9 08700000-        ldp       @CL77,DP
     4104 000006ea 504a0302         ldiu      *+fp(2),ar2           ; |699| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   77

     4105 000006eb 5020004c-        ldiu      @CL77,r0              ; |699| 
     4106 000006ec 70000000         callu     r0                    ; far call to _FLASH_ERASE_BLK  ; |699| 
     4107                                                           ; |699| Far Call Occurs
     4108 000006ed 15400303         sti       r0,*+fp(3)            ; |699| 
     4109                           .line   15
     4110                   ;----------------------------------------------------------------------
     4111                   ; 700 | i |= FLASH_WRITE_BLK(d, m, FLASH_CFG_SIZE);                            
     4112                   ;----------------------------------------------------------------------
     4113 000006ee 08700000-        ldp       @CL72,DP
     4114 000006ef 50230047-        ldiu      @CL72,r3              ; |700| 
     4115 000006f0 08700000-        ldp       @CL78,DP
     4116 000006f1 504a0302         ldiu      *+fp(2),ar2           ; |700| 
     4117 000006f2 50420304         ldiu      *+fp(4),r2            ; |700| 
     4118 000006f3 5020004d-        ldiu      @CL78,r0              ; |700| 
     4119 000006f4 70000000         callu     r0                    ; far call to _FLASH_WRITE_BLK  ; |700| 
     4120                                                           ; |700| Far Call Occurs
     4121 000006f5 10400303         or        *+fp(3),r0            ; |700| 
     4122 000006f6 15400303         sti       r0,*+fp(3)            ; |700| 
     4123                           .line   17
     4124                   ;----------------------------------------------------------------------
     4125                   ; 702 | return i;                                                              
     4126                   ;----------------------------------------------------------------------
     4127                           .line   18
     4128                                                           ; Begin Epilog Code
     4129 000006f7 50410b01         ldiu      *-fp(1),r1            ; |703| 
     4130 000006f8 504bc300         ldiu      *fp,fp                ; |703| 
     4131                                                           ; Unallocate the Frame
     4132 000006f9 18740006         subi      6,sp                  ; |703| 
     4133 000006fa 68000001         bu        r1
     4134                   ;*      Branch Occurs to r1 
     4135                           .endfunc        703,000000000h,4
     4136                   
     4137                   
     4138 000006fb                  .sect    ".text"
     4139                   
     4140                           .global _Process_Restore_Factory_Defaults
     4141                           .sym    _Process_Restore_Factory_Defaults,_Process_Restore_Factory_Defaults,32,2,0
     4142                           .func   705
     4143                   ;******************************************************************************
     4144                   ;* FUNCTION NAME: _Process_Restore_Factory_Defaults                           *
     4145                   ;*                                                                            *
     4146                   ;*   Architecture       : TMS320C33                                           *
     4147                   ;*   Calling Convention : TI Standard Register Parameters                     *
     4148                   ;*   Function Uses Regs : r0,r2,ar0,ar2,st                                    *
     4149                   ;*   Regs Saved         :                                                     *
     4150                   ;*   Stack Frame        : Full (w/ debug)                                     *
     4151                   ;*   Total Frame Size   : 2 Call + 0 Parm + 1 Auto + 0 SOE = 3 words          *
     4152                   ;******************************************************************************
     4153 000006fb          _Process_Restore_Factory_Defaults:
     4154                           .sym    _r,1,14,1,32
     4155                           .line   1
     4156                   ;----------------------------------------------------------------------
     4157                   ; 705 | void Process_Restore_Factory_Defaults(void)                            
     4158                   ; 707 | unsigned int r;                                                        
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   78

     4159                   ;----------------------------------------------------------------------
     4160 000006fb 0f2b0000         push      fp
     4161 000006fc 500b0014         ldiu      sp,fp
     4162 000006fd 02740001         addi      1,sp
     4163                           .line   5
     4164                   ;----------------------------------------------------------------------
     4165                   ; 709 | LEDR_ON; LEDG_OFF;                                                     
     4166                   ;----------------------------------------------------------------------
     4167 000006fe 0f350000         push    ST                      
     4168 000006ff 03752000         andn    2000h, ST       
     4169 00000700 08700000-        ldp       @CL76,DP
     4170 00000701 5028004b-        ldiu      @CL76,ar0             ; |709| 
     4171 00000702 5060007f         ldiu      127,r0                ; |709| 
     4172 00000703 21a0c000         and3      r0,*ar0,r0            ; |709| 
     4173 00000704 1540c000         sti       r0,*ar0               ; |709| 
     4174 00000705 0e350000         pop             ST                      
     4175 00000706 0f350000         push    ST                      
     4176 00000707 03752000         andn    2000h, ST       
     4177 00000708 50600040         ldiu      64,r0                 ; |709| 
     4178 00000709 25a0c000         or3       r0,*ar0,r0            ; |709| 
     4179 0000070a 1540c000         sti       r0,*ar0               ; |709| 
     4180 0000070b 0e350000         pop             ST                      
     4181                           .line   6
     4182                   ;----------------------------------------------------------------------
     4183                   ; 710 | r = Copy_Block((unsigned int*)FLASH_LOC_CFG_FACTORY, (unsigned int*)FLA
     4184                   ;     | SH_LOC_CFG1);                                                          
     4185                   ;----------------------------------------------------------------------
     4186 0000070c 08700000-        ldp       @CL85,DP
     4187 0000070d 502a0054-        ldiu      @CL85,ar2             ; |710| 
     4188 0000070e 08700000-        ldp       @CL73,DP
     4189 0000070f 50220048-        ldiu      @CL73,r2              ; |710| 
     4190 00000710 08700000-        ldp       @CL86,DP
     4191 00000711 50200055-        ldiu      @CL86,r0              ; |710| 
     4192 00000712 70000000         callu     r0                    ; far call to _Copy_Block       ; |710| 
     4193                                                           ; |710| Far Call Occurs
     4194 00000713 15400301         sti       r0,*+fp(1)            ; |710| 
     4195                           .line   7
     4196                   ;----------------------------------------------------------------------
     4197                   ; 711 | r = Copy_Block((unsigned int*)FLASH_LOC_CFG_FACTORY, (unsigned int*)FLA
     4198                   ;     | SH_LOC_CFG2);                                                          
     4199                   ;----------------------------------------------------------------------
     4200 00000714 08700000-        ldp       @CL85,DP
     4201 00000715 502a0054-        ldiu      @CL85,ar2             ; |711| 
     4202 00000716 08700000-        ldp       @CL87,DP
     4203 00000717 50220056-        ldiu      @CL87,r2              ; |711| 
     4204 00000718 08700000-        ldp       @CL86,DP
     4205 00000719 50200055-        ldiu      @CL86,r0              ; |711| 
     4206 0000071a 70000000         callu     r0                    ; far call to _Copy_Block       ; |711| 
     4207                                                           ; |711| Far Call Occurs
     4208 0000071b 15400301         sti       r0,*+fp(1)            ; |711| 
     4209                           .line   9
     4210                   ;----------------------------------------------------------------------
     4211                   ; 713 | if (r)                                                                 
     4212                   ;----------------------------------------------------------------------
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   79

     4213 0000071c 04e00000         cmpi      0,r0                  ; |713| 
     4214 0000071d 6a050005         beq       L194                  ; |713| 
     4215                   ;*      Branch Occurs to L194           ; |713| 
     4216                           .line   11
     4217                   ;----------------------------------------------------------------------
     4218                   ; 715 | MB_exception(mb_excp_memory_error);                                    
     4219                   ;----------------------------------------------------------------------
     4220 0000071e 08700000-        ldp       @CL70,DP
     4221 0000071f 506a0008         ldiu      8,ar2                 ; |715| 
     4222 00000720 50200045-        ldiu      @CL70,r0              ; |715| 
     4223 00000721 70000000         callu     r0                    ; far call to _MB_exception     ; |715| 
     4224                                                           ; |715| Far Call Occurs
     4225                           .line   12
     4226                   ;----------------------------------------------------------------------
     4227                   ; 716 | return;                                                                
     4228                   ;----------------------------------------------------------------------
     4229 00000722 6a000010         bu        L195                  ; |716| 
     4230                   ;*      Branch Occurs to L195           ; |716| 
     4231 00000723          L194:        
     4232                           .line   15
     4233                   ;----------------------------------------------------------------------
     4234                   ; 719 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     4235                   ;     | e */                                                                   
     4236                   ;----------------------------------------------------------------------
     4237 00000723 08700000-        ldp       @CL33,DP
     4238 00000724 50280020-        ldiu      @CL33,ar0             ; |719| 
     4239 00000725 08700000-        ldp       @CL60,DP
     4240 00000726 5020003b-        ldiu      @CL60,r0              ; |719| 
     4241 00000727 08700000-        ldp       @CL19,DP
     4242 00000728 5042c000         ldiu      *ar0,r2               ; |719| 
     4243 00000729 502a0012-        ldiu      @CL19,ar2             ; |719| 
     4244 0000072a 70000000         callu     r0                    ; far call to _Put      ; |719| 
     4245                                                           ; |719| Far Call Occurs
     4246                           .line   16
     4247                   ;----------------------------------------------------------------------
     4248                   ; 720 | Put(&PORT.TXbuf, PORT.func);
     4249                   ;     |  /* function */                                                        
     4250                   ;----------------------------------------------------------------------
     4251 0000072b 08700000-        ldp       @CL26,DP
     4252 0000072c 50280019-        ldiu      @CL26,ar0             ; |720| 
     4253 0000072d 08700000-        ldp       @CL60,DP
     4254 0000072e 5020003b-        ldiu      @CL60,r0              ; |720| 
     4255 0000072f 08700000-        ldp       @CL19,DP
     4256 00000730 5042c000         ldiu      *ar0,r2               ; |720| 
     4257 00000731 502a0012-        ldiu      @CL19,ar2             ; |720| 
     4258 00000732 70000000         callu     r0                    ; far call to _Put      ; |720| 
     4259                                                           ; |720| Far Call Occurs
     4260 00000733          L195:        
     4261                           .line   17
     4262                                                           ; Begin Epilog Code
     4263 00000733 50410b01         ldiu      *-fp(1),r1
     4264 00000734 504bc300         ldiu      *fp,fp
     4265                                                           ; Unallocate the Frame
     4266 00000735 18740003         subi      3,sp
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   80

     4267 00000736 68000001         bu        r1
     4268                   ;*      Branch Occurs to r1 
     4269                           .endfunc        721,000000000h,1
     4270                   
     4271                   
     4272 00000737                  .sect    ".text"
     4273                   
     4274                           .global _Process_Erase_Cfg
     4275                           .sym    _Process_Erase_Cfg,_Process_Erase_Cfg,32,2,0
     4276                           .func   723
     4277                   ;******************************************************************************
     4278                   ;* FUNCTION NAME: _Process_Erase_Cfg                                          *
     4279                   ;*                                                                            *
     4280                   ;*   Architecture       : TMS320C33                                           *
     4281                   ;*   Calling Convention : TI Standard Register Parameters                     *
     4282                   ;*   Function Uses Regs : r0,r2,ar0,ar2                                       *
     4283                   ;*   Regs Saved         :                                                     *
     4284                   ;*   Stack Frame        : Full (w/ debug)                                     *
     4285                   ;*   Total Frame Size   : 2 Call + 0 Parm + 1 Auto + 0 SOE = 3 words          *
     4286                   ;******************************************************************************
     4287 00000737          _Process_Erase_Cfg:
     4288                           .sym    _i,1,14,1,32
     4289                           .line   1
     4290                   ;----------------------------------------------------------------------
     4291                   ; 723 | void Process_Erase_Cfg(void)                                           
     4292                   ; 725 | unsigned int i;                                                        
     4293                   ;----------------------------------------------------------------------
     4294 00000737 0f2b0000         push      fp
     4295 00000738 500b0014         ldiu      sp,fp
     4296 00000739 02740001         addi      1,sp
     4297                           .line   5
     4298                   ;----------------------------------------------------------------------
     4299                   ; 727 | LEDR_ON; LEDG_OFF;                                                     
     4300                   ;----------------------------------------------------------------------
     4301 0000073a 0f350000         push    ST                      
     4302 0000073b 03752000         andn    2000h, ST       
     4303 0000073c 08700000-        ldp       @CL76,DP
     4304 0000073d 5028004b-        ldiu      @CL76,ar0             ; |727| 
     4305 0000073e 5060007f         ldiu      127,r0                ; |727| 
     4306 0000073f 21a0c000         and3      r0,*ar0,r0            ; |727| 
     4307 00000740 1540c000         sti       r0,*ar0               ; |727| 
     4308 00000741 0e350000         pop             ST                      
     4309 00000742 0f350000         push    ST                      
     4310 00000743 03752000         andn    2000h, ST       
     4311 00000744 50600040         ldiu      64,r0                 ; |727| 
     4312 00000745 25a0c000         or3       r0,*ar0,r0            ; |727| 
     4313 00000746 1540c000         sti       r0,*ar0               ; |727| 
     4314 00000747 0e350000         pop             ST                      
     4315                           .line   6
     4316                   ;----------------------------------------------------------------------
     4317                   ; 728 | FLASH_ERASE_BLK((unsigned int*)FLASH_LOC_CFG_FACTORY);                 
     4318                   ;----------------------------------------------------------------------
     4319 00000748 08700000-        ldp       @CL85,DP
     4320 00000749 502a0054-        ldiu      @CL85,ar2             ; |728| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   81

     4321 0000074a 08700000-        ldp       @CL77,DP
     4322 0000074b 5020004c-        ldiu      @CL77,r0              ; |728| 
     4323 0000074c 70000000         callu     r0                    ; far call to _FLASH_ERASE_BLK  ; |728| 
     4324                                                           ; |728| Far Call Occurs
     4325                           .line   7
     4326                   ;----------------------------------------------------------------------
     4327                   ; 729 | FLASH_ERASE_BLK((unsigned int*)FLASH_LOC_CFG1);                        
     4328                   ;----------------------------------------------------------------------
     4329 0000074d 08700000-        ldp       @CL73,DP
     4330 0000074e 502a0048-        ldiu      @CL73,ar2             ; |729| 
     4331 0000074f 08700000-        ldp       @CL77,DP
     4332 00000750 5020004c-        ldiu      @CL77,r0              ; |729| 
     4333 00000751 70000000         callu     r0                    ; far call to _FLASH_ERASE_BLK  ; |729| 
     4334                                                           ; |729| Far Call Occurs
     4335                           .line   8
     4336                   ;----------------------------------------------------------------------
     4337                   ; 730 | FLASH_ERASE_BLK((unsigned int*)FLASH_LOC_CFG2);                        
     4338                   ;----------------------------------------------------------------------
     4339 00000752 08700000-        ldp       @CL87,DP
     4340 00000753 502a0056-        ldiu      @CL87,ar2             ; |730| 
     4341 00000754 08700000-        ldp       @CL77,DP
     4342 00000755 5020004c-        ldiu      @CL77,r0              ; |730| 
     4343 00000756 70000000         callu     r0                    ; far call to _FLASH_ERASE_BLK  ; |730| 
     4344                                                           ; |730| Far Call Occurs
     4345                           .line   10
     4346                   ;----------------------------------------------------------------------
     4347                   ; 732 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     4348                   ;     | e */                                                                   
     4349                   ;----------------------------------------------------------------------
     4350 00000757 08700000-        ldp       @CL33,DP
     4351 00000758 50280020-        ldiu      @CL33,ar0             ; |732| 
     4352 00000759 08700000-        ldp       @CL60,DP
     4353 0000075a 5020003b-        ldiu      @CL60,r0              ; |732| 
     4354 0000075b 08700000-        ldp       @CL19,DP
     4355 0000075c 502a0012-        ldiu      @CL19,ar2             ; |732| 
     4356 0000075d 5042c000         ldiu      *ar0,r2               ; |732| 
     4357 0000075e 70000000         callu     r0                    ; far call to _Put      ; |732| 
     4358                                                           ; |732| Far Call Occurs
     4359                           .line   11
     4360                   ;----------------------------------------------------------------------
     4361                   ; 733 | Put(&PORT.TXbuf, PORT.func);
     4362                   ;     |  /* function */                                                        
     4363                   ;----------------------------------------------------------------------
     4364 0000075f 08700000-        ldp       @CL26,DP
     4365 00000760 50280019-        ldiu      @CL26,ar0             ; |733| 
     4366 00000761 08700000-        ldp       @CL60,DP
     4367 00000762 5020003b-        ldiu      @CL60,r0              ; |733| 
     4368 00000763 08700000-        ldp       @CL19,DP
     4369 00000764 5042c000         ldiu      *ar0,r2               ; |733| 
     4370 00000765 502a0012-        ldiu      @CL19,ar2             ; |733| 
     4371 00000766 70000000         callu     r0                    ; far call to _Put      ; |733| 
     4372                                                           ; |733| Far Call Occurs
     4373                           .line   12
     4374                                                           ; Begin Epilog Code
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   82

     4375 00000767 50410b01         ldiu      *-fp(1),r1
     4376 00000768 504bc300         ldiu      *fp,fp
     4377                                                           ; Unallocate the Frame
     4378 00000769 18740003         subi      3,sp
     4379 0000076a 68000001         bu        r1
     4380                   ;*      Branch Occurs to r1 
     4381                           .endfunc        734,000000000h,1
     4382                   
     4383                   
     4384 0000076b                  .sect    ".text"
     4385                   
     4386                           .global _Process_Erase_Scratchpad
     4387                           .sym    _Process_Erase_Scratchpad,_Process_Erase_Scratchpad,32,2,0
     4388                           .func   736
     4389                   ;******************************************************************************
     4390                   ;* FUNCTION NAME: _Process_Erase_Scratchpad                                   *
     4391                   ;*                                                                            *
     4392                   ;*   Architecture       : TMS320C33                                           *
     4393                   ;*   Calling Convention : TI Standard Register Parameters                     *
     4394                   ;*   Function Uses Regs : r0,r1,r2,ar0,ar2,ir0,st                             *
     4395                   ;*   Regs Saved         :                                                     *
     4396                   ;*   Stack Frame        : Full (w/ debug)                                     *
     4397                   ;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
     4398                   ;******************************************************************************
     4399 0000076b          _Process_Erase_Scratchpad:
     4400                           .sym    _m,1,30,1,32
     4401                           .sym    _i,2,14,1,32
     4402                           .line   1
     4403                   ;----------------------------------------------------------------------
     4404                   ; 736 | void Process_Erase_Scratchpad(void)                                    
     4405                   ; 738 | unsigned int* m;                                                       
     4406                   ; 739 | unsigned int i;                                                        
     4407                   ;----------------------------------------------------------------------
     4408 0000076b 0f2b0000         push      fp
     4409 0000076c 500b0014         ldiu      sp,fp
     4410 0000076d 02740002         addi      2,sp
     4411                           .line   6
     4412                   ;----------------------------------------------------------------------
     4413                   ; 741 | m = (unsigned int*) MEM_LOC;                                           
     4414                   ;----------------------------------------------------------------------
     4415 0000076e 08700000-        ldp       @CL71,DP
     4416 0000076f 50200046-        ldiu      @CL71,r0              ; |741| 
     4417 00000770 15400301         sti       r0,*+fp(1)            ; |741| 
     4418                           .line   7
     4419                   ;----------------------------------------------------------------------
     4420                   ; 742 | for (i=0;i<FLASH_SECTOR_SIZE;i++)                                      
     4421                   ;----------------------------------------------------------------------
     4422 00000771 50600000         ldiu      0,r0                  ; |742| 
     4423 00000772 15400302         sti       r0,*+fp(2)            ; |742| 
     4424 00000773 50010000         ldiu      r0,r1
     4425 00000774 08700000-        ldp       @CL72,DP
     4426 00000775 04a10047-        cmpi      @CL72,r1              ; |742| 
     4427 00000776 6a040009         bhs       L202                  ; |742| 
     4428                   ;*      Branch Occurs to L202           ; |742| 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   83

     4429 00000777          L201:        
     4430                           .line   8
     4431                   ;----------------------------------------------------------------------
     4432                   ; 743 | m[i] = 0x00000000;                                                     
     4433                   ;----------------------------------------------------------------------
     4434 00000777 50510301         ldiu      *+fp(1),ir0           ; |743| 
     4435 00000778 50480302         ldiu      *+fp(2),ar0           ; |743| 
     4436 00000779 15404000         sti       r0,*+ar0(ir0)         ; |743| 
     4437                           .line   7
     4438 0000077a 50610001         ldiu      1,r1                  ; |742| 
     4439 0000077b 02410302         addi      *+fp(2),r1            ; |742| Unsigned
     4440 0000077c 15410302         sti       r1,*+fp(2)            ; |742| 
     4441 0000077d 08700000-        ldp       @CL72,DP
     4442 0000077e 04a10047-        cmpi      @CL72,r1              ; |742| 
     4443 0000077f 6a01fff7         blo       L201                  ; |742| 
     4444                   ;*      Branch Occurs to L201           ; |742| 
     4445 00000780          L202:        
     4446                           .line   10
     4447                   ;----------------------------------------------------------------------
     4448                   ; 745 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
     4449                   ;     | e */                                                                   
     4450                   ;----------------------------------------------------------------------
     4451 00000780 08700000-        ldp       @CL33,DP
     4452 00000781 50280020-        ldiu      @CL33,ar0             ; |745| 
     4453 00000782 08700000-        ldp       @CL60,DP
     4454 00000783 5020003b-        ldiu      @CL60,r0              ; |745| 
     4455 00000784 08700000-        ldp       @CL19,DP
     4456 00000785 5042c000         ldiu      *ar0,r2               ; |745| 
     4457 00000786 502a0012-        ldiu      @CL19,ar2             ; |745| 
     4458 00000787 70000000         callu     r0                    ; far call to _Put      ; |745| 
     4459                                                           ; |745| Far Call Occurs
     4460                           .line   11
     4461                   ;----------------------------------------------------------------------
     4462                   ; 746 | Put(&PORT.TXbuf, PORT.func);
     4463                   ;     |  /* function */                                                        
     4464                   ;----------------------------------------------------------------------
     4465 00000788 08700000-        ldp       @CL26,DP
     4466 00000789 50280019-        ldiu      @CL26,ar0             ; |746| 
     4467 0000078a 08700000-        ldp       @CL60,DP
     4468 0000078b 5020003b-        ldiu      @CL60,r0              ; |746| 
     4469 0000078c 08700000-        ldp       @CL19,DP
     4470 0000078d 5042c000         ldiu      *ar0,r2               ; |746| 
     4471 0000078e 502a0012-        ldiu      @CL19,ar2             ; |746| 
     4472 0000078f 70000000         callu     r0                    ; far call to _Put      ; |746| 
     4473                                                           ; |746| Far Call Occurs
     4474                           .line   12
     4475                                                           ; Begin Epilog Code
     4476 00000790 50410b01         ldiu      *-fp(1),r1
     4477 00000791 504bc300         ldiu      *fp,fp
     4478                                                           ; Unallocate the Frame
     4479 00000792 18740004         subi      4,sp
     4480 00000793 68000001         bu        r1
     4481                   ;*      Branch Occurs to r1 
     4482                           .endfunc        747,000000000h,2
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   84

     4483                   
     4484                   
     4485 00000794                  .sect    ".text"
     4486                   
     4487                           .global _Process_Store_Scratchpad
     4488                           .sym    _Process_Store_Scratchpad,_Process_Store_Scratchpad,32,2,0
     4489                           .func   749
     4490                   ;******************************************************************************
     4491                   ;* FUNCTION NAME: _Process_Store_Scratchpad                                   *
     4492                   ;*                                                                            *
     4493                   ;*   Architecture       : TMS320C33                                           *
     4494                   ;*   Calling Convention : TI Standard Register Parameters                     *
     4495                   ;*   Function Uses Regs : r0,r2,r3,ar0,ar2,st                                 *
     4496                   ;*   Regs Saved         :                                                     *
     4497                   ;*   Stack Frame        : Full (w/ debug)                                     *
     4498                   ;*   Total Frame Size   : 2 Call + 0 Parm + 5 Auto + 0 SOE = 7 words          *
     4499                   ;******************************************************************************
     4500 00000794          _Process_Store_Scratchpad:
     4501                   ;* ar2   assigned to _addr
     4502                           .sym    _addr,10,14,17,32
     4503                           .sym    _addr,1,14,1,32
     4504                           .sym    _m,2,30,1,32
     4505                           .sym    _f,3,30,1,32
     4506                           .sym    _i,4,14,1,32
     4507                           .sym    _SIZE,5,14,1,32
     4508                           .line   1
     4509                   ;----------------------------------------------------------------------
     4510                   ; 749 | void Process_Store_Scratchpad(unsigned int addr)                       
     4511                   ;----------------------------------------------------------------------
     4512 00000794 0f2b0000         push      fp
     4513 00000795 500b0014         ldiu      sp,fp
     4514 00000796 02740005         addi      5,sp
     4515                           .line   2
     4516                   ;----------------------------------------------------------------------
     4517                   ; 751 | unsigned int* m;                                                       
     4518                   ; 752 | unsigned int* f;                                                       
     4519                   ; 753 | unsigned int i;                                                        
     4520                   ; 754 | unsigned int SIZE;                                                     
     4521                   ;----------------------------------------------------------------------
     4522 00000797 154a0301         sti       ar2,*+fp(1)           ; |750| 
     4523                           .line   8
     4524                   ;----------------------------------------------------------------------
     4525                   ; 756 | m = (unsigned int*) MEM_LOC;                                           
     4526                   ;----------------------------------------------------------------------
     4527 00000798 08700000-        ldp       @CL71,DP
     4528 00000799 50200046-        ldiu      @CL71,r0              ; |756| 
     4529 0000079a 15400302         sti       r0,*+fp(2)            ; |756| 
     4530                           .line   9
     4531                   ;----------------------------------------------------------------------
     4532                   ; 757 | f = (unsigned int*) addr;                                              
     4533                   ;----------------------------------------------------------------------
     4534 0000079b 5000000a         ldiu      ar2,r0
     4535 0000079c 15400303         sti       r0,*+fp(3)            ; |757| 
     4536                           .line   11
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   85

     4537                   ;----------------------------------------------------------------------
     4538                   ; 759 | if ( f < (FLASH_LOC+FLASH_SECTOR_SIZE) )                               
     4539                   ;----------------------------------------------------------------------
     4540 0000079d 08700000-        ldp       @CL73,DP
     4541 0000079e 04a00048-        cmpi      @CL73,r0              ; |759| 
     4542 0000079f 6a040007         bhs       L207                  ; |759| 
     4543                   ;*      Branch Occurs to L207           ; |759| 
     4544                           .line   13
     4545                   ;----------------------------------------------------------------------
     4546                   ; 761 | SIZE = FLASH_CFGB_SIZE;                                                
     4547                   ;----------------------------------------------------------------------
     4548 000007a0 50601000         ldiu      4096,r0               ; |761| 
     4549 000007a1 15400305         sti       r0,*+fp(5)            ; |761| 
     4550                           .line   14
     4551                   ;----------------------------------------------------------------------
     4552                   ; 762 | f = (unsigned int*)((unsigned int)f & 0xFFF000);                       
     4553                   ; 764 | else                                                                   
     4554                   ;----------------------------------------------------------------------
     4555 000007a2 08700000-        ldp       @CL74,DP
     4556 000007a3 50200049-        ldiu      @CL74,r0              ; |762| 
     4557 000007a4 02c00303         and       *+fp(3),r0            ; |762| 
     4558 000007a5 15400303         sti       r0,*+fp(3)            ; |762| 
     4559 000007a6 6a000007         bu        L208                  ; |748| 
     4560                   ;*      Branch Occurs to L208           ; |748| 
     4561 000007a7          L207:        
     4562                           .line   18
     4563                   ;----------------------------------------------------------------------
     4564                   ; 766 | SIZE = FLASH_SECTOR_SIZE;                                              
     4565                   ;----------------------------------------------------------------------
     4566 000007a7 08700000-        ldp       @CL72,DP
     4567 000007a8 50200047-        ldiu      @CL72,r0              ; |766| 
     4568 000007a9 15400305         sti       r0,*+fp(5)            ; |766| 
     4569                           .line   19
     4570                   ;----------------------------------------------------------------------
     4571                   ; 767 | f = (unsigned int*)((unsigned int)f & 0xFF8000);                       
     4572                   ;----------------------------------------------------------------------
     4573 000007aa 08700000-        ldp       @CL75,DP
     4574 000007ab 5020004a-        ldiu      @CL75,r0              ; |767| 
     4575 000007ac 02c00303         and       *+fp(3),r0            ; |767| 
     4576 000007ad 15400303         sti       r0,*+fp(3)            ; |767| 
     4577 000007ae          L208:        
     4578                           .line   22
     4579                   ;----------------------------------------------------------------------
     4580                   ; 770 | LEDR_ON; LEDG_OFF;                                                     
     4581                   ;----------------------------------------------------------------------
     4582 000007ae 0f350000         push    ST                      
     4583 000007af 03752000         andn    2000h, ST       
     4584 000007b0 08700000-        ldp       @CL76,DP
     4585 000007b1 5028004b-        ldiu      @CL76,ar0             ; |770| 
     4586 000007b2 5060007f         ldiu      127,r0                ; |770| 
     4587 000007b3 21a0c000         and3      r0,*ar0,r0            ; |770| 
     4588 000007b4 1540c000         sti       r0,*ar0               ; |770| 
     4589 000007b5 0e350000         pop             ST                      
     4590 000007b6 0f350000         push    ST                      
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   86

     4591 000007b7 03752000         andn    2000h, ST       
     4592 000007b8 50600040         ldiu      64,r0                 ; |770| 
     4593 000007b9 25a0c000         or3       r0,*ar0,r0            ; |770| 
     4594 000007ba 1540c000         sti       r0,*ar0               ; |770| 
     4595 000007bb 0e350000         pop             ST                      
     4596                           .line   23
     4597                   ;----------------------------------------------------------------------
     4598                   ; 771 | i = FLASH_ERASE_BLK(f);                                                
     4599                   ;----------------------------------------------------------------------
     4600 000007bc 08700000-        ldp       @CL77,DP
     4601 000007bd 504a0303         ldiu      *+fp(3),ar2           ; |771| 
     4602 000007be 5020004c-        ldiu      @CL77,r0              ; |771| 
     4603 000007bf 70000000         callu     r0                    ; far call to _FLASH_ERASE_BLK  ; |771| 
     4604                                                           ; |771| Far Call Occurs
     4605 000007c0 15400304         sti       r0,*+fp(4)            ; |771| 
     4606                           .line   24
     4607                   ;----------------------------------------------------------------------
     4608                   ; 772 | i |= FLASH_WRITE_BLK(f, m, SIZE);                                      
     4609                   ;----------------------------------------------------------------------
     4610 000007c1 08700000-        ldp       @CL78,DP
     4611 000007c2 5020004d-        ldiu      @CL78,r0              ; |772| 
     4612 000007c3 504a0303         ldiu      *+fp(3),ar2           ; |772| 
     4613 000007c4 50420302         ldiu      *+fp(2),r2            ; |772| 
     4614 000007c5 50430305         ldiu      *+fp(5),r3            ; |772| 
     4615 000007c6 70000000         callu     r0                    ; far call to _FLASH_WRITE_BLK  ; |772| 
     4616                                                           ; |772| Far Call Occurs
     4617 000007c7 10400304         or        *+fp(4),r0            ; |772| 
     4618 000007c8 15400304         sti       r0,*+fp(4)            ; |772| 
     4619                           .line   26
     4620                   ;----------------------------------------------------------------------
     4621                   ; 774 | if (i)                                                                 
     4622                   ;----------------------------------------------------------------------
     4623 000007c9 04e00000         cmpi      0,r0                  ; |774| 
     4624 000007ca 6a050005         beq       L210                  ; |774| 
     4625                   ;*      Branch Occurs to L210           ; |774| 
     4626                           .line   28
     4627                   ;----------------------------------------------------------------------
     4628                   ; 776 | MB_exception(mb_excp_memory_error);                                    
     4629                   ;----------------------------------------------------------------------
     4630 000007cb 08700000-        ldp       @CL70,DP
     4631 000007cc 506a0008         ldiu      8,ar2                 ; |776| 
     4632 000007cd 50200045-        ldiu      @CL70,r0              ; |776| 
     4633 000007ce 70000000         callu     r0                    ; far call to _MB_exception     ; |776| 
     4634                                                           ; |776| Far Call Occurs
     4635                           .line   29
     4636                   ;----------------------------------------------------------------------
     4637                   ; 777 | return;                                                                
     4638                   ;----------------------------------------------------------------------
     4639 000007cf 6a00002b         bu        L211                  ; |777| 
     4640                   ;*      Branch Occurs to L211           ; |777| 
     4641 000007d0          L210:        
     4642                           .line   32
     4643                   ;----------------------------------------------------------------------
     4644                   ; 780 | Put(&PORT.TXbuf, (int)PORT.Slave_ID);                           /* slav
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   87

     4645                   ;     | e */                                                                   
     4646                   ;----------------------------------------------------------------------
     4647 000007d0 08700000-        ldp       @CL33,DP
     4648 000007d1 50280020-        ldiu      @CL33,ar0             ; |780| 
     4649 000007d2 08700000-        ldp       @CL60,DP
     4650 000007d3 5020003b-        ldiu      @CL60,r0              ; |780| 
     4651 000007d4 08700000-        ldp       @CL19,DP
     4652 000007d5 5042c000         ldiu      *ar0,r2               ; |780| 
     4653 000007d6 502a0012-        ldiu      @CL19,ar2             ; |780| 
     4654 000007d7 70000000         callu     r0                    ; far call to _Put      ; |780| 
     4655                                                           ; |780| Far Call Occurs
     4656                           .line   33
     4657                   ;----------------------------------------------------------------------
     4658                   ; 781 | Put(&PORT.TXbuf, PORT.func);
     4659                   ;     |  /* function */                                                        
     4660                   ;----------------------------------------------------------------------
     4661 000007d8 08700000-        ldp       @CL26,DP
     4662 000007d9 50280019-        ldiu      @CL26,ar0             ; |781| 
     4663 000007da 08700000-        ldp       @CL60,DP
     4664 000007db 5020003b-        ldiu      @CL60,r0              ; |781| 
     4665 000007dc 08700000-        ldp       @CL19,DP
     4666 000007dd 5042c000         ldiu      *ar0,r2               ; |781| 
     4667 000007de 502a0012-        ldiu      @CL19,ar2             ; |781| 
     4668 000007df 70000000         callu     r0                    ; far call to _Put      ; |781| 
     4669                                                           ; |781| Far Call Occurs
     4670                           .line   34
     4671                   ;----------------------------------------------------------------------
     4672                   ; 782 | Put(&PORT.TXbuf, ((unsigned int)f)>>24);                               
     4673                   ;----------------------------------------------------------------------
     4674 000007e0 08700000-        ldp       @CL60,DP
     4675 000007e1 50420303         ldiu      *+fp(3),r2            ; |782| 
     4676 000007e2 5020003b-        ldiu      @CL60,r0              ; |782| 
     4677 000007e3 09e2ffe8         lsh       -24,r2                ; |782| 
     4678 000007e4 08700000-        ldp       @CL19,DP
     4679 000007e5 502a0012-        ldiu      @CL19,ar2             ; |782| 
     4680 000007e6 70000000         callu     r0                    ; far call to _Put      ; |782| 
     4681                                                           ; |782| Far Call Occurs
     4682                           .line   35
     4683                   ;----------------------------------------------------------------------
     4684                   ; 783 | Put(&PORT.TXbuf, ((unsigned int)f)>>16);                               
     4685                   ;----------------------------------------------------------------------
     4686 000007e7 08700000-        ldp       @CL60,DP
     4687 000007e8 5020003b-        ldiu      @CL60,r0              ; |783| 
     4688 000007e9 50420303         ldiu      *+fp(3),r2            ; |783| 
     4689 000007ea 09e2fff0         lsh       -16,r2                ; |783| 
     4690 000007eb 08700000-        ldp       @CL19,DP
     4691 000007ec 502a0012-        ldiu      @CL19,ar2             ; |783| 
     4692 000007ed 70000000         callu     r0                    ; far call to _Put      ; |783| 
     4693                                                           ; |783| Far Call Occurs
     4694                           .line   36
     4695                   ;----------------------------------------------------------------------
     4696                   ; 784 | Put(&PORT.TXbuf, ((unsigned int)f)>>8);                                
     4697                   ;----------------------------------------------------------------------
     4698 000007ee 08700000-        ldp       @CL60,DP
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   88

     4699 000007ef 5020003b-        ldiu      @CL60,r0              ; |784| 
     4700 000007f0 50420303         ldiu      *+fp(3),r2            ; |784| 
     4701 000007f1 09e2fff8         lsh       -8,r2                 ; |784| 
     4702 000007f2 08700000-        ldp       @CL19,DP
     4703 000007f3 502a0012-        ldiu      @CL19,ar2             ; |784| 
     4704 000007f4 70000000         callu     r0                    ; far call to _Put      ; |784| 
     4705                                                           ; |784| Far Call Occurs
     4706                           .line   37
     4707                   ;----------------------------------------------------------------------
     4708                   ; 785 | Put(&PORT.TXbuf, ((unsigned int)f));                                   
     4709                   ;----------------------------------------------------------------------
     4710 000007f5 08700000-        ldp       @CL60,DP
     4711 000007f6 5020003b-        ldiu      @CL60,r0              ; |785| 
     4712 000007f7 08700000-        ldp       @CL19,DP
     4713 000007f8 502a0012-        ldiu      @CL19,ar2             ; |785| 
     4714 000007f9 50420303         ldiu      *+fp(3),r2            ; |785| 
     4715 000007fa 70000000         callu     r0                    ; far call to _Put      ; |785| 
     4716                                                           ; |785| Far Call Occurs
     4717 000007fb          L211:        
     4718                           .line   38
     4719                                                           ; Begin Epilog Code
     4720 000007fb 50410b01         ldiu      *-fp(1),r1
     4721 000007fc 504bc300         ldiu      *fp,fp
     4722                                                           ; Unallocate the Frame
     4723 000007fd 18740007         subi      7,sp
     4724 000007fe 68000001         bu        r1
     4725                   ;*      Branch Occurs to r1 
     4726                           .endfunc        786,000000000h,5
     4727                   
     4728                   
     4729                   ;******************************************************************************
     4730                   ;* CONSTANT TABLE                                                             *
     4731                   ;******************************************************************************
     4732 00000000                  .sect   ".const"
     4733 00000000                  .bss    CL1,1
     4734 00000001                  .bss    CL2,1
     4735 00000002                  .bss    CL3,1
     4736 00000003                  .bss    CL4,1
     4737 00000004                  .bss    CL5,1
     4738 00000005                  .bss    CL6,1
     4739 00000006                  .bss    CL7,1
     4740 00000007                  .bss    CL8,1
     4741 00000008                  .bss    CL9,1
     4742 00000009                  .bss    CL10,1
     4743 0000000a                  .bss    CL11,1
     4744 0000000b                  .bss    CL12,1
     4745 0000000c                  .bss    CL13,1
     4746 0000000d                  .bss    CL14,1
     4747 0000000e                  .bss    CL15,1
     4748 0000000f                  .bss    CL16,1
     4749 00000010                  .bss    CL17,1
     4750 00000011                  .bss    CL18,1
     4751 00000012                  .bss    CL19,1
     4752 00000013                  .bss    CL20,1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   89

     4753 00000014                  .bss    CL21,1
     4754 00000015                  .bss    CL22,1
     4755 00000016                  .bss    CL23,1
     4756 00000017                  .bss    CL24,1
     4757 00000018                  .bss    CL25,1
     4758 00000019                  .bss    CL26,1
     4759 0000001a                  .bss    CL27,1
     4760 0000001b                  .bss    CL28,1
     4761 0000001c                  .bss    CL29,1
     4762 0000001d                  .bss    CL30,1
     4763 0000001e                  .bss    CL31,1
     4764 0000001f                  .bss    CL32,1
     4765 00000020                  .bss    CL33,1
     4766 00000021                  .bss    CL34,1
     4767 00000022                  .bss    CL35,1
     4768 00000023                  .bss    CL36,1
     4769 00000024                  .bss    CL37,1
     4770 00000025                  .bss    CL38,1
     4771 00000026                  .bss    CL39,1
     4772 00000027                  .bss    CL40,1
     4773 00000028                  .bss    CL41,1
     4774 00000029                  .bss    CL42,1
     4775 0000002a                  .bss    CL43,1
     4776 0000002b                  .bss    CL44,1
     4777 0000002c                  .bss    CL45,1
     4778 0000002d                  .bss    CL46,1
     4779 0000002e                  .bss    CL47,1
     4780 0000002f                  .bss    CL48,1
     4781 00000030                  .bss    CL49,1
     4782 00000031                  .bss    CL50,1
     4783 00000032                  .bss    CL51,1
     4784 00000033                  .bss    CL52,1
     4785 00000034                  .bss    CL53,1
     4786 00000035                  .bss    CL54,1
     4787 00000036                  .bss    CL55,1
     4788 00000037                  .bss    CL56,1
     4789 00000038                  .bss    CL57,1
     4790 00000039                  .bss    CL58,1
     4791 0000003a                  .bss    CL59,1
     4792 0000003b                  .bss    CL60,1
     4793 0000003c                  .bss    CL61,1
     4794 0000003d                  .bss    CL62,1
     4795 0000003e                  .bss    CL63,1
     4796 0000003f                  .bss    CL64,1
     4797 00000040                  .bss    CL65,1
     4798 00000041                  .bss    CL66,1
     4799 00000042                  .bss    CL67,1
     4800 00000043                  .bss    CL68,1
     4801 00000044                  .bss    CL69,1
     4802 00000045                  .bss    CL70,1
     4803 00000046                  .bss    CL71,1
     4804 00000047                  .bss    CL72,1
     4805 00000048                  .bss    CL73,1
     4806 00000049                  .bss    CL74,1
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   90

     4807 0000004a                  .bss    CL75,1
     4808 0000004b                  .bss    CL76,1
     4809 0000004c                  .bss    CL77,1
     4810 0000004d                  .bss    CL78,1
     4811 0000004e                  .bss    CL79,1
     4812 0000004f                  .bss    CL80,1
     4813 00000050                  .bss    CL81,1
     4814 00000051                  .bss    CL82,1
     4815 00000052                  .bss    CL83,1
     4816 00000053                  .bss    CL84,1
     4817 00000054                  .bss    CL85,1
     4818 00000055                  .bss    CL86,1
     4819 00000056                  .bss    CL87,1
     4820                   
     4821 00000000                  .sect   ".cinit"
     4822 00000000 00000057         .field          87,32
     4823 00000001 00000000-        .field          CL1+0,32
     4824 00000002 00000000!        .field          _Setup_UART,32
     4825 00000003 00000007!        .field          _PORT+7,32
     4826 00000004 0000001e'        .field          _WDOG_P,32
     4827 00000005 00000008!        .field          _PORT+8,32
     4828 00000006 000000cc'        .field          _MODBUS_RX_ID,32
     4829 00000007 00000000!        .field          _TIMER1_COUNTER,32
     4830 00000008 00000001!        .field          _PORT+1,32
     4831 00000009 00000006!        .field          _PORT+6,32
     4832 0000000a 00001021!        .field          _PORT+4129,32
     4833 0000000b 00000000!        .field          _Clear_RX,32
     4834 0000000c 00000000!        .field          _HW_VER,32
     4835 0000000d 00900012         .field          9437202,32
     4836 0000000e 00000000!        .field          _UART,32
     4837 0000000f 00000000!        .field          _BOOTPORT,32
     4838 00000010 00000069'        .field          _TX_P1,32
     4839 00000011 00000003!        .field          _PORT+3,32
     4840 00000012 00000092'        .field          _TX_S,32
     4841 00000013 00000001!        .field          _UART+1,32
     4842 00000014 0000000c!        .field          _PORT+12,32
     4843 00000015 00000000!        .field          _Get,32
     4844 00000016 00000009!        .field          _PORT+9,32
     4845 00000017 00001026!        .field          _PORT+4134,32
     4846 00000018 00001024!        .field          _PORT+4132,32
     4847 00000019 00002037!        .field          _PORT+8247,32
     4848 0000001a 000000ee'        .field          _MODBUS_RX_FUNCTION,32
     4849 0000001b 0000000a!        .field          _PORT+10,32
     4850 0000001c 000001d7'        .field          _MODBUS_RX_nDATA,32
     4851 0000001d 000001fc'        .field          _MODBUS_RX_CRC,32
     4852 0000001e 0000019b'        .field          _MODBUS_RX_nw,32
     4853 0000001f 0000016f'        .field          _MODBUS_RX_n,32
     4854 00000020 0000015f'        .field          SW0,32
     4855 00000021 00002036!        .field          _PORT+8246,32
     4856 00000022 0000000b!        .field          _PORT+11,32
     4857 00000023 00001025!        .field          _PORT+4133,32
     4858 00000024 00001028!        .field          _PORT+4136,32
     4859 00000025 00001029!        .field          _PORT+4137,32
     4860 00000026 0000102a!        .field          _PORT+4138,32
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   91

     4861 00000027 0000102b!        .field          _PORT+4139,32
     4862 00000028 0000102c!        .field          _PORT+4140,32
     4863 00000029 0000102d!        .field          _PORT+4141,32
     4864 0000002a 00000000!        .field          _Clear,32
     4865 0000002b 00900004         .field          9437188,32
     4866 0000002c 00000000!        .field          _Exit_to_App,32
     4867 0000002d 0001c200         .field          115200,32
     4868 0000002e 00009600         .field          38400,32
     4869 0000002f 0000e100         .field          57600,32
     4870 00000030 000006fb'        .field          _Process_Restore_Factory_Defaults,32
     4871 00000031 00000794'        .field          _Process_Store_Scratchpad,32
     4872 00000032 0000076b'        .field          _Process_Erase_Scratchpad,32
     4873 00000033 00000737'        .field          _Process_Erase_Cfg,32
     4874 00000034 000005d8'        .field          _Process_Read_ESN,32
     4875 00000035 00000625'        .field          _Process_Write_ESN,32
     4876 00000036 00000376'        .field          _Process_Read,32
     4877 00000037 0000102e!        .field          _PORT+4142,32
     4878 00000038 000003f8'        .field          _Process_Write_Scratchpad,32
     4879 00000039 000004aa'        .field          _Process_Write,32
     4880 0000003a 0000066c'        .field          _Process_Set_Entry_Point,32
     4881 0000003b 000002fa'        .field          SW1,32
     4882 0000003c 0000000f!        .field          _PORT+15,32
     4883 0000003d 00000000!        .field          _Put,32
     4884 0000003e 00000002!        .field          _UART+2,32
     4885 0000003f 0000003a'        .field          _TX_P,32
     4886 00000040 00000002!        .field          _PORT+2,32
     4887 00000041 00000000!        .field          _FLASH_SIZE,32
     4888 00000042 00400000         .field          4194304,32
     4889 00000043 00800000         .field          8388608,32
     4890 00000044 00808000         .field          8421376,32
     4891 00000045 00809800         .field          8427520,32
     4892 00000046 0080a000         .field          8429568,32
     4893 00000047 00000357'        .field          _MB_exception,32
     4894 00000048 00a00000         .field          10485760,32
     4895 00000049 00008000         .field          32768,32
     4896 0000004a 00408000         .field          4227072,32
     4897 0000004b 00fff000         .field          16773120,32
     4898 0000004c 00ff8000         .field          16744448,32
     4899 0000004d 00900013         .field          9437203,32
     4900 0000004e 00000000!        .field          _FLASH_ERASE_BLK,32
     4901 0000004f 00000000!        .field          _FLASH_WRITE_BLK,32
     4902 00000050 00000000!        .field          _ESN,32
     4903 00000051 00000000!        .field          _FLASH_WRITE_ESN_USER,32
     4904 00000052 00000004!        .field          _ESN+4,32
     4905 00000053 00000000!        .field          _FLASH_READ_ESN_USER,32
     4906 00000054 00400000         .field          4194304,32
     4907 00000055 00401000         .field          4198400,32
     4908 00000056 00418000         .field          4292608,32
     4909 00000057 000006c2'        .field          _Copy_Block,32
     4910 00000058 00410000         .field          4259840,32
     4911                   
     4912 000007ff                  .sect   ".text"
     4913                   ;******************************************************************************
     4914                   ;* UNDEFINED EXTERNAL REFERENCES                                              *
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   92

     4915                   ;******************************************************************************
     4916                   
     4917                           .global _Clear
     4918                   
     4919                           .global _Put
     4920                   
     4921                           .global _Get
     4922                   
     4923                           .global _FLASH_SIZE
     4924                   
     4925                           .global _FLASH_ERASE_BLK
     4926                   
     4927                           .global _FLASH_WRITE_BLK
     4928                   
     4929                           .global _FLASH_READ_ESN_USER
     4930                   
     4931                           .global _FLASH_WRITE_ESN_USER
     4932                   
     4933                           .global _PORT
     4934                   
     4935                           .global _UART
     4936                   
     4937                           .global _Setup_UART
     4938                   
     4939                           .global _Clear_RX
     4940                   
     4941                           .global _ESN
     4942                   
     4943                           .global _HW_VER
     4944                   
     4945                           .global _Exit_to_App
     4946                   
     4947                           .global _BOOTPORT
     4948                   
     4949                           .global _TIMER1_COUNTER
     4950                           .global MPY_K30

 No Errors,  No Warnings
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   93

LABEL                            VALUE       DEFN    REF

.BIGMODEL                        00000001       0 
.C30                             00000000       0 
.C30INTERRUPT                    00000000       0 
.C31                             00000000       0 
.C32                             00000000       0 
.C33                             00000001       0 
.C3X                             00000001       0 
.C3x                             00000001       0 
.C40                             00000000       0 
.C44                             00000000       0 
.C4X                             00000000       0 
.C4x                             00000000       0 
.REGPARM                         00000001       0 
.TMS320C30                       00000001       0 
.TMS320C31                       00000000       0 
.TMS320C32                       00000000       0 
.TMS320C40                       00000000       0 
.TMS320C44                       00000000       0 
.TMS320xx                        00000021       0 
.tms320C30                       00000001       0 
.tms320C31                       00000000       0 
.tms320C32                       00000000       0 
.tms320C40                       00000000       0 
.tms320C44                       00000000       0 
.tms320xx                        00000021       0 
.tmx320C40                       00000000       0 
CL1                              00000000-   4733     85     87   1598   1599 
                                                    1662   1664   4823 
CL10                             00000009-   4742    183    184    480    481 
                                                    2074   2075 
CL11                             0000000a-   4743    249    250    439    440 
CL12                             0000000b-   4744    262    263    452    453 
CL13                             0000000c-   4745    282    284    397    398 
                                                     469    471 
CL14                             0000000d-   4746    279    281    370    371 
                                                     395    396    466    468 
                                                     523    525   2015   2017 
                                                    2034   2035 
CL15                             0000000e-   4747    295    296 
CL16                             0000000f-   4748    302    303 
CL17                             00000010-   4749    355    356 
CL18                             00000011-   4750    372    374    526    528 
                                                    2018   2020 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   94

LABEL                            VALUE       DEFN    REF

CL19                             00000012-   4751    391    392   1481   1482 
                                                    1988   1989   1998   2000 
                                                    2144   2146   2158   2160 
                                                    2171   2172   2324   2326 
                                                    2338   2340   2352   2353 
                                                    2362   2363   2387   2389 
                                                    2398   2400   2411   2413 
                                                    2422   2424   2715   2717 
                                                    2729   2731   2742   2743 
                                                    2754   2755   2766   2767 
                                                    2776   2777   2789   2791 
                                                    2801   2803   3397   3399 
                                                    3411   3413   3424   3425 
                                                    3436   3437   3448   3449 
                                                    3458   3459   3471   3473 
                                                    3483   3485   3540   3541 
                                                    3554   3556   3581   3583 
                                                    3594   3596   3609   3611 
                                                    3622   3624   3779   3781 
                                                    3794   3795   3975   3977 
                                                    3989   3991   4241   4243 
                                                    4255   4257   4354   4355 
                                                    4368   4370   4455   4457 
                                                    4469   4471   4651   4653 
                                                    4665   4667   4678   4679 
                                                    4690   4691   4702   4703 
                                                    4712   4713 
CL2                              00000001-   4734     94     95    293    294 
                                                     353    354    488    489 
                                                    2046   2047 
CL20                             00000013-   4752    389    390 
CL21                             00000014-   4753    583    585    678    679 
                                                     709    710    734    735 
                                                     759    760    785    786 
                                                     811    812    836    837 
                                                     953    954    962    992 
                                                     994   1062   1063   1071 
                                                    1109   1112   1119   1189 
                                                    1190   1198   1222   1223 
                                                    1308   1309   1317 
CL22                             00000015-   4754    579    581    662    664 
                                                     988    990   1103   1105 
                                                    1107   1357   1358 
CL23                             00000016-   4755    577    578    660    661 
                                                     986    987   1096   1100 
                                                    1101 
CL24                             00000017-   4756    592    593 
CL25                             00000018-   4757    602    603 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   95

LABEL                            VALUE       DEFN    REF

CL26                             00000019-   4758    666    668    853    854 
                                                    1897   1898   2154   2155 
                                                    2334   2335   2725   2726 
                                                    3407   3408   3550   3551 
                                                    3789   3790   3985   3986 
                                                    4251   4252   4364   4365 
                                                    4465   4466   4661   4662 
CL27                             0000001a-   4759    688    689    769    770 
                                                     821    822   1003   1004 
                                                    1129   1130 
CL28                             0000001b-   4760    719    720    744    745 
                                                    1232   1233 
CL29                             0000001c-   4761    795    796 
CL3                              00000002-   4735     96     97    490    491 
CL30                             0000001d-   4762    846    847 
CL31                             0000001e-   4763    882    884 
CL32                             0000001f-   4764   1347   1348   2066   2067 
CL33                             00000020-   4765   1355   1356   2140   2141 
                                                    2320   2321   2711   2712 
                                                    3393   3394   3536   3537 
                                                    3775   3776   3971   3972 
                                                    4237   4238   4350   4351 
                                                    4451   4452   4647   4648 
CL34                             00000021-   4766   1365   1366 
CL35                             00000022-   4767   1397   1398   1620   1621 
                                                    1796   1797 
CL36                             00000023-   4768   1412   1413   1635   1636 
CL37                             00000024-   4769   1428   1429 
CL38                             00000025-   4770   1444   1445 
CL39                             00000026-   4771   1454   1455 
CL4                              00000003-   4736    103    104    191    192 
                                                     600    601    686    687 
                                                     717    718    742    743 
                                                     767    768    793    794 
                                                     819    820    844    845 
                                                    1001   1002   1127   1128 
                                                    1230   1231   2082   2083 
CL40                             00000027-   4772   1469   1470 
CL41                             00000028-   4773   1479   1480 
CL42                             00000029-   4774   1499   1500   1531   1532 
                                                    1577   1578   1950   1951 
CL43                             0000002a-   4775   1567   1568 
CL44                             0000002b-   4776   1596   1597   1690   1691 
CL45                             0000002c-   4777   1682   1683 
CL46                             0000002d-   4778   1686   1687 
CL47                             0000002e-   4779   1713   1714 
CL48                             0000002f-   4780   1729   1731 
CL49                             00000030-   4781   1746   1747 
CL5                              00000004-   4737    105    106    193    194 
                                                    2084   2085 
CL50                             00000031-   4782   1762   1763 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   96

LABEL                            VALUE       DEFN    REF

CL51                             00000032-   4783   1778   1779 
CL52                             00000033-   4784   1794   1795 
CL53                             00000034-   4785   1812   1815 
CL54                             00000035-   4786   1830   1831   1850   1851 
CL55                             00000036-   4787   1833   1835 
CL56                             00000037-   4788   1853   1855 
CL57                             00000038-   4789   1870   1872 
CL58                             00000039-   4790   1926   1928 
CL59                             0000003a-   4791   1971   1972 
CL6                              00000005-   4738    114    115    165    166 
                                                     304    305    499    500 
                                                    2057   2058 
CL60                             0000003b-   4792   1985   1987   1996   1997 
                                                    2142   2143   2156   2157 
                                                    2169   2170   2322   2323 
                                                    2336   2337   2348   2349 
                                                    2360   2361   2384   2386 
                                                    2396   2397   2408   2409 
                                                    2420   2421   2713   2714 
                                                    2727   2728   2738   2740 
                                                    2750   2751   2762   2763 
                                                    2774   2775   2786   2787 
                                                    2799   2800   3395   3396 
                                                    3409   3410   3420   3422 
                                                    3432   3433   3444   3445 
                                                    3456   3457   3468   3469 
                                                    3481   3482   3538   3539 
                                                    3552   3553   3578   3580 
                                                    3592   3593   3606   3607 
                                                    3620   3621   3777   3778 
                                                    3791   3792   3973   3974 
                                                    3987   3988   4239   4240 
                                                    4253   4254   4352   4353 
                                                    4366   4367   4453   4454 
                                                    4467   4468   4649   4650 
                                                    4663   4664   4674   4676 
                                                    4686   4687   4698   4699 
                                                    4710   4711 
CL61                             0000003c-   4793   2037   2039 
CL62                             0000003d-   4794   2048   2049 
CL63                             0000003e-   4795   2055   2056 
CL64                             0000003f-   4796   2236   2237   2898   2899 
CL65                             00000040-   4797   2251   2253   2256   2258 
                                                    2908   2910   2913   2915 
CL66                             00000041-   4798   2264   2266 
CL67                             00000042-   4799   2271   2273 
CL68                             00000043-   4800   2276   2278 
CL69                             00000044-   4801   2283   2285 
CL7                              00000006-   4739    112    113    163    164 
                                                     497    498 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   97

LABEL                            VALUE       DEFN    REF

CL70                             00000045-   4802   2297   2299   2527   2529 
                                                    2552   2554   2683   2685 
                                                    2926   2928   2951   2953 
                                                    3199   3201   3283   3285 
                                                    3318   3320   3355   3357 
                                                    3748   3750   3954   3956 
                                                    4220   4222   4630   4632 
CL71                             00000046-   4803   2510   2511   2891   2892 
                                                    3852   3853   4048   4049 
                                                    4415   4416   4527   4528 
CL72                             00000047-   4804   2517   2520   2543   2545 
                                                    2942   2944   3017   3018 
                                                    4057   4058   4076   4077 
                                                    4113   4114   4425   4426 
                                                    4441   4442   4566   4567 
CL73                             00000048-   4805   2982   2984   4188   4189 
                                                    4329   4330   4540   4541 
CL74                             00000049-   4806   3006   3007   4555   4556 
CL75                             0000004a-   4807   3032   3033   4573   4574 
CL76                             0000004b-   4808   3250   3251   3904   3905 
                                                    4087   4088   4169   4170 
                                                    4303   4304   4584   4585 
CL77                             0000004c-   4809   3266   3268   3922   3923 
                                                    4103   4105   4321   4322 
                                                    4331   4332   4341   4342 
                                                    4600   4602 
CL78                             0000004d-   4810   3299   3303   3932   3933 
                                                    4115   4118   4610   4611 
CL79                             0000004e-   4811   3576   3577   3590   3591 
                                                    3604   3605   3618   3619 
CL8                              00000007-   4740    122    123    345    346 
                                                     568    569    609    610 
                                                     650    651    904    905 
                                                     945    946    971    972 
                                                    1010   1011   1054   1055 
                                                    1080   1081   1136   1137 
                                                    1181   1182   1207   1208 
                                                    1239   1240   1300   1301 
                                                    1326   1327   2091   2092 
CL80                             0000004f-   4812   3735   3737 
CL81                             00000050-   4813   3766   3767 
CL82                             00000051-   4814   3764   3765 
CL83                             00000052-   4815   3859   3860 
CL84                             00000053-   4816   3920   3921   3934   3937 
CL85                             00000054-   4817   4186   4187   4200   4201 
                                                    4319   4320 
CL86                             00000055-   4818   4190   4191   4204   4205 
CL87                             00000056-   4819   4202   4203   4339   4340 
CL9                              00000008-   4741    173    174    241    242 
                                                     507    508 
FP                               0000000b       7 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   98

LABEL                            VALUE       DEFN    REF

L10                              0000004e'    270    253 
L104                             000002f5'   1925   1903 
L105                             00000302'   1943   1613   1706   1722   1739 
                                                    1755   1771   1787   1805 
                                                    1823   1843   1863   1880 
                                                    1893 
L107                             00000343'   2061   1385   1965 
L108                             00000353'   2095   1334 
L11                              0000005a'    288    268 
L116                             00000391'   2269   2262 
L118                             0000039a'   2281   2274 
L120                             000003a2'   2292   2254   2267   2279   2286 
L121                             000003a7'   2308   2290 
L122                             000003cd'   2379   2440 
L123                             000003f1'   2442   2306   2377 
L127                             0000040c'   2538   2521 
L129                             00000415'   2563   2546 
L130                             0000041f'   2583   2629 
L131                             0000043f'   2631   2581 
L132                             00000446'   2644   2703 
L134                             00000462'   2688   2677 
L135                             0000046c'   2705   2642 
L136                             000004a5'   2807   2536   2561 
L140                             000004c5'   2921   2911 
L141                             000004ca'   2937   2919 
L143                             000004d3'   2962   2945 
L144                             000004d8'   2977   3385 
L146                             000004e6'   3012   2985 
L147                             000004f0'   3036   3010 
L148                             000004f4'   3046   3062 
L149                             000004ff'   3064   3044 
L150                             00000507'   3086   3148 
L152                             0000052a'   3150   3084   3137 
L153                             0000052e'   3160   3241 
L155                             0000054b'   3210   3193 
L157                             00000558'   3243   3158   3230 
L159                             00000572'   3294   3277 
L161                             00000580'   3329   3312 
L162                             00000584'   3339   3372 
L164                             0000058f'   3366   3349 
L165                             00000594'   3374   3337 
L166                             0000059a'   3387   2975 
L167                             000005d3'   3489   2935   2960   3208   3292 
                                                    3327   3364 
L170                             000005f5'   3571   3633 
L171                             0000061e'   3635   3569 
L174                             00000630'   3697   3728 
L175                             00000646'   3730   3695 
L177                             00000652'   3759   3742 
L178                             00000667'   3798   3757 
L181                             0000067a'   3871   3887 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE   99

LABEL                            VALUE       DEFN    REF

L182                             00000685'   3889   3869 
L184                             000006ae'   3965   3948 
L185                             000006be'   3994   3963 
L188                             000006cf'   4061   4078 
L189                             000006db'   4080   4059 
L19                              000000a2'    460    443 
L194                             00000723'   4231   4214 
L195                             00000733'   4260   4229 
L20                              000000ab'    475    458 
L201                             00000777'   4429   4443 
L202                             00000780'   4445   4427 
L207                             000007a7'   4561   4542 
L208                             000007ae'   4577   4559 
L210                             000007d0'   4641   4624 
L211                             000007fb'   4717   4639 
L27                              00000100'    673    893 
L28                              0000010a'    704    862    868    874    892 
                                                     894    895    896 
L29                              00000114'    729    877 
L30                              0000011e'    754    890 
L31                              00000128'    780    865    891 
L32                              00000132'    806    871    889 
L33                              0000013c'    831    879 
L34                              00000146'    851    671 
L42                              0000015a'    881    859 
L43                              00000167'    899    702    727    752    778 
                                                     804    829    849 
L48                              00000183'    981    965 
L49                              00000197'   1014    979 
L53                              000001b1'   1090   1074 
L54                              000001d1'   1140   1088 
L58                              000001eb'   1217   1201 
L59                              000001f8'   1243   1215 
L6                               00000036'    203    177 
L63                              00000211'   1336   1320 
L65                              00000224'   1371   1363 
L66                              00000226'   1378   1369 
L69                              00000264'   1524   1940 
L70                              0000026c'   1537   1543 
L72                              0000026d'   1562   1918 
L73                              00000278'   1583   1589 
L74                              00000279'   1591   1906 
L75                              00000281'   1615   1921 
L76                              00000292'   1657   1677   1680   1684   1688 
                                                    1692 
L78                              00000297'   1673   1655 
L83                              000002a5'   1694   1671 
L84                              000002a8'   1708   1938 
L85                              000002ac'   1724   1915 
L86                              000002b1'   1741   1912 
L87                              000002b5'   1757   1939 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE  100

LABEL                            VALUE       DEFN    REF

L88                              000002b9'   1773   1936 
L89                              000002bd'   1789   1937 
L90                              000002c3'   1807   1934 
L91                              000002c9'   1825   1909 
L92                              000002d1'   1845   1935 
L93                              000002d9'   1865   1933 
L94                              000002de'   1882   1923 
L96                              000002e1'   1895   1505 
MPY_K30                          REF                1652   4950 
SW0                              0000015f'    889   4854 
SW1                              000002fa'   1933   4881 
_BOOTPORT                        REF                4837   4947 
_Clear                           REF                4864   4917 
_Clear_RX                        REF                4833   4939 
_Copy_Block                      000006c2'   4021   4008   4009   4009   4909 
_ESN                             REF                4902   4904   4941 
_Exit_to_App                     REF                4866   4945 
_FLASH_ERASE_BLK                 REF                4900   4925 
_FLASH_READ_ESN_USER             REF                4905   4929 
_FLASH_SIZE                      REF                4887   4923 
_FLASH_WRITE_BLK                 REF                4901   4927 
_FLASH_WRITE_ESN_USER            REF                4903   4931 
_Get                             REF                4843   4921 
_HW_VER                          REF                4834   4943 
_MB_exception                    00000357'   2122   2109   2110   2110   4893 
_MODBUS_RX_CRC                   000001fc'   1270   1257   1258   1258   4851 
_MODBUS_RX_FUNCTION              000000ee'    639    626    627    627   4848 
_MODBUS_RX_ID                    000000cc'    557    544    545    545   4828 
_MODBUS_RX_n                     0000016f'    934    921    922    922   4853 
_MODBUS_RX_nDATA                 000001d7'   1170   1157   1158   1158   4850 
_MODBUS_RX_nw                    0000019b'   1041   1028   1029   1029   4852 
_Modbus_Initialize               00000000'     74     61     62     62 
_PORT                            REF                4825   4827   4830   4831 
                                                    4832   4839   4842   4844 
                                                    4845   4846   4847   4849 
                                                    4855   4856   4857   4858 
                                                    4859   4860   4861   4862 
                                                    4863   4877   4882   4886 
                                                    4933 
_Process_Erase_Cfg               00000737'   4287   4274   4275   4275   4873 
_Process_Erase_Scratchpad        0000076b'   4399   4386   4387   4387   4872 
_Process_Read                    00000376'   2202   2189   2190   2190   4876 
_Process_Read_ESN                000005d8'   3518   3505   3506   3506   4874 
_Process_Restore_Factory_Defaults 000006fb'   4153   4140   4141   4141   4870 
_Process_Set_Entry_Point         0000066c'   3827   3814   3815   3815   4880 
_Process_Store_Scratchpad        00000794'   4500   4487   4488   4488   4871 
_Process_Write                   000004aa'   2836   2823   2824   2824   4879 
_Process_Write_ESN               00000625'   3666   3653   3654   3654   4875 
_Process_Write_Scratchpad        000003f8'   2473   2460   2461   2461   4878 
_Put                             REF                4883   4919 
_Setup_UART                      REF                4824   4937 
TMS320C3x/4x COFF AssemblerVersion 5.12     Mon Oct 31 11:29:48 2011
Copyright (c) 1987-1999 Texas Instruments Incorporatedasm30.exe -@_50G.AAB 

D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\ASM\modbusrtu.asm                 PAGE  101

LABEL                            VALUE       DEFN    REF

_TIMER1_COUNTER                  REF                4829   4949 
_TX_P                            0000003a'    230    217    218    218   4885 
_TX_P1                           00000069'    334    321    322    322   4838 
_TX_S                            00000092'    428    415    416    416   4840 
_UART                            REF                4836   4841   4884   4935 
_WDOG_P                          0000001e'    152    139    140    140   4826 
fp                               0000000b       6   3380   3381   3383   3421 
                                                    3434   3446   3460   3470 
                                                    3484   3492   3493   3493 
                                                    3525   3526   3564   3579 
                                                    3595   3608   3623   3630 
                                                    3631   3638   3639   3639 
                                                    3676   3677   3685   3691 
                                                    3702   3703   3710   3721 
                                                    3722   3725   3726   3736 
                                                    3801   3802   3802   3838 
                                                    3839   3847   3854   3861 
                                                    3867   3876   3877   3878 
                                                    3884   3885   3894   3896 
                                                    3926   3938   3941   3942 
                                                    3997   3998   3998   4034 
                                                    4035   4042   4043   4050 
                                                    4056   4066   4067   4068 
                                                    4074   4075   4104   4108 
                                                    4116   4117   4121   4122 
                                                    4129   4130   4130   4160 
                                                    4161   4194   4208   4263 
                                                    4264   4264   4294   4295 
                                                    4375   4376   4376   4408 
                                                    4409   4417   4423   4434 
                                                    4435   4439   4440   4476 
                                                    4477   4477   4512   4513 
                                                    4522   4529   4535   4549 
                                                    4557   4558   4568   4575 
                                                    4576   4601   4605   4612 
                                                    4613   4614   4617   4618 
                                                    4675   4688   4700   4714 
                                                    4720   4721   4721 
