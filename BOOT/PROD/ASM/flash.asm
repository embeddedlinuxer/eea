;******************************************************************************
;* TMS320C3x/4x ANSI C Code Generator                            Version 5.11 *
;* Date/Time created: Mon Oct 31 11:29:49 2011                                *
;******************************************************************************
	.regalias	; enable floating point register aliases
fp	.set	ar3
FP	.set	ar3
;******************************************************************************
;* GLOBAL FILE PARAMETERS                                                     *
;*                                                                            *
;*   Optimization       : Always Choose Smaller Code Size                     *
;*   Memory             : Big Memory Model                                    *
;*   Float-to-Int       : Normal Conversions (round toward zero)              *
;*   Multiply           : in Software (32 bits)                               *
;*   Memory Info        : Unmapped Memory Exists                              *
;*   Repeat Loops       : Use RPTS and/or RPTB                                *
;*   Calls              : Normal Library ASM calls                            *
;*   Debug Info         : Standard TI Debug Information                       *
;******************************************************************************
;	C:\tic3x4x\c3x4x\cgtools\bin\ac30.exe -@_330.AAA 
	.file	"flash.c"
	.file	"D:\CCS\EEA_SA_V611beta\INCLUDE\ETC.H"
	.sym	_BOOL,0,14,13,32
	.file	"D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\BUFFER.H"
	.stag	.fake0,131744
	.member	_head,0,4,8,32
	.member	_tail,32,4,8,32
	.member	_n,64,4,8,32
	.member	_CRC16,96,14,8,32
	.member	_buff,128,62,8,131584,,4112
	.member	_locked,131712,14,8,32
	.eos
	.sym	_BFR,0,8,13,131744,.fake0
	.file	"D:\CCS\EEA_SA_V611beta\INCLUDE\FLASH.H"
	.file	"D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\SERIAL.H"
	.stag	.fake1,263936
	.member	_STAT,0,12,8,32
	.member	_TMR_Network_WDOG,32,14,8,32
	.member	_TMR_EOT_Delay,64,14,8,32
	.member	_TMR_Preamble_Delay,96,14,8,32
	.member	_TMR_Suffix_Delay,128,14,8,32
	.member	_TMR_Char,160,14,8,32
	.member	_TMR_enabled,192,14,8,32
	.member	_tvector,224,20,8,32
	.member	_pvector,256,20,8,32
	.member	_i,288,14,8,32
	.member	_func,320,14,8,32
	.member	_Slave_ID,352,14,8,32
	.member	_TXbuf,384,8,8,131744,.fake0
	.member	_TX_complete,132128,14,8,32
	.member	_RXbuf,132160,8,8,131744,.fake0
	.member	_RX_pending,263904,14,8,32
	.eos
	.sym	_PORTV,0,8,13,263936,.fake1
	.file	"D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\MODBUSRTU.H"
	.file	"D:\CCS\EEA_SA_V611beta\INCLUDE\I2C.H"
	.file	"D:\CCS\EEA_SA_V611beta\BOOT\SOURCE\INCLUDE\GLBLS.H"
	.file	"flash.c"
	.sect	 "internal_RAM"

	.global	_FLASH_SIZE
	.sym	_FLASH_SIZE,_FLASH_SIZE,46,2,0
	.func	14
;******************************************************************************
;* FUNCTION NAME: _FLASH_SIZE                                                 *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,ar0,ar1,fp,st                                    *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 3 Auto + 0 SOE = 5 words          *
;******************************************************************************
_FLASH_SIZE:
	.sym	_dev_id,1,14,1,32
	.sym	_r,2,62,1,64,,2
	.line	1
;----------------------------------------------------------------------
;  14 | unsigned int FLASH_SIZE(void)                                          
;  16 | unsigned int dev_id;                                                   
;  17 | unsigned int r[2];                                                     
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      3,sp
	.line	6
;----------------------------------------------------------------------
;  19 | _GIEP;                                                                 
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	.line	8
;----------------------------------------------------------------------
;  21 | r[0] = 0;                                                              
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |21| 
        addi      2,ar0                 ; |21| 
        ldiu      0,r0                  ; |21| 
        sti       r0,*ar0               ; |21| 
	.line	9
;----------------------------------------------------------------------
;  22 | r[1] = 0;                                                              
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |22| 
        addi      3,ar0                 ; |22| 
        sti       r0,*ar0               ; |22| 
	.line	11
;----------------------------------------------------------------------
;  24 | *FLASH_LOC = READ_CONFIG;                                              
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |24| 
        ldp       @CL2,DP
        ldiu      @CL2,r0               ; |24| 
        sti       r0,*ar0               ; |24| 
	.line	12
;----------------------------------------------------------------------
;  25 | dev_id = FLASH_LOC[1];                                                 
;----------------------------------------------------------------------
        ldp       @CL3,DP
        ldiu      @CL3,ar0              ; |25| 
        ldiu      *ar0,r0               ; |25| 
        sti       r0,*+fp(1)            ; |25| 
	.line	13
;----------------------------------------------------------------------
;  26 | *FLASH_LOC = READ_ARRAY;                                               
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |26| 
        ldp       @CL4,DP
        ldiu      @CL4,r0               ; |26| 
        sti       r0,*ar0               ; |26| 
	.line	15
;----------------------------------------------------------------------
;  28 | GIEP;                                                                  
;  30 | switch(dev_id & 0xFFFF)                                                
;  32 |         case 0x88C1:                                                   
;----------------------------------------------------------------------
	pop		ST			
        bu        L7                    ; |13| 
;*      Branch Occurs to L7             ; |13| 
L2:        
	.line	21
;----------------------------------------------------------------------
;  34 | r[0] = 0x80000;                                                        
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |34| 
        ldp       @CL5,DP
        addi      2,ar0                 ; |34| 
        ldiu      @CL5,r0               ; |34| 
        sti       r0,*ar0               ; |34| 
	.line	22
;----------------------------------------------------------------------
;  35 | break;                                                                 
;  38 | case 0x88C3:                                                           
;----------------------------------------------------------------------
        bu        L18                   ; |35| 
;*      Branch Occurs to L18            ; |35| 
L3:        
	.line	27
;----------------------------------------------------------------------
;  40 | r[0] = 0x100000;                                                       
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |40| 
        ldp       @CL6,DP
        addi      2,ar0                 ; |40| 
        ldiu      @CL6,r0               ; |40| 
        sti       r0,*ar0               ; |40| 
	.line	28
;----------------------------------------------------------------------
;  41 | break;                                                                 
;  44 | case 0x88C5:                                                           
;----------------------------------------------------------------------
        bu        L18                   ; |41| 
;*      Branch Occurs to L18            ; |41| 
L4:        
	.line	33
;----------------------------------------------------------------------
;  46 | r[0] = 0x200000;                                                       
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |46| 
        ldp       @CL7,DP
        addi      2,ar0                 ; |46| 
        ldiu      @CL7,r0               ; |46| 
        sti       r0,*ar0               ; |46| 
	.line	34
;----------------------------------------------------------------------
;  47 | break;                                                                 
;  50 | case 0x88CD:                                                           
;----------------------------------------------------------------------
        bu        L18                   ; |47| 
;*      Branch Occurs to L18            ; |47| 
L5:        
	.line	39
;----------------------------------------------------------------------
;  52 | r[0] = 0x400000;                                                       
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |52| 
        ldp       @CL8,DP
        addi      2,ar0                 ; |52| 
        ldiu      @CL8,r0               ; |52| 
        sti       r0,*ar0               ; |52| 
	.line	40
;----------------------------------------------------------------------
;  53 | break;                                                                 
;  57 | switch(dev_id >> 16)                                                   
;  59 | case 0x88C1:                                                           
;----------------------------------------------------------------------
        bu        L18                   ; |53| 
;*      Branch Occurs to L18            ; |53| 
L7:        
	.line	17
        ldp       @CL9,DP
        ldiu      @CL9,r0               ; |30| 
        ldp       @CL10,DP
        and       *+fp(1),r0            ; |30| 
        cmpi      @CL10,r0              ; |30| 
        beq       L2                    ; |30| 
;*      Branch Occurs to L2             ; |30| 
        ldp       @CL11,DP
        cmpi      @CL11,r0              ; |30| 
        beq       L3                    ; |30| 
;*      Branch Occurs to L3             ; |30| 
        ldp       @CL12,DP
        cmpi      @CL12,r0              ; |30| 
        beq       L4                    ; |30| 
;*      Branch Occurs to L4             ; |30| 
        ldp       @CL13,DP
        cmpi      @CL13,r0              ; |30| 
        beq       L5                    ; |30| 
;*      Branch Occurs to L5             ; |30| 
        bu        L18                   ; |30| 
;*      Branch Occurs to L18            ; |30| 
L13:        
	.line	48
;----------------------------------------------------------------------
;  61 | r[1] = 0x80000;                                                        
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |61| 
        ldp       @CL5,DP
        addi      3,ar0                 ; |61| 
        ldiu      @CL5,r0               ; |61| 
        sti       r0,*ar0               ; |61| 
	.line	49
;----------------------------------------------------------------------
;  62 | break;                                                                 
;  65 | case 0x88C3:                                                           
;----------------------------------------------------------------------
        bu        L22                   ; |62| 
;*      Branch Occurs to L22            ; |62| 
L14:        
	.line	54
;----------------------------------------------------------------------
;  67 | r[1] = 0x100000;                                                       
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |67| 
        ldp       @CL6,DP
        addi      3,ar0                 ; |67| 
        ldiu      @CL6,r0               ; |67| 
        sti       r0,*ar0               ; |67| 
	.line	55
;----------------------------------------------------------------------
;  68 | break;                                                                 
;  71 | case 0x88C5:                                                           
;----------------------------------------------------------------------
        bu        L22                   ; |68| 
;*      Branch Occurs to L22            ; |68| 
L15:        
	.line	60
;----------------------------------------------------------------------
;  73 | r[1] = 0x200000;                                                       
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |73| 
        ldp       @CL7,DP
        addi      3,ar0                 ; |73| 
        ldiu      @CL7,r0               ; |73| 
        sti       r0,*ar0               ; |73| 
	.line	61
;----------------------------------------------------------------------
;  74 | break;                                                                 
;  77 | case 0x88CD:                                                           
;----------------------------------------------------------------------
        bu        L22                   ; |74| 
;*      Branch Occurs to L22            ; |74| 
L16:        
	.line	66
;----------------------------------------------------------------------
;  79 | r[1] = 0x400000;                                                       
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |79| 
        ldp       @CL8,DP
        addi      3,ar0                 ; |79| 
        ldiu      @CL8,r0               ; |79| 
        sti       r0,*ar0               ; |79| 
	.line	67
;----------------------------------------------------------------------
;  80 | break;                                                                 
;----------------------------------------------------------------------
        bu        L22                   ; |80| 
;*      Branch Occurs to L22            ; |80| 
L18:        
	.line	44
        ldiu      *+fp(1),r0            ; |57| 
        lsh       -16,r0                ; |57| 
        ldp       @CL10,DP
        cmpi      @CL10,r0              ; |57| 
        beq       L13                   ; |57| 
;*      Branch Occurs to L13            ; |57| 
        ldp       @CL11,DP
        cmpi      @CL11,r0              ; |57| 
        beq       L14                   ; |57| 
;*      Branch Occurs to L14            ; |57| 
        ldp       @CL12,DP
        cmpi      @CL12,r0              ; |57| 
        beq       L15                   ; |57| 
;*      Branch Occurs to L15            ; |57| 
        ldp       @CL13,DP
        cmpi      @CL13,r0              ; |57| 
        beq       L16                   ; |57| 
;*      Branch Occurs to L16            ; |57| 
L22:        
	.line	71
;----------------------------------------------------------------------
;  84 | if (r[0]<r[1]) return r[0];                                            
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |84| 
        ldiu      fp,ar1                ; |84| 
        addi      3,ar0                 ; |84| 
        addi      2,ar1                 ; |84| 
        cmpi3     *ar0,*ar1             ; |84| 
        bhs       L25                   ; |84| 
;*      Branch Occurs to L25            ; |84| 
        bud       L26                   ; |84| 
        ldiu      fp,ar0                ; |84| 
        addi      2,ar0                 ; |84| 
        ldiu      *ar0,r0               ; |84| 
;*      Branch Occurs to L26            ; |84| 
L25:        
	.line	72
;----------------------------------------------------------------------
;  85 | else return r[1];                                                      
;----------------------------------------------------------------------
        ldiu      fp,ar0                ; |85| 
        addi      3,ar0                 ; |85| 
        ldiu      *ar0,r0               ; |85| 
L26:        
	.line	73
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1            ; |86| 
        ldiu      *fp,fp                ; |86| 
                                        ; Unallocate the Frame
        subi      5,sp                  ; |86| 
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	86,000000000h,3


	.sect	 "internal_RAM"

	.global	_FLASH_CHECK_ADDR
	.sym	_FLASH_CHECK_ADDR,_FLASH_CHECK_ADDR,36,2,0
	.func	88
;******************************************************************************
;* FUNCTION NAME: _FLASH_CHECK_ADDR                                           *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,r1,r2,ar2,st                                     *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 5 Auto + 0 SOE = 7 words          *
;******************************************************************************
_FLASH_CHECK_ADDR:
;* ar2   assigned to _addr
	.sym	_addr,10,30,17,32
;* r2    assigned to _n
	.sym	_n,2,14,17,32
	.sym	_addr,1,30,1,32
	.sym	_n,2,14,1,32
	.sym	_dev_id,3,14,1,32
	.sym	_f,4,14,1,32
	.sym	_mask,5,14,1,32
	.line	1
;----------------------------------------------------------------------
;  88 | int FLASH_CHECK_ADDR(unsigned int* addr, unsigned int n)               
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      5,sp
	.line	2
;----------------------------------------------------------------------
;  90 | unsigned int dev_id;                                                   
;  91 | unsigned int f;                                                        
;  92 | unsigned int mask;                                                     
;----------------------------------------------------------------------
        sti       r2,*+fp(2)            ; |89| 
        sti       ar2,*+fp(1)           ; |89| 
	.line	7
;----------------------------------------------------------------------
;  94 | f = FLASH_SIZE();                                                      
;----------------------------------------------------------------------
        ldp       @CL14,DP
        ldiu      @CL14,r0              ; |94| 
        callu     r0                    ; far call to _FLASH_SIZE	; |94| 
                                        ; |94| Far Call Occurs
        sti       r0,*+fp(4)            ; |94| 
	.line	9
;----------------------------------------------------------------------
;  96 | if (addr >= (FLASH_LOC+f)) return FLASH_ERROR_BLKADDR;                 
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      *+fp(1),r1            ; |96| 
        ldiu      @CL1,r0               ; |96| 
        addi      *+fp(4),r0            ; |96| Unsigned
        cmpi3     r0,r1                 ; |96| 
        blo       L30                   ; |96| 
;*      Branch Occurs to L30            ; |96| 
        bud       L53                   ; |96| 
	nop
	nop
        ldiu      32,r0                 ; |96| 
;*      Branch Occurs to L53            ; |96| 
L30:        
	.line	10
;----------------------------------------------------------------------
;  97 | if (addr < FLASH_LOC) return FLASH_ERROR_BLKADDR;                      
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      *+fp(1),r0            ; |97| 
        cmpi      @CL1,r0               ; |97| 
        bhs       L32                   ; |97| 
;*      Branch Occurs to L32            ; |97| 
        bud       L53                   ; |97| 
	nop
	nop
        ldiu      32,r0                 ; |97| 
;*      Branch Occurs to L53            ; |97| 
L32:        
	.line	12
;----------------------------------------------------------------------
;  99 | if (addr < (FLASH_LOC+FLASH_SECTOR_SIZE))                              
;----------------------------------------------------------------------
        ldp       @CL15,DP
        ldiu      *+fp(1),r0            ; |99| 
        cmpi      @CL15,r0              ; |99| 
        bhs       L43                   ; |99| 
;*      Branch Occurs to L43            ; |99| 
	.line	14
;----------------------------------------------------------------------
; 101 | if (n==0)                                                              
;----------------------------------------------------------------------
        ldiu      *+fp(2),r0            ; |101| 
        cmpi      0,r0                  ; |101| 
        bne       L36                   ; |101| 
;*      Branch Occurs to L36            ; |101| 
	.line	16
;----------------------------------------------------------------------
; 103 | if ((((unsigned int)addr-(unsigned int)FLASH_LOC)%FLASH_CFGB_SIZE) == 0
;     | )                                                                      
;----------------------------------------------------------------------
        ldp       @CL8,DP
        ldiu      @CL8,r0               ; |103| 
        subri     *+fp(1),r0            ; |103| Unsigned
        tstb      4095,r0               ; |103| 
        bne       L36                   ; |103| 
;*      Branch Occurs to L36            ; |103| 
	.line	17
;----------------------------------------------------------------------
; 104 | return 0;                                                              
;----------------------------------------------------------------------
        bud       L53                   ; |104| 
	nop
	nop
        ldiu      0,r0                  ; |104| 
;*      Branch Occurs to L53            ; |104| 
L36:        
	.line	19
;----------------------------------------------------------------------
; 106 | if (n>FLASH_CFGB_SIZE) return FLASH_ERROR_BLKADDR;                     
;----------------------------------------------------------------------
        ldiu      *+fp(2),r0            ; |106| 
        cmpi      4096,r0               ; |106| 
        bls       L38                   ; |106| 
;*      Branch Occurs to L38            ; |106| 
        bud       L53                   ; |106| 
	nop
	nop
        ldiu      32,r0                 ; |106| 
;*      Branch Occurs to L53            ; |106| 
L38:        
	.line	20
;----------------------------------------------------------------------
; 107 | if (((unsigned int)addr+n-1) >= ((unsigned int)FLASH_LOC+FLASH_SECTOR_S
;     | IZE)) return FLASH_ERROR_BLKADDR;                                      
;----------------------------------------------------------------------
        ldiu      *+fp(2),r0            ; |107| 
        ldp       @CL16,DP
        addi      *+fp(1),r0            ; |107| Unsigned
        subi      1,r0                  ; |107| Unsigned
        cmpi      @CL16,r0              ; |107| 
        blo       L40                   ; |107| 
;*      Branch Occurs to L40            ; |107| 
        bud       L53                   ; |107| 
	nop
	nop
        ldiu      32,r0                 ; |107| 
;*      Branch Occurs to L53            ; |107| 
L40:        
	.line	21
;----------------------------------------------------------------------
; 108 | mask = 0xFFFFFFFF ^ (FLASH_CFGB_SIZE-1);                               
;----------------------------------------------------------------------
        ldp       @CL17,DP
        ldiu      @CL17,r0              ; |108| 
        sti       r0,*+fp(5)            ; |108| 
	.line	22
;----------------------------------------------------------------------
; 109 | f = ((unsigned int)addr&mask) + FLASH_CFGB_SIZE;                       
;----------------------------------------------------------------------
        and       *+fp(1),r0            ; |109| 
        addi      4096,r0               ; |109| Unsigned
        sti       r0,*+fp(4)            ; |109| 
	.line	23
;----------------------------------------------------------------------
; 110 | if (((unsigned int)addr+n-1) < ((unsigned int)f)) return 0;            
; 112 | else                                                                   
;----------------------------------------------------------------------
        ldiu      *+fp(2),r0            ; |110| 
        addi      *+fp(1),r0            ; |110| Unsigned
        subi      1,r0                  ; |110| Unsigned
        cmpi      *+fp(4),r0            ; |110| 
        bhs       L52                   ; |110| 
;*      Branch Occurs to L52            ; |110| 
        bud       L53                   ; |110| 
	nop
	nop
        ldiu      0,r0                  ; |110| 
;*      Branch Occurs to L53            ; |110| 
L43:        
	.line	27
;----------------------------------------------------------------------
; 114 | if (n==0)                                                              
;----------------------------------------------------------------------
        ldiu      *+fp(2),r0            ; |114| 
        cmpi      0,r0                  ; |114| 
        bne       L46                   ; |114| 
;*      Branch Occurs to L46            ; |114| 
	.line	29
;----------------------------------------------------------------------
; 116 | if ((((unsigned int)addr-(unsigned int)FLASH_LOC)%FLASH_SECTOR_SIZE) ==
;     |  0)                                                                    
;----------------------------------------------------------------------
        ldp       @CL8,DP
        ldiu      @CL8,r0               ; |116| 
        subri     *+fp(1),r0            ; |116| Unsigned
        tstb      32767,r0              ; |116| 
        bne       L46                   ; |116| 
;*      Branch Occurs to L46            ; |116| 
	.line	30
;----------------------------------------------------------------------
; 117 | return 0;                                                              
;----------------------------------------------------------------------
        bud       L53                   ; |117| 
	nop
	nop
        ldiu      0,r0                  ; |117| 
;*      Branch Occurs to L53            ; |117| 
L46:        
	.line	32
;----------------------------------------------------------------------
; 119 | if (n>FLASH_SECTOR_SIZE) return FLASH_ERROR_BLKADDR;                   
;----------------------------------------------------------------------
        ldp       @CL18,DP
        ldiu      *+fp(2),r0            ; |119| 
        cmpi      @CL18,r0              ; |119| 
        bls       L48                   ; |119| 
;*      Branch Occurs to L48            ; |119| 
        bud       L53                   ; |119| 
	nop
	nop
        ldiu      32,r0                 ; |119| 
;*      Branch Occurs to L53            ; |119| 
L48:        
	.line	33
;----------------------------------------------------------------------
; 120 | if (((unsigned int)addr+n-1) >= ((unsigned int)FLASH_LOC+f)) return FLA
;     | SH_ERROR_BLKADDR;                                                      
;----------------------------------------------------------------------
        ldp       @CL8,DP
        ldiu      *+fp(2),r0            ; |120| 
        ldiu      @CL8,r1               ; |120| 
        addi      *+fp(1),r0            ; |120| Unsigned
        addi      *+fp(4),r1            ; |120| Unsigned
        subi      1,r0                  ; |120| Unsigned
        cmpi3     r1,r0                 ; |120| 
        blo       L50                   ; |120| 
;*      Branch Occurs to L50            ; |120| 
        bud       L53                   ; |120| 
	nop
	nop
        ldiu      32,r0                 ; |120| 
;*      Branch Occurs to L53            ; |120| 
L50:        
	.line	34
;----------------------------------------------------------------------
; 121 | mask = 0xFFFFFFFF ^ (FLASH_SECTOR_SIZE-1);                             
;----------------------------------------------------------------------
        ldp       @CL19,DP
        ldiu      @CL19,r0              ; |121| 
        sti       r0,*+fp(5)            ; |121| 
	.line	35
;----------------------------------------------------------------------
; 122 | f = ((unsigned int)addr&mask) + FLASH_SECTOR_SIZE;                     
;----------------------------------------------------------------------
        ldp       @CL18,DP
        and       *+fp(1),r0            ; |122| 
        addi      @CL18,r0              ; |122| Unsigned
        sti       r0,*+fp(4)            ; |122| 
	.line	36
;----------------------------------------------------------------------
; 123 | if (((unsigned int)addr+n-1) < ((unsigned int)f)) return 0;            
;----------------------------------------------------------------------
        ldiu      *+fp(2),r0            ; |123| 
        addi      *+fp(1),r0            ; |123| Unsigned
        subi      1,r0                  ; |123| Unsigned
        cmpi      *+fp(4),r0            ; |123| 
        bhs       L52                   ; |123| 
;*      Branch Occurs to L52            ; |123| 
        bud       L53                   ; |123| 
	nop
	nop
        ldiu      0,r0                  ; |123| 
;*      Branch Occurs to L53            ; |123| 
L52:        
	.line	39
;----------------------------------------------------------------------
; 126 | return FLASH_ERROR_BLKADDR;                                            
;----------------------------------------------------------------------
        ldiu      32,r0                 ; |126| 
L53:        
	.line	40
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1            ; |127| 
        ldiu      *fp,fp                ; |127| 
                                        ; Unallocate the Frame
        subi      7,sp                  ; |127| 
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	127,000000000h,5


	.sect	 "internal_RAM"

	.global	_FLASH_LOCK_BLK
	.sym	_FLASH_LOCK_BLK,_FLASH_LOCK_BLK,36,2,0
	.func	129
;******************************************************************************
;* FUNCTION NAME: _FLASH_LOCK_BLK                                             *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,r2,ar0,ar2,st                                    *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
;******************************************************************************
_FLASH_LOCK_BLK:
;* ar2   assigned to _addr
	.sym	_addr,10,30,17,32
;* r2    assigned to _lock
	.sym	_lock,2,4,17,32
	.sym	_addr,1,30,1,32
	.sym	_lock,2,4,1,32
	.sym	_i,3,4,1,32
	.sym	_r,4,4,1,32
	.line	1
;----------------------------------------------------------------------
; 129 | int FLASH_LOCK_BLK(unsigned int* addr, int lock)                       
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      4,sp
	.line	2
;----------------------------------------------------------------------
; 131 | int i;                                                                 
; 132 | int r;                                                                 
;----------------------------------------------------------------------
        sti       r2,*+fp(2)            ; |130| 
        sti       ar2,*+fp(1)           ; |130| 
	.line	6
;----------------------------------------------------------------------
; 134 | i = FLASH_CHECK_ADDR(addr, 0);                                         
;----------------------------------------------------------------------
        ldp       @CL20,DP
        ldiu      @CL20,r0              ; |134| 
        ldiu      0,r2                  ; |134| 
        callu     r0                    ; far call to _FLASH_CHECK_ADDR	; |134| 
                                        ; |134| Far Call Occurs
        sti       r0,*+fp(3)            ; |134| 
	.line	7
;----------------------------------------------------------------------
; 135 | if (i) return i;                                                       
;----------------------------------------------------------------------
        cmpi      0,r0                  ; |135| 
        beq       L57                   ; |135| 
;*      Branch Occurs to L57            ; |135| 
        bu        L66                   ; |135| 
;*      Branch Occurs to L66            ; |135| 
L57:        
	.line	9
;----------------------------------------------------------------------
; 137 | _GIEP;                                                                 
; 139 | switch(lock)                                                           
; 141 |         case 0:                                                        
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        bu        L62                   ; |128| 
;*      Branch Occurs to L62            ; |128| 
L58:        
	.line	15
;----------------------------------------------------------------------
; 143 | addr[0] = BLOCK_LOCK;                                                  
;----------------------------------------------------------------------
        ldp       @CL21,DP
        ldiu      *+fp(1),ar0           ; |143| 
        ldiu      @CL21,r0              ; |143| 
        sti       r0,*ar0               ; |143| 
	.line	16
;----------------------------------------------------------------------
; 144 | addr[0] = BLOCK_LOCK_UNLOCK;                                           
;----------------------------------------------------------------------
        ldp       @CL22,DP
        ldiu      *+fp(1),ar0           ; |144| 
        ldiu      @CL22,r0              ; |144| 
        sti       r0,*ar0               ; |144| 
	.line	17
;----------------------------------------------------------------------
; 145 | break;                                                                 
; 148 | case 1:                                                                
;----------------------------------------------------------------------
        bu        L65                   ; |145| 
;*      Branch Occurs to L65            ; |145| 
L59:        
	.line	22
;----------------------------------------------------------------------
; 150 | addr[0] = BLOCK_LOCK;                                                  
;----------------------------------------------------------------------
        ldp       @CL21,DP
        ldiu      *+fp(1),ar0           ; |150| 
        ldiu      @CL21,r0              ; |150| 
        sti       r0,*ar0               ; |150| 
	.line	23
;----------------------------------------------------------------------
; 151 | addr[0] = BLOCK_LOCK_LOCK;                                             
;----------------------------------------------------------------------
        ldp       @CL23,DP
        ldiu      *+fp(1),ar0           ; |151| 
        ldiu      @CL23,r0              ; |151| 
        sti       r0,*ar0               ; |151| 
	.line	24
;----------------------------------------------------------------------
; 152 | break;                                                                 
; 155 | case 2:                                                                
;----------------------------------------------------------------------
        bu        L65                   ; |152| 
;*      Branch Occurs to L65            ; |152| 
L60:        
	.line	29
;----------------------------------------------------------------------
; 157 | addr[0] = BLOCK_LOCK;                                                  
;----------------------------------------------------------------------
        ldp       @CL21,DP
        ldiu      *+fp(1),ar0           ; |157| 
        ldiu      @CL21,r0              ; |157| 
        sti       r0,*ar0               ; |157| 
	.line	30
;----------------------------------------------------------------------
; 158 | addr[0] = BLOCK_LOCK_LOCKDOWN;                                         
;----------------------------------------------------------------------
        ldp       @CL24,DP
        ldiu      *+fp(1),ar0           ; |158| 
        ldiu      @CL24,r0              ; |158| 
        sti       r0,*ar0               ; |158| 
	.line	31
;----------------------------------------------------------------------
; 159 | break;                                                                 
;----------------------------------------------------------------------
        bu        L65                   ; |159| 
;*      Branch Occurs to L65            ; |159| 
L62:        
	.line	11
        ldiu      *+fp(2),r0            ; |139| 
        cmpi      0,r0                  ; |139| 
        beq       L58                   ; |139| 
;*      Branch Occurs to L58            ; |139| 
        cmpi      1,r0                  ; |139| 
        beq       L59                   ; |139| 
;*      Branch Occurs to L59            ; |139| 
        cmpi      2,r0                  ; |139| 
        beq       L60                   ; |139| 
;*      Branch Occurs to L60            ; |139| 
L65:        
	.line	35
;----------------------------------------------------------------------
; 163 | r = FLASH_STATUS();                                                    
;----------------------------------------------------------------------
        ldp       @CL25,DP
        ldiu      @CL25,r0              ; |163| 
        callu     r0                    ; far call to _FLASH_STATUS	; |163| 
                                        ; |163| Far Call Occurs
        sti       r0,*+fp(4)            ; |163| 
	.line	37
;----------------------------------------------------------------------
; 165 | *FLASH_LOC = READ_ARRAY;                                               
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |165| 
        ldp       @CL4,DP
        ldiu      @CL4,r0               ; |165| 
        sti       r0,*ar0               ; |165| 
	.line	39
;----------------------------------------------------------------------
; 167 | GIEP;                                                                  
;----------------------------------------------------------------------
	pop		ST			
	.line	41
;----------------------------------------------------------------------
; 169 | return r;                                                              
;----------------------------------------------------------------------
        ldiu      *+fp(4),r0            ; |169| 
L66:        
	.line	42
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1            ; |170| 
        ldiu      *fp,fp                ; |170| 
                                        ; Unallocate the Frame
        subi      6,sp                  ; |170| 
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	170,000000000h,4


	.sect	 "internal_RAM"

	.global	_FLASH_ERASE_BLK
	.sym	_FLASH_ERASE_BLK,_FLASH_ERASE_BLK,36,2,0
	.func	172
;******************************************************************************
;* FUNCTION NAME: _FLASH_ERASE_BLK                                            *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,r2,ar0,ar2,st                                    *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
;******************************************************************************
_FLASH_ERASE_BLK:
;* ar2   assigned to _addr
	.sym	_addr,10,30,17,32
	.sym	_addr,1,30,1,32
	.sym	_status,2,14,1,32
	.sym	_i,3,4,1,32
	.sym	_r,4,4,1,32
	.line	1
;----------------------------------------------------------------------
; 172 | int FLASH_ERASE_BLK(unsigned int* addr)                                
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      4,sp
	.line	2
;----------------------------------------------------------------------
; 174 | unsigned int status;                                                   
; 175 | int i;                                                                 
; 176 | int r;                                                                 
;----------------------------------------------------------------------
        sti       ar2,*+fp(1)           ; |173| 
	.line	7
;----------------------------------------------------------------------
; 178 | i = FLASH_CHECK_ADDR(addr, 0);                                         
;----------------------------------------------------------------------
        ldp       @CL20,DP
        ldiu      0,r2                  ; |178| 
        ldiu      @CL20,r0              ; |178| 
        callu     r0                    ; far call to _FLASH_CHECK_ADDR	; |178| 
                                        ; |178| Far Call Occurs
        sti       r0,*+fp(3)            ; |178| 
	.line	8
;----------------------------------------------------------------------
; 179 | if (i) return i;                                                       
;----------------------------------------------------------------------
        cmpi      0,r0                  ; |179| 
        beq       L70                   ; |179| 
;*      Branch Occurs to L70            ; |179| 
        bu        L73                   ; |179| 
;*      Branch Occurs to L73            ; |179| 
L70:        
	.line	10
;----------------------------------------------------------------------
; 181 | _GIEP; DISABLE_WDOG;                                                   
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |181| 
        ldiu      247,r0                ; |181| 
        and3      r0,*ar0,r0            ; |181| 
        sti       r0,*ar0               ; |181| 
	pop		ST			
	.line	12
;----------------------------------------------------------------------
; 183 | FLASH_LOCK_BLK(addr, FALSE);                                           
;----------------------------------------------------------------------
        ldiu      0,r2                  ; |183| 
        ldp       @CL27,DP
        ldiu      *+fp(1),ar2           ; |183| 
        ldiu      @CL27,r0              ; |183| 
        callu     r0                    ; far call to _FLASH_LOCK_BLK	; |183| 
                                        ; |183| Far Call Occurs
	.line	14
;----------------------------------------------------------------------
; 185 | *FLASH_LOC = BLOCK_ERASE;                                              
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |185| 
        ldp       @CL28,DP
        ldiu      @CL28,r0              ; |185| 
        sti       r0,*ar0               ; |185| 
	.line	15
;----------------------------------------------------------------------
; 186 | addr[0] = BLOCK_ERASE_CONFIRM;                                         
;----------------------------------------------------------------------
        ldp       @CL22,DP
        ldiu      *+fp(1),ar0           ; |186| 
        ldiu      @CL22,r0              ; |186| 
        sti       r0,*ar0               ; |186| 
	.line	17
;----------------------------------------------------------------------
; 188 | status = *FLASH_LOC;                                                   
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |188| 
        ldiu      *ar0,r0               ; |188| 
        sti       r0,*+fp(2)            ; |188| 
	.line	18
;----------------------------------------------------------------------
; 189 | while (!((status & 0x00800080)==0x00800080))                           
;----------------------------------------------------------------------
        ldp       @CL29,DP
        ldiu      @CL29,r0              ; |189| 
        and       *+fp(2),r0            ; |189| 
        cmpi      @CL29,r0              ; |189| 
        beq       L72                   ; |189| 
;*      Branch Occurs to L72            ; |189| 
L71:        
	.line	20
;----------------------------------------------------------------------
; 191 | status = *FLASH_LOC;                                                   
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |191| 
        ldiu      *ar0,r0               ; |191| 
        sti       r0,*+fp(2)            ; |191| 
	.line	18
        ldp       @CL29,DP
        ldiu      @CL29,r0              ; |189| 
        and       *+fp(2),r0            ; |189| 
        cmpi      @CL29,r0              ; |189| 
        bne       L71                   ; |189| 
;*      Branch Occurs to L71            ; |189| 
L72:        
	.line	23
;----------------------------------------------------------------------
; 194 | r = FLASH_STATUS();                                                    
;----------------------------------------------------------------------
        ldp       @CL25,DP
        ldiu      @CL25,r0              ; |194| 
        callu     r0                    ; far call to _FLASH_STATUS	; |194| 
                                        ; |194| Far Call Occurs
        sti       r0,*+fp(4)            ; |194| 
	.line	25
;----------------------------------------------------------------------
; 196 | *FLASH_LOC = READ_ARRAY;                                               
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |196| 
        ldp       @CL4,DP
        ldiu      @CL4,r0               ; |196| 
        sti       r0,*ar0               ; |196| 
	.line	27
;----------------------------------------------------------------------
; 198 | FLASH_LOCK_BLK(addr, TRUE);                                            
;----------------------------------------------------------------------
        ldiu      1,r2                  ; |198| 
        ldp       @CL27,DP
        ldiu      *+fp(1),ar2           ; |198| 
        ldiu      @CL27,r0              ; |198| 
        callu     r0                    ; far call to _FLASH_LOCK_BLK	; |198| 
                                        ; |198| Far Call Occurs
	.line	29
;----------------------------------------------------------------------
; 200 | ENABLE_WDOG; GIEP;                                                     
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |200| 
        ldiu      8,r0                  ; |200| 
        or3       r0,*ar0,r0            ; |200| 
        sti       r0,*ar0               ; |200| 
        ldiu      128,r0                ; |200| 
        or3       r0,*ar0,r0            ; |200| 
        sti       r0,*ar0               ; |200| 
	pop		ST			
	pop		ST			
	.line	31
;----------------------------------------------------------------------
; 202 | return r;                                                              
;----------------------------------------------------------------------
        ldiu      *+fp(4),r0            ; |202| 
L73:        
	.line	32
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1            ; |203| 
        ldiu      *fp,fp                ; |203| 
                                        ; Unallocate the Frame
        subi      6,sp                  ; |203| 
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	203,000000000h,4


	.sect	 "internal_RAM"

	.global	_FLASH_WRITE_BLK
	.sym	_FLASH_WRITE_BLK,_FLASH_WRITE_BLK,36,2,0
	.func	205
;******************************************************************************
;* FUNCTION NAME: _FLASH_WRITE_BLK                                            *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,r2,r3,ar0,ar1,ar2,ir0,ir1,st                     *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 6 Auto + 0 SOE = 8 words          *
;******************************************************************************
_FLASH_WRITE_BLK:
;* ar2   assigned to _addr
	.sym	_addr,10,30,17,32
;* r2    assigned to _data
	.sym	_data,2,30,17,32
;* r3    assigned to _n
	.sym	_n,3,14,17,32
	.sym	_addr,1,30,1,32
	.sym	_data,2,30,1,32
	.sym	_n,3,14,1,32
	.sym	_r,4,14,1,32
	.sym	_status,5,14,1,32
	.sym	_i,6,4,1,32
	.line	1
;----------------------------------------------------------------------
; 205 | int FLASH_WRITE_BLK(unsigned int* addr, unsigned int* data, unsigned in
;     | t n)                                                                   
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      6,sp
	.line	2
;----------------------------------------------------------------------
; 207 | unsigned int r;                                                        
; 208 | unsigned int status;                                                   
; 209 | int i;                                                                 
;----------------------------------------------------------------------
        sti       r3,*+fp(3)            ; |206| 
        sti       r2,*+fp(2)            ; |206| 
        sti       ar2,*+fp(1)           ; |206| 
	.line	7
;----------------------------------------------------------------------
; 211 | i = FLASH_CHECK_ADDR(addr, n);                                         
;----------------------------------------------------------------------
        ldp       @CL20,DP
        ldiu      @CL20,r0              ; |211| 
        ldiu      r3,r2
        callu     r0                    ; far call to _FLASH_CHECK_ADDR	; |211| 
                                        ; |211| Far Call Occurs
        sti       r0,*+fp(6)            ; |211| 
	.line	8
;----------------------------------------------------------------------
; 212 | if (i) return i;                                                       
;----------------------------------------------------------------------
        cmpi      0,r0                  ; |212| 
        beq       L77                   ; |212| 
;*      Branch Occurs to L77            ; |212| 
        bu        L87                   ; |212| 
;*      Branch Occurs to L87            ; |212| 
L77:        
	.line	10
;----------------------------------------------------------------------
; 214 | _GIEP; DISABLE_WDOG;                                                   
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |214| 
        ldiu      247,r0                ; |214| 
        and3      r0,*ar0,r0            ; |214| 
        sti       r0,*ar0               ; |214| 
	pop		ST			
	.line	12
;----------------------------------------------------------------------
; 216 | FLASH_LOCK_BLK(addr, FALSE);                                           
;----------------------------------------------------------------------
        ldiu      0,r2                  ; |216| 
        ldp       @CL27,DP
        ldiu      *+fp(1),ar2           ; |216| 
        ldiu      @CL27,r0              ; |216| 
        callu     r0                    ; far call to _FLASH_LOCK_BLK	; |216| 
                                        ; |216| Far Call Occurs
	.line	14
;----------------------------------------------------------------------
; 218 | for (i=0;i<n;i++)                                                      
;----------------------------------------------------------------------
        ldiu      0,r0                  ; |218| 
        sti       r0,*+fp(6)            ; |218| 
        ldiu      *+fp(6),r0            ; |218| 
        cmpi      *+fp(3),r0            ; |218| 
        bhs       L81                   ; |218| 
;*      Branch Occurs to L81            ; |218| 
L78:        
	.line	16
;----------------------------------------------------------------------
; 220 | *FLASH_LOC = PROGRAM;                                                  
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |220| 
        ldp       @CL30,DP
        ldiu      @CL30,r0              ; |220| 
        sti       r0,*ar0               ; |220| 
	.line	17
;----------------------------------------------------------------------
; 221 | addr[i] = data[i];                                                     
;----------------------------------------------------------------------
        ldiu      *+fp(6),ar1           ; |221| 
        ldiu      *+fp(2),ir0           ; |221| 
        ldiu      *+fp(1),ir1           ; |221| 
        ldiu      ar1,ar0               ; |221| 
        ldiu      *+ar1(ir0),r0         ; |221| 
        sti       r0,*+ar0(ir1)         ; |221| 
	.line	18
;----------------------------------------------------------------------
; 222 | *FLASH_LOC = READ_STATUS;                                              
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |222| 
        ldp       @CL31,DP
        ldiu      @CL31,r0              ; |222| 
        sti       r0,*ar0               ; |222| 
	.line	19
;----------------------------------------------------------------------
; 223 | status = *FLASH_LOC;                                                   
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |223| 
        ldiu      *ar0,r0               ; |223| 
        sti       r0,*+fp(5)            ; |223| 
	.line	20
;----------------------------------------------------------------------
; 224 | while (!((status & 0x00800080)==0x00800080))                           
;----------------------------------------------------------------------
        ldp       @CL29,DP
        ldiu      @CL29,r0              ; |224| 
        and       *+fp(5),r0            ; |224| 
        cmpi      @CL29,r0              ; |224| 
        beq       L80                   ; |224| 
;*      Branch Occurs to L80            ; |224| 
L79:        
	.line	22
;----------------------------------------------------------------------
; 226 | status = *FLASH_LOC;                                                   
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |226| 
        ldiu      *ar0,r0               ; |226| 
        sti       r0,*+fp(5)            ; |226| 
	.line	20
        ldp       @CL29,DP
        ldiu      @CL29,r0              ; |224| 
        and       *+fp(5),r0            ; |224| 
        cmpi      @CL29,r0              ; |224| 
        bne       L79                   ; |224| 
;*      Branch Occurs to L79            ; |224| 
L80:        
	.line	14
        ldiu      1,r0                  ; |218| 
        addi      *+fp(6),r0            ; |218| 
        sti       r0,*+fp(6)            ; |218| 
        ldiu      *+fp(6),r0            ; |218| 
        cmpi      *+fp(3),r0            ; |218| 
        blo       L78                   ; |218| 
;*      Branch Occurs to L78            ; |218| 
L81:        
	.line	26
;----------------------------------------------------------------------
; 230 | r = FLASH_STATUS();                                                    
;----------------------------------------------------------------------
        ldp       @CL25,DP
        ldiu      @CL25,r0              ; |230| 
        callu     r0                    ; far call to _FLASH_STATUS	; |230| 
                                        ; |230| Far Call Occurs
        sti       r0,*+fp(4)            ; |230| 
	.line	28
;----------------------------------------------------------------------
; 232 | *FLASH_LOC = READ_ARRAY;                                               
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |232| 
        ldp       @CL4,DP
        ldiu      @CL4,r0               ; |232| 
        sti       r0,*ar0               ; |232| 
	.line	30
;----------------------------------------------------------------------
; 234 | FLASH_LOCK_BLK(addr, TRUE);                                            
;----------------------------------------------------------------------
        ldiu      1,r2                  ; |234| 
        ldp       @CL27,DP
        ldiu      *+fp(1),ar2           ; |234| 
        ldiu      @CL27,r0              ; |234| 
        callu     r0                    ; far call to _FLASH_LOCK_BLK	; |234| 
                                        ; |234| Far Call Occurs
	.line	32
;----------------------------------------------------------------------
; 236 | if (!r)                                                                
;----------------------------------------------------------------------
        ldiu      *+fp(4),r0            ; |236| 
        cmpi      0,r0                  ; |236| 
        bne       L86                   ; |236| 
;*      Branch Occurs to L86            ; |236| 
	.line	34
;----------------------------------------------------------------------
; 238 | for (i=0;i<n;i++)                                                      
;----------------------------------------------------------------------
        ldiu      0,r0                  ; |238| 
        sti       r0,*+fp(6)            ; |238| 
        ldiu      *+fp(6),r0            ; |238| 
        cmpi      *+fp(3),r0            ; |238| 
        bhs       L86                   ; |238| 
;*      Branch Occurs to L86            ; |238| 
L83:        
	.line	36
;----------------------------------------------------------------------
; 240 | if (addr[i] != data[i])                                                
;----------------------------------------------------------------------
        ldiu      *+fp(6),ar1           ; |240| 
        ldiu      *+fp(2),ir1           ; |240| 
        ldiu      *+fp(1),ir0           ; |240| 
        ldiu      ar1,ar0               ; |240| 
        cmpi3     *+ar1(ir1),*+ar0(ir0) ; |240| 
        beq       L85                   ; |240| 
;*      Branch Occurs to L85            ; |240| 
	.line	38
;----------------------------------------------------------------------
; 242 | r = FLASH_ERROR_PROG;                                                  
;----------------------------------------------------------------------
        ldiu      2,r0                  ; |242| 
        sti       r0,*+fp(4)            ; |242| 
	.line	39
;----------------------------------------------------------------------
; 243 | break;                                                                 
;----------------------------------------------------------------------
        bu        L86                   ; |243| 
;*      Branch Occurs to L86            ; |243| 
L85:        
	.line	34
        ldiu      1,r0                  ; |238| 
        addi      *+fp(6),r0            ; |238| 
        sti       r0,*+fp(6)            ; |238| 
        ldiu      *+fp(6),r0            ; |238| 
        cmpi      *+fp(3),r0            ; |238| 
        blo       L83                   ; |238| 
;*      Branch Occurs to L83            ; |238| 
L86:        
	.line	44
;----------------------------------------------------------------------
; 248 | ENABLE_WDOG; GIEP;                                                     
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |248| 
        ldiu      8,r0                  ; |248| 
        or3       r0,*ar0,r0            ; |248| 
        sti       r0,*ar0               ; |248| 
        ldiu      128,r0                ; |248| 
        or3       r0,*ar0,r0            ; |248| 
        sti       r0,*ar0               ; |248| 
	pop		ST			
	pop		ST			
	.line	46
;----------------------------------------------------------------------
; 250 | return r;                                                              
;----------------------------------------------------------------------
        ldiu      *+fp(4),r0            ; |250| 
L87:        
	.line	47
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1            ; |251| 
        ldiu      *fp,fp                ; |251| 
                                        ; Unallocate the Frame
        subi      8,sp                  ; |251| 
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	251,000000000h,6


	.sect	 "internal_RAM"

	.global	_FLASH_STATUS
	.sym	_FLASH_STATUS,_FLASH_STATUS,36,2,0
	.func	253
;******************************************************************************
;* FUNCTION NAME: _FLASH_STATUS                                               *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,ar0,st                                           *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
;******************************************************************************
_FLASH_STATUS:
	.sym	_r,1,14,1,32
	.sym	_status,2,14,1,32
	.line	1
;----------------------------------------------------------------------
; 253 | int FLASH_STATUS(void)                                                 
; 255 | unsigned int r;                                                        
; 256 | unsigned int status;                                                   
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      2,sp
	.line	6
;----------------------------------------------------------------------
; 258 | r = 0;                                                                 
;----------------------------------------------------------------------
        ldiu      0,r0                  ; |258| 
        sti       r0,*+fp(1)            ; |258| 
	.line	8
;----------------------------------------------------------------------
; 260 | _GIEP; DISABLE_WDOG;                                                   
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |260| 
        ldiu      247,r0                ; |260| 
        and3      r0,*ar0,r0            ; |260| 
        sti       r0,*ar0               ; |260| 
	pop		ST			
	.line	9
;----------------------------------------------------------------------
; 261 | *FLASH_LOC = READ_STATUS;                                              
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |261| 
        ldp       @CL31,DP
        ldiu      @CL31,r0              ; |261| 
        sti       r0,*ar0               ; |261| 
	.line	10
;----------------------------------------------------------------------
; 262 | status = *FLASH_LOC;                                                   
; 264 | while(TRUE)                                                            
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |262| 
        ldiu      *ar0,r0               ; |262| 
        sti       r0,*+fp(2)            ; |262| 
	.line	14
;----------------------------------------------------------------------
; 266 | if (status&0x00080008)                                                 
;----------------------------------------------------------------------
        ldp       @CL32,DP
        ldiu      @CL32,r0              ; |266| 
        tstb      *+fp(2),r0            ; |266| 
        beq       L91                   ; |266| 
;*      Branch Occurs to L91            ; |266| 
	.line	16
;----------------------------------------------------------------------
; 268 | r = FLASH_ERROR_VPP;                                                   
;----------------------------------------------------------------------
        ldiu      1,r0                  ; |268| 
        sti       r0,*+fp(1)            ; |268| 
	.line	17
;----------------------------------------------------------------------
; 269 | *FLASH_LOC = CLEAR_STATUS;                                             
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |269| 
        ldp       @CL33,DP
        ldiu      @CL33,r0              ; |269| 
        sti       r0,*ar0               ; |269| 
	.line	18
;----------------------------------------------------------------------
; 270 | break;                                                                 
;----------------------------------------------------------------------
        bu        L100                  ; |270| 
;*      Branch Occurs to L100           ; |270| 
L91:        
	.line	21
;----------------------------------------------------------------------
; 273 | if (status&0x00100010)                                                 
;----------------------------------------------------------------------
        ldp       @CL34,DP
        ldiu      @CL34,r0              ; |273| 
        tstb      *+fp(2),r0            ; |273| 
        beq       L93                   ; |273| 
;*      Branch Occurs to L93            ; |273| 
	.line	23
;----------------------------------------------------------------------
; 275 | r = FLASH_ERROR_PROG;                                                  
;----------------------------------------------------------------------
        ldiu      2,r0                  ; |275| 
        sti       r0,*+fp(1)            ; |275| 
	.line	24
;----------------------------------------------------------------------
; 276 | *FLASH_LOC = CLEAR_STATUS;                                             
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |276| 
        ldp       @CL33,DP
        ldiu      @CL33,r0              ; |276| 
        sti       r0,*ar0               ; |276| 
	.line	25
;----------------------------------------------------------------------
; 277 | break;                                                                 
;----------------------------------------------------------------------
        bu        L100                  ; |277| 
;*      Branch Occurs to L100           ; |277| 
L93:        
	.line	28
;----------------------------------------------------------------------
; 280 | if (status&0x00020002)                                                 
;----------------------------------------------------------------------
        ldp       @CL35,DP
        ldiu      @CL35,r0              ; |280| 
        tstb      *+fp(2),r0            ; |280| 
        beq       L95                   ; |280| 
;*      Branch Occurs to L95            ; |280| 
	.line	30
;----------------------------------------------------------------------
; 282 | r = FLASH_ERROR_LOCKED;                                                
;----------------------------------------------------------------------
        ldiu      4,r0                  ; |282| 
        sti       r0,*+fp(1)            ; |282| 
	.line	31
;----------------------------------------------------------------------
; 283 | *FLASH_LOC = CLEAR_STATUS;                                             
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |283| 
        ldp       @CL33,DP
        ldiu      @CL33,r0              ; |283| 
        sti       r0,*ar0               ; |283| 
	.line	32
;----------------------------------------------------------------------
; 284 | break;                                                                 
;----------------------------------------------------------------------
        bu        L100                  ; |284| 
;*      Branch Occurs to L100           ; |284| 
L95:        
	.line	35
;----------------------------------------------------------------------
; 287 | if (status&0x00300030)                                                 
;----------------------------------------------------------------------
        ldp       @CL36,DP
        ldiu      @CL36,r0              ; |287| 
        tstb      *+fp(2),r0            ; |287| 
        beq       L97                   ; |287| 
;*      Branch Occurs to L97            ; |287| 
	.line	37
;----------------------------------------------------------------------
; 289 | r = FLASH_ERROR_CMD_SEQ;                                               
;----------------------------------------------------------------------
        ldiu      16,r0                 ; |289| 
        sti       r0,*+fp(1)            ; |289| 
	.line	38
;----------------------------------------------------------------------
; 290 | *FLASH_LOC = CLEAR_STATUS;                                             
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |290| 
        ldp       @CL33,DP
        ldiu      @CL33,r0              ; |290| 
        sti       r0,*ar0               ; |290| 
	.line	39
;----------------------------------------------------------------------
; 291 | break;                                                                 
;----------------------------------------------------------------------
        bu        L100                  ; |291| 
;*      Branch Occurs to L100           ; |291| 
L97:        
	.line	42
;----------------------------------------------------------------------
; 294 | if (status&0x00200020)                                                 
;----------------------------------------------------------------------
        ldp       @CL28,DP
        ldiu      @CL28,r0              ; |294| 
        tstb      *+fp(2),r0            ; |294| 
        beq       L100                  ; |294| 
;*      Branch Occurs to L100           ; |294| 
	.line	44
;----------------------------------------------------------------------
; 296 | r = FLASH_ERROR_BLK_ERASE;                                             
;----------------------------------------------------------------------
        ldiu      8,r0                  ; |296| 
        sti       r0,*+fp(1)            ; |296| 
	.line	45
;----------------------------------------------------------------------
; 297 | *FLASH_LOC = CLEAR_STATUS;                                             
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |297| 
        ldp       @CL33,DP
        ldiu      @CL33,r0              ; |297| 
        sti       r0,*ar0               ; |297| 
	.line	46
;----------------------------------------------------------------------
; 298 | break;                                                                 
;----------------------------------------------------------------------
        bu        L100                  ; |298| 
;*      Branch Occurs to L100           ; |298| 
	.line	49
;----------------------------------------------------------------------
; 301 | break;                                                                 
;----------------------------------------------------------------------
	.line	50
L100:        
	.line	52
;----------------------------------------------------------------------
; 304 | ENABLE_WDOG; GIEP;                                                     
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |304| 
        ldiu      8,r0                  ; |304| 
        or3       r0,*ar0,r0            ; |304| 
        sti       r0,*ar0               ; |304| 
        ldiu      128,r0                ; |304| 
        or3       r0,*ar0,r0            ; |304| 
        sti       r0,*ar0               ; |304| 
	pop		ST			
	pop		ST			
	.line	53
;----------------------------------------------------------------------
; 305 | return r;                                                              
;----------------------------------------------------------------------
        ldiu      *+fp(1),r0            ; |305| 
	.line	54
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1            ; |306| 
        ldiu      *fp,fp                ; |306| 
                                        ; Unallocate the Frame
        subi      4,sp                  ; |306| 
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	306,000000000h,2


	.sect	 "internal_RAM"

	.global	_FLASH_READ_ESN_MFGR
	.sym	_FLASH_READ_ESN_MFGR,_FLASH_READ_ESN_MFGR,32,2,0
	.func	308
;******************************************************************************
;* FUNCTION NAME: _FLASH_READ_ESN_MFGR                                        *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,ar0,ar1,ar2,ir0,ir1,st                           *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
;******************************************************************************
_FLASH_READ_ESN_MFGR:
;* ar2   assigned to _dat
	.sym	_dat,10,30,17,32
	.sym	_dat,1,30,1,32
	.sym	_i,2,4,1,32
	.line	1
;----------------------------------------------------------------------
; 308 | void FLASH_READ_ESN_MFGR(unsigned int* dat)                            
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      2,sp
	.line	2
;----------------------------------------------------------------------
; 310 | int i;                                                                 
;----------------------------------------------------------------------
        sti       ar2,*+fp(1)           ; |309| 
	.line	5
;----------------------------------------------------------------------
; 312 | _GIEP; DISABLE_WDOG;                                                   
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |312| 
        ldiu      247,r0                ; |312| 
        and3      r0,*ar0,r0            ; |312| 
        sti       r0,*ar0               ; |312| 
	pop		ST			
	.line	6
;----------------------------------------------------------------------
; 313 | *FLASH_LOC = READ_CONFIG;                                              
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |313| 
        ldp       @CL2,DP
        ldiu      @CL2,r0               ; |313| 
        sti       r0,*ar0               ; |313| 
	.line	7
;----------------------------------------------------------------------
; 314 | for(i=0;i<4;i++)                                                       
;----------------------------------------------------------------------
        ldiu      0,r0                  ; |314| 
        sti       r0,*+fp(2)            ; |314| 
        cmpi      4,r0                  ; |314| 
        bge       L105                  ; |314| 
;*      Branch Occurs to L105           ; |314| 
L104:        
	.line	9
;----------------------------------------------------------------------
; 316 | dat[i] = FLASH_LOC[i+0x81];                                            
;----------------------------------------------------------------------
        ldp       @CL37,DP
        ldiu      *+fp(2),ir0           ; |316| 
        ldiu      *+fp(1),ir1           ; |316| 
        ldiu      @CL37,ar1             ; |316| 
        ldiu      ir0,ar0               ; |316| 
        ldiu      *+ar1(ir0),r0         ; |316| 
        sti       r0,*+ar0(ir1)         ; |316| 
	.line	7
        ldiu      1,r0                  ; |314| 
        addi      *+fp(2),r0            ; |314| 
        sti       r0,*+fp(2)            ; |314| 
        cmpi      4,r0                  ; |314| 
        blt       L104                  ; |314| 
;*      Branch Occurs to L104           ; |314| 
L105:        
	.line	12
;----------------------------------------------------------------------
; 319 | dat[4] = FLASH_LOC[0x80];       /*ESN status - check bits 0,16, if they
;     |  are 0 then it is locked*/                                             
;----------------------------------------------------------------------
        ldp       @CL38,DP
        ldiu      @CL38,ar0             ; |319| 
        ldiu      *+fp(1),ar1           ; |319| 
        ldiu      *ar0,r0               ; |319| 
        sti       r0,*+ar1(4)           ; |319| 
	.line	14
;----------------------------------------------------------------------
; 321 | *FLASH_LOC = READ_ARRAY;                                               
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |321| 
        ldp       @CL4,DP
        ldiu      @CL4,r0               ; |321| 
        sti       r0,*ar0               ; |321| 
	.line	15
;----------------------------------------------------------------------
; 322 | ENABLE_WDOG; GIEP;                                                     
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |322| 
        ldiu      8,r0                  ; |322| 
        or3       r0,*ar0,r0            ; |322| 
        sti       r0,*ar0               ; |322| 
        ldiu      128,r0                ; |322| 
        or3       r0,*ar0,r0            ; |322| 
        sti       r0,*ar0               ; |322| 
	pop		ST			
	pop		ST			
	.line	16
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1
        ldiu      *fp,fp
                                        ; Unallocate the Frame
        subi      4,sp
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	323,000000000h,2


	.sect	 "internal_RAM"

	.global	_FLASH_READ_ESN_USER
	.sym	_FLASH_READ_ESN_USER,_FLASH_READ_ESN_USER,32,2,0
	.func	325
;******************************************************************************
;* FUNCTION NAME: _FLASH_READ_ESN_USER                                        *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,ar0,ar1,ar2,ir0,ir1,st                           *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
;******************************************************************************
_FLASH_READ_ESN_USER:
;* ar2   assigned to _dat
	.sym	_dat,10,30,17,32
	.sym	_dat,1,30,1,32
	.sym	_i,2,4,1,32
	.line	1
;----------------------------------------------------------------------
; 325 | void FLASH_READ_ESN_USER(unsigned int* dat)                            
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      2,sp
	.line	2
;----------------------------------------------------------------------
; 327 | int i;                                                                 
;----------------------------------------------------------------------
        sti       ar2,*+fp(1)           ; |326| 
	.line	5
;----------------------------------------------------------------------
; 329 | _GIEP; DISABLE_WDOG;                                                   
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |329| 
        ldiu      247,r0                ; |329| 
        and3      r0,*ar0,r0            ; |329| 
        sti       r0,*ar0               ; |329| 
	pop		ST			
	.line	6
;----------------------------------------------------------------------
; 330 | *FLASH_LOC = READ_CONFIG;                                              
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |330| 
        ldp       @CL2,DP
        ldiu      @CL2,r0               ; |330| 
        sti       r0,*ar0               ; |330| 
	.line	7
;----------------------------------------------------------------------
; 331 | for(i=0;i<4;i++)                                                       
;----------------------------------------------------------------------
        ldiu      0,r0                  ; |331| 
        sti       r0,*+fp(2)            ; |331| 
        cmpi      4,r0                  ; |331| 
        bge       L110                  ; |331| 
;*      Branch Occurs to L110           ; |331| 
L109:        
	.line	9
;----------------------------------------------------------------------
; 333 | dat[i] = FLASH_LOC[i+0x85];                                            
;----------------------------------------------------------------------
        ldp       @CL39,DP
        ldiu      *+fp(2),ir0           ; |333| 
        ldiu      *+fp(1),ir1           ; |333| 
        ldiu      @CL39,ar1             ; |333| 
        ldiu      ir0,ar0               ; |333| 
        ldiu      *+ar1(ir0),r0         ; |333| 
        sti       r0,*+ar0(ir1)         ; |333| 
	.line	7
        ldiu      1,r0                  ; |331| 
        addi      *+fp(2),r0            ; |331| 
        sti       r0,*+fp(2)            ; |331| 
        cmpi      4,r0                  ; |331| 
        blt       L109                  ; |331| 
;*      Branch Occurs to L109           ; |331| 
L110:        
	.line	12
;----------------------------------------------------------------------
; 336 | dat[4] = FLASH_LOC[0x80];       /*ESN status - check bits 1,17, if they
;     |  are 0 then it is locked*/                                             
;----------------------------------------------------------------------
        ldp       @CL38,DP
        ldiu      @CL38,ar0             ; |336| 
        ldiu      *+fp(1),ar1           ; |336| 
        ldiu      *ar0,r0               ; |336| 
        sti       r0,*+ar1(4)           ; |336| 
	.line	14
;----------------------------------------------------------------------
; 338 | *FLASH_LOC = READ_ARRAY;                                               
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |338| 
        ldp       @CL4,DP
        ldiu      @CL4,r0               ; |338| 
        sti       r0,*ar0               ; |338| 
	.line	15
;----------------------------------------------------------------------
; 339 | ENABLE_WDOG; GIEP;                                                     
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |339| 
        ldiu      8,r0                  ; |339| 
        or3       r0,*ar0,r0            ; |339| 
        sti       r0,*ar0               ; |339| 
        ldiu      128,r0                ; |339| 
        or3       r0,*ar0,r0            ; |339| 
        sti       r0,*ar0               ; |339| 
	pop		ST			
	pop		ST			
	.line	16
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1
        ldiu      *fp,fp
                                        ; Unallocate the Frame
        subi      4,sp
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	340,000000000h,2


	.sect	 "internal_RAM"

	.global	_FLASH_WRITE_ESN_USER
	.sym	_FLASH_WRITE_ESN_USER,_FLASH_WRITE_ESN_USER,36,2,0
	.func	342
;******************************************************************************
;* FUNCTION NAME: _FLASH_WRITE_ESN_USER                                       *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,ar0,ar1,ar2,ir0,ir1,st                           *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 4 Auto + 0 SOE = 6 words          *
;******************************************************************************
_FLASH_WRITE_ESN_USER:
;* ar2   assigned to _dat
	.sym	_dat,10,30,17,32
	.sym	_dat,1,30,1,32
	.sym	_r,2,4,1,32
	.sym	_i,3,4,1,32
	.sym	_status,4,14,1,32
	.line	1
;----------------------------------------------------------------------
; 342 | int FLASH_WRITE_ESN_USER(unsigned int* dat)                            
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      4,sp
	.line	2
;----------------------------------------------------------------------
; 344 | int r;                                                                 
; 345 | int i;                                                                 
; 346 | unsigned int status;                                                   
;----------------------------------------------------------------------
        sti       ar2,*+fp(1)           ; |343| 
	.line	7
;----------------------------------------------------------------------
; 348 | _GIEP; DISABLE_WDOG;                                                   
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |348| 
        ldiu      247,r0                ; |348| 
        and3      r0,*ar0,r0            ; |348| 
        sti       r0,*ar0               ; |348| 
	pop		ST			
	.line	9
;----------------------------------------------------------------------
; 350 | *FLASH_LOC = READ_CONFIG;                                              
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |350| 
        ldp       @CL2,DP
        ldiu      @CL2,r0               ; |350| 
        sti       r0,*ar0               ; |350| 
	.line	10
;----------------------------------------------------------------------
; 351 | status = FLASH_LOC[0x80];                                              
;----------------------------------------------------------------------
        ldp       @CL38,DP
        ldiu      @CL38,ar0             ; |351| 
        ldiu      *ar0,r0               ; |351| 
        sti       r0,*+fp(4)            ; |351| 
	.line	11
;----------------------------------------------------------------------
; 352 | *FLASH_LOC = READ_ARRAY;                                               
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |352| 
        ldp       @CL4,DP
        ldiu      @CL4,r0               ; |352| 
        sti       r0,*ar0               ; |352| 
	.line	12
;----------------------------------------------------------------------
; 353 | if ((status & 0x00020002) != 0x00020002)                               
;----------------------------------------------------------------------
        ldp       @CL35,DP
        ldiu      @CL35,r0              ; |353| 
        and       *+fp(4),r0            ; |353| 
        cmpi      @CL35,r0              ; |353| 
        beq       L115                  ; |353| 
;*      Branch Occurs to L115           ; |353| 
	.line	14
;----------------------------------------------------------------------
; 355 | ENABLE_WDOG; GIEP;                                                     
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |355| 
        ldiu      8,r0                  ; |355| 
        or3       r0,*ar0,r0            ; |355| 
        sti       r0,*ar0               ; |355| 
        ldiu      128,r0                ; |355| 
        or3       r0,*ar0,r0            ; |355| 
        sti       r0,*ar0               ; |355| 
	pop		ST			
	pop		ST			
	.line	15
;----------------------------------------------------------------------
; 356 | return -1;      /*protection register is already locked*/              
;----------------------------------------------------------------------
        bud       L120                  ; |356| 
	nop
	nop
        ldiu      -1,r0                 ; |356| 
;*      Branch Occurs to L120           ; |356| 
L115:        
	.line	18
;----------------------------------------------------------------------
; 359 | for(i=0;i<4;i++)                                                       
;----------------------------------------------------------------------
        ldiu      0,r0                  ; |359| 
        sti       r0,*+fp(3)            ; |359| 
        cmpi      4,r0                  ; |359| 
        bge       L119                  ; |359| 
;*      Branch Occurs to L119           ; |359| 
L116:        
	.line	20
;----------------------------------------------------------------------
; 361 | *FLASH_LOC = PROTECT_PROG;                                             
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |361| 
        ldp       @CL40,DP
        ldiu      @CL40,r0              ; |361| 
        sti       r0,*ar0               ; |361| 
	.line	21
;----------------------------------------------------------------------
; 362 | dat[i] = FLASH_LOC[i+0x85];                                            
;----------------------------------------------------------------------
        ldp       @CL39,DP
        ldiu      *+fp(3),ir0           ; |362| 
        ldiu      @CL39,ar1             ; |362| 
        ldiu      *+fp(1),ir1           ; |362| 
        ldiu      ir0,ar0               ; |362| 
        ldiu      *+ar1(ir0),r0         ; |362| 
        sti       r0,*+ar0(ir1)         ; |362| 
	.line	22
;----------------------------------------------------------------------
; 363 | *FLASH_LOC = READ_STATUS;                                              
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |363| 
        ldp       @CL31,DP
        ldiu      @CL31,r0              ; |363| 
        sti       r0,*ar0               ; |363| 
	.line	23
;----------------------------------------------------------------------
; 364 | status = *FLASH_LOC;                                                   
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |364| 
        ldiu      *ar0,r0               ; |364| 
        sti       r0,*+fp(4)            ; |364| 
	.line	24
;----------------------------------------------------------------------
; 365 | while (!((status & 0x00800080)==0x00800080))                           
;----------------------------------------------------------------------
        ldp       @CL29,DP
        ldiu      @CL29,r0              ; |365| 
        and       *+fp(4),r0            ; |365| 
        cmpi      @CL29,r0              ; |365| 
        beq       L118                  ; |365| 
;*      Branch Occurs to L118           ; |365| 
L117:        
	.line	26
;----------------------------------------------------------------------
; 367 | status = *FLASH_LOC;                                                   
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |367| 
        ldiu      *ar0,r0               ; |367| 
        sti       r0,*+fp(4)            ; |367| 
	.line	24
        ldp       @CL29,DP
        ldiu      @CL29,r0              ; |365| 
        and       *+fp(4),r0            ; |365| 
        cmpi      @CL29,r0              ; |365| 
        bne       L117                  ; |365| 
;*      Branch Occurs to L117           ; |365| 
L118:        
	.line	18
        ldiu      1,r0                  ; |359| 
        addi      *+fp(3),r0            ; |359| 
        sti       r0,*+fp(3)            ; |359| 
        cmpi      4,r0                  ; |359| 
        blt       L116                  ; |359| 
;*      Branch Occurs to L116           ; |359| 
L119:        
	.line	30
;----------------------------------------------------------------------
; 371 | r = FLASH_STATUS();                                                    
;----------------------------------------------------------------------
        ldp       @CL25,DP
        ldiu      @CL25,r0              ; |371| 
        callu     r0                    ; far call to _FLASH_STATUS	; |371| 
                                        ; |371| Far Call Occurs
        sti       r0,*+fp(2)            ; |371| 
	.line	32
;----------------------------------------------------------------------
; 373 | *FLASH_LOC = READ_ARRAY;                                               
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |373| 
        ldp       @CL4,DP
        ldiu      @CL4,r0               ; |373| 
        sti       r0,*ar0               ; |373| 
	.line	34
;----------------------------------------------------------------------
; 375 | r = FLASH_LOCK_ESN_USER();                                             
;----------------------------------------------------------------------
        ldp       @CL41,DP
        ldiu      @CL41,r0              ; |375| 
        callu     r0                    ; far call to _FLASH_LOCK_ESN_USER	; |375| 
                                        ; |375| Far Call Occurs
        sti       r0,*+fp(2)            ; |375| 
	.line	36
;----------------------------------------------------------------------
; 377 | ENABLE_WDOG; GIEP;                                                     
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |377| 
        ldiu      8,r0                  ; |377| 
        or3       r0,*ar0,r0            ; |377| 
        sti       r0,*ar0               ; |377| 
        ldiu      128,r0                ; |377| 
        or3       r0,*ar0,r0            ; |377| 
        sti       r0,*ar0               ; |377| 
	pop		ST			
	pop		ST			
	.line	38
;----------------------------------------------------------------------
; 379 | return r;                                                              
;----------------------------------------------------------------------
        ldiu      *+fp(2),r0            ; |379| 
L120:        
	.line	39
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1            ; |380| 
        ldiu      *fp,fp                ; |380| 
                                        ; Unallocate the Frame
        subi      6,sp                  ; |380| 
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	380,000000000h,4


	.sect	 "internal_RAM"

	.global	_FLASH_LOCK_ESN_USER
	.sym	_FLASH_LOCK_ESN_USER,_FLASH_LOCK_ESN_USER,36,2,0
	.func	382
;******************************************************************************
;* FUNCTION NAME: _FLASH_LOCK_ESN_USER                                        *
;*                                                                            *
;*   Architecture       : TMS320C33                                           *
;*   Calling Convention : TI Standard Register Parameters                     *
;*   Function Uses Regs : r0,ar0,st                                           *
;*   Regs Saved         :                                                     *
;*   Stack Frame        : Full (w/ debug)                                     *
;*   Total Frame Size   : 2 Call + 0 Parm + 2 Auto + 0 SOE = 4 words          *
;******************************************************************************
_FLASH_LOCK_ESN_USER:
	.sym	_r,1,4,1,32
	.sym	_status,2,14,1,32
	.line	1
;----------------------------------------------------------------------
; 382 | int FLASH_LOCK_ESN_USER(void)                                          
; 384 | int r;                                                                 
; 385 | unsigned int status;                                                   
;----------------------------------------------------------------------
        push      fp
        ldiu      sp,fp
        addi      2,sp
	.line	6
;----------------------------------------------------------------------
; 387 | _GIEP; DISABLE_WDOG;                                                   
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |387| 
        ldiu      247,r0                ; |387| 
        and3      r0,*ar0,r0            ; |387| 
        sti       r0,*ar0               ; |387| 
	pop		ST			
	.line	8
;----------------------------------------------------------------------
; 389 | *FLASH_LOC = PROTECT_PROG;                                             
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |389| 
        ldp       @CL40,DP
        ldiu      @CL40,r0              ; |389| 
        sti       r0,*ar0               ; |389| 
	.line	9
;----------------------------------------------------------------------
; 390 | FLASH_LOC[0x80] = 0xFFFDFFFD;   /* PERMANENTLY LOCK user ESN */        
;----------------------------------------------------------------------
        ldp       @CL38,DP
        ldiu      @CL38,ar0             ; |390| 
        ldp       @CL42,DP
        ldiu      @CL42,r0              ; |390| 
        sti       r0,*ar0               ; |390| 
	.line	10
;----------------------------------------------------------------------
; 391 | *FLASH_LOC = READ_STATUS;                                              
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |391| 
        ldp       @CL31,DP
        ldiu      @CL31,r0              ; |391| 
        sti       r0,*ar0               ; |391| 
	.line	11
;----------------------------------------------------------------------
; 392 | status = *FLASH_LOC;                                                   
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |392| 
        ldiu      *ar0,r0               ; |392| 
        sti       r0,*+fp(2)            ; |392| 
	.line	12
;----------------------------------------------------------------------
; 393 | while (!((status & 0x00800080)==0x00800080))                           
;----------------------------------------------------------------------
        ldp       @CL29,DP
        ldiu      @CL29,r0              ; |393| 
        and       *+fp(2),r0            ; |393| 
        cmpi      @CL29,r0              ; |393| 
        beq       L124                  ; |393| 
;*      Branch Occurs to L124           ; |393| 
L123:        
	.line	14
;----------------------------------------------------------------------
; 395 | status = *FLASH_LOC;                                                   
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |395| 
        ldiu      *ar0,r0               ; |395| 
        sti       r0,*+fp(2)            ; |395| 
	.line	12
        ldp       @CL29,DP
        ldiu      @CL29,r0              ; |393| 
        and       *+fp(2),r0            ; |393| 
        cmpi      @CL29,r0              ; |393| 
        bne       L123                  ; |393| 
;*      Branch Occurs to L123           ; |393| 
L124:        
	.line	17
;----------------------------------------------------------------------
; 398 | r = FLASH_STATUS();                                                    
;----------------------------------------------------------------------
        ldp       @CL25,DP
        ldiu      @CL25,r0              ; |398| 
        callu     r0                    ; far call to _FLASH_STATUS	; |398| 
                                        ; |398| Far Call Occurs
        sti       r0,*+fp(1)            ; |398| 
	.line	19
;----------------------------------------------------------------------
; 400 | *FLASH_LOC = READ_ARRAY;                                               
;----------------------------------------------------------------------
        ldp       @CL1,DP
        ldiu      @CL1,ar0              ; |400| 
        ldp       @CL4,DP
        ldiu      @CL4,r0               ; |400| 
        sti       r0,*ar0               ; |400| 
	.line	21
;----------------------------------------------------------------------
; 402 | ENABLE_WDOG; GIEP;                                                     
;----------------------------------------------------------------------
	push	ST			
	andn	2000h, ST	
        ldp       @CL26,DP
        ldiu      @CL26,ar0             ; |402| 
        ldiu      8,r0                  ; |402| 
        or3       r0,*ar0,r0            ; |402| 
        sti       r0,*ar0               ; |402| 
        ldiu      128,r0                ; |402| 
        or3       r0,*ar0,r0            ; |402| 
        sti       r0,*ar0               ; |402| 
	pop		ST			
	pop		ST			
	.line	23
;----------------------------------------------------------------------
; 404 | return r;                                                              
;----------------------------------------------------------------------
        ldiu      *+fp(1),r0            ; |404| 
	.line	24
                                        ; Begin Epilog Code
        ldiu      *-fp(1),r1            ; |405| 
        ldiu      *fp,fp                ; |405| 
                                        ; Unallocate the Frame
        subi      4,sp                  ; |405| 
        bu        r1
;*      Branch Occurs to r1 
	.endfunc	405,000000000h,2



	.global	_SRAM_SCRATCHPAD
	.bss	_SRAM_SCRATCHPAD,1
	.sym	_SRAM_SCRATCHPAD,_SRAM_SCRATCHPAD,30,2,32
;******************************************************************************
;* CONSTANT TABLE                                                             *
;******************************************************************************
	.sect	".const"
	.bss	CL1,1
	.bss	CL2,1
	.bss	CL3,1
	.bss	CL4,1
	.bss	CL5,1
	.bss	CL6,1
	.bss	CL7,1
	.bss	CL8,1
	.bss	CL9,1
	.bss	CL10,1
	.bss	CL11,1
	.bss	CL12,1
	.bss	CL13,1
	.bss	CL14,1
	.bss	CL15,1
	.bss	CL16,1
	.bss	CL17,1
	.bss	CL18,1
	.bss	CL19,1
	.bss	CL20,1
	.bss	CL21,1
	.bss	CL22,1
	.bss	CL23,1
	.bss	CL24,1
	.bss	CL25,1
	.bss	CL26,1
	.bss	CL27,1
	.bss	CL28,1
	.bss	CL29,1
	.bss	CL30,1
	.bss	CL31,1
	.bss	CL32,1
	.bss	CL33,1
	.bss	CL34,1
	.bss	CL35,1
	.bss	CL36,1
	.bss	CL37,1
	.bss	CL38,1
	.bss	CL39,1
	.bss	CL40,1
	.bss	CL41,1
	.bss	CL42,1

	.sect	".cinit"
	.field  	42,32
	.field  	CL1+0,32
	.field  	4194304,32
	.field  	9437328,32
	.field  	4194305,32
	.field  	16711935,32
	.field  	524288,32
	.field  	1048576,32
	.field  	2097152,32
	.field  	4194304,32
	.field  	65535,32
	.field  	35009,32
	.field  	35011,32
	.field  	35013,32
	.field  	35021,32
	.field  	_FLASH_SIZE,32
	.field  	4227072,32
	.field  	4227072,32
	.field  	-4096,32
	.field  	32768,32
	.field  	-32768,32
	.field  	_FLASH_CHECK_ADDR,32
	.field  	6291552,32
	.field  	13631696,32
	.field  	65537,32
	.field  	3080239,32
	.field  	_FLASH_STATUS,32
	.field  	9437188,32
	.field  	_FLASH_LOCK_BLK,32
	.field  	2097184,32
	.field  	8388736,32
	.field  	4194368,32
	.field  	7340144,32
	.field  	524296,32
	.field  	5242960,32
	.field  	1048592,32
	.field  	131074,32
	.field  	3145776,32
	.field  	4194433,32
	.field  	4194432,32
	.field  	4194437,32
	.field  	12583104,32
	.field  	_FLASH_LOCK_ESN_USER,32
	.field  	-131075,32

	.sect	".text"
